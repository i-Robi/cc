!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/assign"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("./Process"),v=r(m),g=e("./Signal"),y=(r(g),e("./SignalAll")),_=r(y),A=e("./socket"),w=r(A),T=e("../views/View"),S=r(T),k=e("./viewManager"),C=r(k),P=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];(0,u["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,e));return r.hasStarted=!1,n&&(r.hasNetwork=!0,w["default"].required=!0),r.view=null,r.viewEvents={},r.viewOptions={},r.viewCtor=S["default"],r.options={viewPriority:0},r.requiredSignals=new _["default"],r.send=r.send.bind(r),r.sendVolatile=r.sendVolatile.bind(r),r.receive=r.receive.bind(r),r.removeListener=r.removeListener.bind(r),r}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"require",value:function(){}},{key:"configure",value:function(e){(0,o["default"])(this.options,e)}},{key:"createView",value:function(){var e=(0,o["default"])({id:this.id.replace(/\:/g,"-"),className:"activity",priority:this.options.viewPriority},this.viewOptions);return new this.viewCtor(this.viewTemplate,this.viewContent,this.viewEvents,e)}},{key:"show",value:function(){this.view&&(this.view.render(),C["default"].register(this.view))}},{key:"hide",value:function(){this.view&&C["default"].remove(this.view)}},{key:"send",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];w["default"].send.apply(w["default"],[this.id+":"+e].concat(n))}},{key:"sendVolatile",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];w["default"].sendVolatile.apply(w["default"],[this.id+":"+e].concat(n))}},{key:"receive",value:function(e,t){w["default"].receive(this.id+":"+e,t)}},{key:"removeListener",value:function(e,t){w["default"].removeListener(this.id+":"+e,t)}},{key:"viewTemplate",get:function(){var e=this._viewTemplate||this.viewTemplateDefinitions[this.id]||this._defaultViewTemplate;return e},set:function(e){this._viewTemplate=e}},{key:"viewContent",get:function(){var e=this._viewContent||this.viewContentDefinitions[this.id]||this._defaultViewContent;return e&&(e.globals=this.viewContentDefinitions.globals),e},set:function(e){this._viewContent=e}}],[{key:"setViewTemplateDefinitions",value:function(e){t.prototype.viewTemplateDefinitions=e}},{key:"setViewContentDefinitions",value:function(e){t.prototype.viewContentDefinitions=e}}]),t}(v["default"]);n["default"]=P},{"../views/View":37,"./Process":2,"./Signal":5,"./SignalAll":6,"./socket":9,"./viewManager":10,"babel-runtime/core-js/object/assign":43,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/inherits"),f=r(d),p=e("events"),b=e("./Signal"),m=r(b),v=function(e){function t(e){(0,a["default"])(this,t);var n=(0,h["default"])(this,(0,o["default"])(t).call(this));return n.id=e,n.signals={},n.signals.active=new m["default"],n}return(0,f["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.signals.active.set(!0)}},{key:"stop",value:function(){this.signals.active.set(!1)}}]),t}(p.EventEmitter);n["default"]=v},{"./Signal":5,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,events:465}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/inherits"),f=r(d),p=e("./Activity"),b=r(p),m=e("./serviceManager"),v=r(m),g=e("./Signal"),y=r(g),_=function(e){function t(e,n){(0,a["default"])(this,t);var r=(0,h["default"])(this,(0,o["default"])(t).call(this,e,n));return r.requiredSignals.addObserver(function(e){e&&(r.start(),r.hasStarted=!0)}),r.signals.done=new y["default"],r.requiredSignals.add(v["default"].signals.ready),r}return(0,f["default"])(t,e),(0,u["default"])(t,[{key:"require",value:function(e,t){return v["default"].require(e,t)}},{key:"waitFor",value:function(e){this.requiredSignals.add(e)}},{key:"done",value:function(){this.hide(),this.signals.done.set(!0)}}]),t}(b["default"]);n["default"]=_},{"./Activity":1,"./Signal":5,"./serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("./Activity"),v=r(m),g=e("debug"),y=r(g),_=e("./serviceManager"),A=r(_),w=e("./Signal"),T=r(w),S=e("./SignalAll"),k=(r(S),(0,y["default"])("soundworks:services")),C=function(e){function t(e,n){(0,a["default"])(this,t);var r=(0,h["default"])(this,(0,o["default"])(t).call(this,e,n));return r.requiredSignals.addObserver(function(e){e?(r.start(),r.hasStarted=!0):r.stop()}),r.signals.ready=new T["default"],r.requiredSignals.add(A["default"].signals.start),r}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"ready",value:function(){this.stop(),k('"'+this.id+'" ready'),this.signals.ready.set(!0)}},{key:"require",value:function(e,t){var n=A["default"].require(e,t),r=n.signals.ready;if(!r)throw new Error('signal "continue" doesn\'t exist on service :',n);return this.requiredSignals.add(r),n}},{key:"init",value:function(){}},{key:"start",value:function(){k('"'+this.id+'" started'),(0,f["default"])((0,o["default"])(t.prototype),"start",this).call(this)}},{key:"stop",value:function(){k('"'+this.id+'" stopped'),(0,f["default"])((0,o["default"])(t.prototype),"stop",this).call(this)}}]),t}(v["default"]);n["default"]=C},{"./Activity":1,"./Signal":5,"./SignalAll":6,"./serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,debug:184}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/get-iterator"),o=r(i),s=e("babel-runtime/core-js/set"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=function(){function e(){(0,u["default"])(this,e),this._state=!1,this._observers=new a["default"]}return(0,h["default"])(e,[{key:"set",value:function(e){if(e!==this._state){this._state=e;var t=!0,n=!1,r=void 0;try{for(var i,s=(0,o["default"])(this._observers);!(t=(i=s.next()).done);t=!0){var a=i.value;a(e)}}catch(l){n=!0,r=l}finally{try{!t&&s["return"]&&s["return"]()}finally{if(n)throw r}}}}},{key:"get",value:function(){return this._state}},{key:"addObserver",value:function(e){this._observers.add(e)}},{key:"removeObserver",value:function(e){this._observers["delete"](e)}}]),e}();n["default"]=d},{"babel-runtime/core-js/get-iterator":40,"babel-runtime/core-js/set":51,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/get-iterator"),o=r(i),s=e("babel-runtime/core-js/set"),a=r(s),l=e("babel-runtime/core-js/object/get-prototype-of"),u=r(l),c=e("babel-runtime/helpers/classCallCheck"),h=r(c),d=e("babel-runtime/helpers/createClass"),f=r(d),p=e("babel-runtime/helpers/possibleConstructorReturn"),b=r(p),m=e("babel-runtime/helpers/get"),v=r(m),g=e("babel-runtime/helpers/inherits"),y=r(g),_=e("./Signal"),A=r(_),w=function(e){function t(){(0,h["default"])(this,t);var e=(0,b["default"])(this,(0,u["default"])(t).call(this));return e._dependencies=new a["default"],e}return(0,y["default"])(t,e),(0,f["default"])(t,[{key:"add",value:function(e){var n=this;this._dependencies.add(e),e.addObserver(function(){var e=!0,r=!0,i=!1,s=void 0;try{for(var a,l=(0,o["default"])(n._dependencies);!(r=(a=l.next()).done);r=!0){var c=a.value;e=e&&c.get()}}catch(h){i=!0,s=h}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw s}}(0,v["default"])((0,u["default"])(t.prototype),"set",n).call(n,e)})}},{key:"set",value:function(e){}},{key:"length",get:function(){return this._dependencies.size}}]),t}(A["default"]);n["default"]=w},{"./Signal":5,"babel-runtime/core-js/get-iterator":40,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/set":51,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/assign"),o=r(i),s=e("./Signal"),a=(r(s),e("./Activity")),l=r(a),u=e("./serviceManager"),c=r(u),h=e("./viewManager"),d=r(h),f=e("./socket"),p=r(f),b=e("../views/viewport"),m=r(b),v={uuid:null,type:null,config:null,urlParams:null,platform:{os:null,isMobile:null,audioFileExt:""},compatible:null,index:null,label:null,coordinates:null,socket:null,init:function(){var e=arguments.length<=0||void 0===arguments[0]?"player":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.type=e,this._parseUrlParams();var n=(0,o["default"])({url:"",transports:["websocket"]},t.socketIO);this.config=(0,o["default"])({appContainer:"#container"},t,{socketIO:n}),c["default"].init(),this._initViews()},start:function(){p["default"].required?this._initSocket():c["default"].start()},require:function(e,t){return c["default"].require(e,t)},_parseUrlParams:function(){var e=window.location.pathname;e=e.replace(/^\//,"").replace(new RegExp("^"+this.type+"/?"),"").replace(/\/$/,""),e.length>0&&(this.urlParams=e.split("/"))},_initSocket:function(){var e=this;this.socket=p["default"].initialize(this.type,this.config.socketIO),this.socket.addStateListener(function(t){switch(t){case"connect":e.socket.send("handshake",{urlParams:e.urlParams}),e.socket.receive("client:start",function(t){e.uuid=t,c["default"].start()})}})},_initViews:function(){m["default"].init(),this.viewContent={},this.viewTemplates={};var e=this.config.appName||"Soundworks";this.setViewContentDefinitions({globals:{appName:e}}),this.setAppContainer(this.config.appContainer)},setViewContentDefinitions:function(e){for(var t in e){var n=e[t];this.viewContent[t]?(0,o["default"])(this.viewContent[t],n):this.viewContent[t]=n}l["default"].setViewContentDefinitions(this.viewContent)},setViewTemplateDefinitions:function(e){this.viewTemplates=(0,o["default"])(this.viewTemplates,e),l["default"].setViewTemplateDefinitions(this.viewTemplates)},setAppContainer:function(e){var t=e instanceof Element?e:document.querySelector(e);d["default"].setViewContainer(t)}};n["default"]=v},{"../views/viewport":38,"./Activity":1,"./Signal":5,"./serviceManager":8,"./socket":9,"./viewManager":10,"babel-runtime/core-js/object/assign":43}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./client"),o=(r(i),e("debug")),s=r(o),a=e("./Signal"),l=r(a),u=e("./SignalAll"),c=r(u),h=(0,s["default"])("soundworks:serviceManager"),d={},f={},p={init:function(){var e=this;h("init"),this._requiredSignals=new c["default"],this._requiredSignals.addObserver(function(){return e.ready()}),this.signals={},this.signals.start=new l["default"],this.signals.ready=new l["default"]},start:function(){h("start"),this.signals.start.set(!0),this._requiredSignals.length||this.ready()},ready:function(){h("ready"),this.signals.ready.set(!0)},require:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e="service:"+e,!f[e])throw new Error('Service "'+e+'" does not exists');var n=d[e];return n||(n=new f[e],this._requiredSignals.add(n.signals.ready),d[e]=n),n.configure(t),n},register:function(e,t){f[e]=t}};n["default"]=p},{"./Signal":5,"./SignalAll":6,"./client":7,debug:184}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/set"),o=r(i),s=e("debug"),a=r(s),l=e("socket.io-client"),u=r(l),c=(0,a["default"])("soundworks:socket"),h={socket:null,required:!1,initialize:function(e,t){var n=t.url+"/"+e;return this.socket=(0,u["default"])(n,{transports:t.transports}),c('initialized - url: "'+n+'" - transports: '+t.transports),this._stateListeners=new o["default"],this._state=null,this._listenSocketState(),this},addStateListener:function(e){this._stateListeners.add(e),null!==this._state&&e(this._state)},_listenSocketState:function(){var e=this;["connect","reconnect","disconnect","connect_error","reconnect_attempt","reconnecting","reconnect_error","reconnect_failed"].forEach(function(t){e.socket.on(t,function(){e._state=t,e._stateListeners.forEach(function(t){return t(e._state)})})})},send:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];(t=this.socket).emit.apply(t,[e].concat(r)),c.apply(void 0,['send - channel: "'+e+'"'].concat(r))},sendVolatile:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];(t=this.socket["volatile"]).emit.apply(t,[e].concat(r)),c.apply(void 0,['sendVolatile - channel: "'+e+'"'].concat(r))},receive:function(e,t){this.socket.removeListener(e,t),this.socket.on(e,t),c('receive listener - channel: "'+e+'"')},removeListener:function(e,t){this.socket.removeListener(e,t),c('remove listener - channel: "'+e+'"')}};n["default"]=h},{"babel-runtime/core-js/set":51,debug:184,"socket.io-client":290}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/set"),o=r(i),s=e("debug"),a=r(s),l=(0,a["default"])("soundworks:viewManager"),u=new o["default"],c=null,h={_timeoutId:null,register:function(e){var t=this;l('register - id: "'+e.options.id+'" - priority: '+e.priority),u.add(e),e.hide(),e.appendTo(c),this._timeoutId||(this.timeoutId=setTimeout(function(){t._updateView()},0))},remove:function(e){var t=this;l('remove - id: "'+e.options.id+'" - priority: '+e.priority),e.remove(),u["delete"](e),setTimeout(function(){t._updateView()},0)},setViewContainer:function(e){c=e},_updateView:function(){var e=void 0,t=-(1/0),n=null;u.forEach(function(r){r.isVisible&&(e=!0),r.priority>t&&(t=r.priority,n=r)}),n&&(e?e.priority<n.priority&&(l('update view - id: "'+n.options.id+'" - priority: '+t),e.hide(),n.show()):(l('update view - id: "'+n.options.id+'" - priority: '+t),n.show())),this.timeoutId=null}};n["default"]=h},{"babel-runtime/core-js/set":51,debug:184}],11:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.viewport=n.View=n.TouchSurface=n.SquaredView=n.SpaceView=n.SelectView=n.SegmentedView=n.RenderingGroup=n.Renderer=n.CanvasView=n.ButtonView=n.Scheduler=n.MotionInput=n.Loader=n.Sync=n.SharedParams=n.SharedConfig=n.Platform=n.Placer=n.Network=n.Locator=n.ErrorReporter=n.Checkin=n.Auth=n.Survey=n.Experience=n.BasicSharedController=n.SignalAll=n.Signal=n.serviceManager=n.Service=n.Scene=n.Process=n.client=n.Activity=n.audioContext=n.audio=void 0;var o=e("waves-audio");Object.defineProperty(n,"audioContext",{enumerable:!0,get:function(){return o.audioContext}});var s=e("./core/Activity");Object.defineProperty(n,"Activity",{enumerable:!0,get:function(){return i(s)["default"]}});var a=e("./core/client");Object.defineProperty(n,"client",{enumerable:!0,get:function(){return i(a)["default"]}});var l=e("./core/Process");Object.defineProperty(n,"Process",{enumerable:!0,get:function(){return i(l)["default"]}});var u=e("./core/Scene");Object.defineProperty(n,"Scene",{enumerable:!0,get:function(){return i(u)["default"]}});var c=e("./core/Service");Object.defineProperty(n,"Service",{enumerable:!0,get:function(){return i(c)["default"]}});var h=e("./core/serviceManager");Object.defineProperty(n,"serviceManager",{enumerable:!0,get:function(){return i(h)["default"]}});var d=e("./core/Signal");Object.defineProperty(n,"Signal",{enumerable:!0,get:function(){return i(d)["default"]}});var f=e("./core/SignalAll");Object.defineProperty(n,"SignalAll",{enumerable:!0,get:function(){return i(f)["default"]}});var p=e("./scenes/BasicSharedController");Object.defineProperty(n,"BasicSharedController",{enumerable:!0,get:function(){return i(p)["default"]}});var b=e("./scenes/Experience");Object.defineProperty(n,"Experience",{enumerable:!0,get:function(){return i(b)["default"]}});var m=e("./scenes/Survey");Object.defineProperty(n,"Survey",{enumerable:!0,get:function(){return i(m)["default"]}});var v=e("./services/Auth");Object.defineProperty(n,"Auth",{enumerable:!0,get:function(){return i(v)["default"]}});var g=e("./services/Checkin");Object.defineProperty(n,"Checkin",{enumerable:!0,get:function(){return i(g)["default"]}});var y=e("./services/ErrorReporter");Object.defineProperty(n,"ErrorReporter",{enumerable:!0,get:function(){return i(y)["default"]}});var _=e("./services/Locator");Object.defineProperty(n,"Locator",{enumerable:!0,get:function(){return i(_)["default"]}});var A=e("./services/Network");Object.defineProperty(n,"Network",{enumerable:!0,get:function(){return i(A)["default"]}});var w=e("./services/Placer");Object.defineProperty(n,"Placer",{enumerable:!0,get:function(){return i(w)["default"]}});var T=e("./services/Platform");Object.defineProperty(n,"Platform",{enumerable:!0,get:function(){return i(T)["default"]}});var S=e("./services/SharedConfig");Object.defineProperty(n,"SharedConfig",{enumerable:!0,get:function(){return i(S)["default"]}});var k=e("./services/SharedParams");Object.defineProperty(n,"SharedParams",{enumerable:!0,get:function(){return i(k)["default"]}});var C=e("./services/Sync");Object.defineProperty(n,"Sync",{enumerable:!0,get:function(){return i(C)["default"]}});var P=e("./services/Loader");Object.defineProperty(n,"Loader",{enumerable:!0,get:function(){return i(P)["default"]}});var M=e("./services/MotionInput");Object.defineProperty(n,"MotionInput",{enumerable:!0,get:function(){return i(M)["default"]}});var x=e("./services/Scheduler");Object.defineProperty(n,"Scheduler",{enumerable:!0,get:function(){return i(x)["default"]}});var j=e("./views/ButtonView");Object.defineProperty(n,"ButtonView",{enumerable:!0,get:function(){return i(j)["default"]}});var E=e("./views/CanvasView");Object.defineProperty(n,"CanvasView",{enumerable:!0,get:function(){return i(E)["default"]}});var R=e("./views/Renderer");Object.defineProperty(n,"Renderer",{enumerable:!0,get:function(){return i(R)["default"]}});var G=e("./views/RenderingGroup");Object.defineProperty(n,"RenderingGroup",{enumerable:!0,get:function(){return i(G)["default"]}});var O=e("./views/SegmentedView");Object.defineProperty(n,"SegmentedView",{enumerable:!0,get:function(){return i(O)["default"]}});var B=e("./views/SelectView");Object.defineProperty(n,"SelectView",{enumerable:!0,get:function(){return i(B)["default"]}});var I=e("./views/SpaceView");Object.defineProperty(n,"SpaceView",{enumerable:!0,get:function(){return i(I)["default"]}});var L=e("./views/SquaredView");Object.defineProperty(n,"SquaredView",{enumerable:!0,get:function(){return i(L)["default"]}});var D=e("./views/TouchSurface");Object.defineProperty(n,"TouchSurface",{enumerable:!0,get:function(){return i(D)["default"]}});var H=e("./views/View");Object.defineProperty(n,"View",{enumerable:!0,get:function(){return i(H)["default"]}});var V=e("./views/viewport");Object.defineProperty(n,"viewport",{enumerable:!0,get:function(){return i(V)["default"]}});var $=r(o);n.audio=$},{"./core/Activity":1,"./core/Process":2,"./core/Scene":3,"./core/Service":4,"./core/Signal":5,"./core/SignalAll":6,"./core/client":7,"./core/serviceManager":8,"./scenes/BasicSharedController":12,"./scenes/Experience":13,"./scenes/Survey":14,"./services/Auth":15,"./services/Checkin":16,"./services/ErrorReporter":17,"./services/Loader":18,"./services/Locator":19,"./services/MotionInput":20,"./services/Network":21,"./services/Placer":22,"./services/Platform":23,"./services/Scheduler":24,"./services/SharedConfig":25,"./services/SharedParams":26,"./services/Sync":27,"./views/ButtonView":28,"./views/CanvasView":29,"./views/Renderer":30,"./views/RenderingGroup":31,"./views/SegmentedView":32,"./views/SelectView":33,"./views/SpaceView":34,"./views/SquaredView":35,"./views/TouchSurface":36,"./views/View":37,"./views/viewport":38,"waves-audio":342}],12:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/assign"),s=i(o),a=e("babel-runtime/core-js/object/get-prototype-of"),l=i(a),u=e("babel-runtime/helpers/possibleConstructorReturn"),c=i(u),h=e("babel-runtime/helpers/get"),d=i(h),f=e("babel-runtime/helpers/inherits"),p=i(f),b=e("babel-runtime/helpers/classCallCheck"),m=i(b),v=e("babel-runtime/helpers/createClass"),g=i(v),y=e("waves-basic-controllers"),_=r(y),A=e("../core/client"),w=(i(A),e("../core/Scene")),T=i(w);_.disableStyles();var S=function(){function e(t,n,r){(0,m["default"])(this,e);var i=n.label,o=n.value;this.controller=new _.Toggle(i,o),t.appendChild(this.controller.render()),this.controller.onRender(),this.controller.on("change",function(e){if(r.confirm){var t='Are you sure you want to propagate "'+n.name+":"+e+'"';if(!window.confirm(t))return}n.update(e)})}return(0,g["default"])(e,[{key:"set",value:function(e){this.controller.value=e}}]),e}(),k=function(){function e(t,n,r){(0,m["default"])(this,e);var i=n.label,o=n.options,s=n.value,a="buttons"===r.type?_.SelectButtons:_.SelectList;this.controller=new a(i,o,s),t.appendChild(this.controller.render()),this.controller.onRender(),this.controller.on("change",function(e){if(r.confirm){var t='Are you sure you want to propagate "'+n.name+":"+e+'"';if(!window.confirm(t))return}n.update(e)})}return(0,g["default"])(e,[{key:"set",value:function(e){this.controller.value=e}}]),e}(),C=function(){function e(t,n,r){(0,m["default"])(this,e);var i=n.label,o=n.min,s=n.max,a=n.step,l=n.value;"slider"===r.type?this.controller=new _.Slider(i,o,s,a,l,r.param,r.size):this.controller=new _.NumberBox(i,o,s,a,l),t.appendChild(this.controller.render()),this.controller.onRender(),this.controller.on("change",function(e){if(r.confirm){var t='Are you sure you want to propagate "'+n.name+":"+e+'"';if(!window.confirm(t))return}n.update(e)})}return(0,g["default"])(e,[{key:"set",value:function(e){this.controller.value=e}}]),e}(),P=function(){function e(t,n,r){(0,m["default"])(this,e);var i=n.label,o=n.value;this.controller=new _.Text(i,o,r.readOnly),t.appendChild(this.controller.render()),this.controller.onRender(),r.readOnly||this.controller.on("change",function(e){if(r.confirm){var t='Are you sure you want to propagate "'+n.name+'"';if(!window.confirm(t))return}n.update(e)})}return(0,g["default"])(e,[{key:"set",value:function(e){this.controller.value=e}}]),e}(),M=function(){function e(t,n,r){(0,m["default"])(this,e);var i=n.label;this.controller=new _.Buttons("",[i]),t.appendChild(this.controller.render()),this.controller.onRender(),this.controller.on("change",function(){if(r.confirm){var e='Are you sure you want to propagate "'+n.name+'"';if(!window.confirm(e))return}n.update()})}return(0,g["default"])(e,[{key:"set",value:function(e){}}]),e}(),x="basic-shared-controller",j=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,m["default"])(this,t);var n=(0,c["default"])(this,(0,l["default"])(t).call(this,x,!0));return n._guiOptions=e,n._errorReporter=n.require("error-reporter"),n._sharedParams=n.require("shared-params"),n}return(0,p["default"])(t,e),(0,g["default"])(t,[{key:"init",value:function(){this.view=this.createView()}},{key:"start",value:function(){(0,d["default"])((0,l["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.show();for(var e in this._sharedParams.params)this.createGui(this._sharedParams.params[e])}},{key:"setGuiOptions",value:function(e,t){this._guiOptions[e]=t}},{key:"createGui",value:function(e){var t=(0,s["default"])({show:!0,confirm:!1},this._guiOptions[e.name]);if(t.show===!1)return null;var n=null,r=this.view.$el;switch(e.type){case"boolean":n=new S(r,e,t);break;case"enum":n=new k(r,e,t);break;case"number":n=new C(r,e,t);break;case"text":n=new P(r,e,t);break;case"trigger":n=new M(r,e,t)}e.addListener("update",function(e){return n.set(e)})}}]),t}(T["default"]);n["default"]=j},{"../core/Scene":3,"../core/client":7,"babel-runtime/core-js/object/assign":43,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"waves-basic-controllers":360}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/Scene"),v=r(m),g=e("../core/client"),y=r(g),_=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];(0,a["default"])(this,t);var n=(0,h["default"])(this,(0,o["default"])(t).call(this,"experience",e));return e&&(n._errorReporter=n.require("error-reporter")),n}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"init",value:function(){}},{key:"createView",value:function(){return this.viewOptions&&(Array.isArray(this.viewOptions.className)?this.viewOptions.clientType.push(y["default"].type):"string"==typeof this.viewOptions.className?this.viewOptions.className=[this.viewOptions.className,y["default"].type]:this.viewOptions.className=y["default"].type),(0,f["default"])((0,o["default"])(t.prototype),"createView",this).call(this)}},{key:"start",value:function(){(0,f["default"])((0,o["default"])(t.prototype),"start",this).call(this),this.hasNetwork&&this.send("enter")}},{key:"done",value:function(){this.hasNetwork&&this.send("exit"),(0,f["default"])((0,o["default"])(t.prototype),"done",this).call(this)}}]),t}(v["default"]);n["default"]=_},{"../core/Scene":3,"../core/client":7,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/get"),o=r(i),s=e("babel-runtime/core-js/array/from"),a=r(s),l=e("babel-runtime/core-js/object/get-prototype-of"),u=r(l),c=e("babel-runtime/helpers/classCallCheck"),h=r(c),d=e("babel-runtime/helpers/createClass"),f=r(d),p=e("babel-runtime/helpers/possibleConstructorReturn"),b=r(p),m=e("babel-runtime/helpers/inherits"),v=r(m),g=e("../core/Scene"),y=r(g),_=e("../views/View"),A=r(_),w=e("../views/SegmentedView"),T=r(w),S="survey",k='\n<div class="section-top">\n  <% if (counter <= length) { %>\n    <p class="counter"><%= counter %> / <%= length %></p>\n  <% } %>\n</div>\n<% if (counter > length) { %>\n  <div class="section-center flex-center">\n    <p class="big"><%= thanks %></p>\n  </div>\n<% } else { %>\n  <div class="section-center"></div>\n<% } %>\n<div class="section-bottom flex-middle">\n  <% if (counter < length) { %>\n    <button class="btn"><%= next %></button>\n  <% } else if (counter === length) { %>\n    <button class="btn"><%= validate %></button>\n  <% } %>\n</div>',C={next:"Next",validate:"Validate",thanks:"Thanks!",length:"-"},P=function(e){function t(e,n,r){(0,h["default"])(this,t);var i=(0,b["default"])(this,(0,u["default"])(t).call(this,n,r,{},{className:"question"}));return i.parent=e,i.question=r,i.id=r.id,i}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"onResize",value:function(e,t,n){}}]),t}(A["default"]),M='\n  <p class="label"><%= label %></p>\n  <% for (var key in options) { %>\n    <p class="answer radio" data-key="<%= key %>"><%= options[key] %></p>\n  <% } %>\n',x=function(e){function t(e,n){(0,h["default"])(this,t);var r=(0,b["default"])(this,(0,u["default"])(t).call(this,e,M,n));return r.answer=null,r._onSelect=r._onSelect.bind(r),r}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"onRender",value:function(){this.installEvents({"click .answer":this._onSelect}),this.$options=(0,a["default"])(this.$el.querySelectorAll(".answer"))}},{key:"_onSelect",value:function(e){var t=e.target;this.$options.forEach(function(e){e.classList.remove("selected")}),t.classList.add("selected"),this.answer=t.getAttribute("data-key"),this.parent.enableBtn()}},{key:"getAnswer",value:function(){return this.answer}}]),t}(P),j='\n  <p class="label"><%= label %></p>\n  <% for (var key in options) { %>\n    <p class="answer checkbox" data-key="<%= key %>"><%= options[key] %></p>\n  <% } %>\n',E=function(e){function t(e,n){(0,h["default"])(this,t);var r=(0,b["default"])(this,(0,u["default"])(t).call(this,e,j,n));return r.answers=[],r._onSelect=r._onSelect.bind(r),r}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"onRender",value:function(){this.installEvents({"click .answer":this._onSelect})}},{key:"_onSelect",value:function(e){var t=e.target,n=t.getAttribute("data-key"),r=t.classList.contains("selected")?"remove":"add";
"add"===r?this.answers.push(n):"remove"===r&&this.answers.splice(this.answers.indexOf(n),1),t.classList[r]("selected"),this.answers.length>0?this.parent.enableBtn():this.parent.disableBtn()}},{key:"getAnswer",value:function(){return 0===this.answers.length?null:this.answers}}]),t}(P),R='\n  <p class="label"><%= label %></p>\n  <input class="slider answer"\n    type="range"\n    min="<%= options.min %>"\n    max="<%= options.max %>"\n    step="<%= options.step %>"\n    value="<%= options.default %>" />\n  <span class="feedback"><%= options.default %></span>\n',G=function(e){function t(e,n){(0,h["default"])(this,t);var r=(0,b["default"])(this,(0,u["default"])(t).call(this,e,R,n));return r.answer=null,r._onInput=r._onInput.bind(r),r}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"onRender",value:function(){this.installEvents({"input .answer":this._onInput}),this.$slider=this.$el.querySelector(".slider"),this.$feedback=this.$el.querySelector(".feedback")}},{key:"_onInput",value:function(e){this.$feedback.textContent=this.$slider.value,this.answer=parseFloat(this.$slider.value),this.parent.enableBtn()}},{key:"getAnswer",value:function(){return this.answer}}]),t}(P),O='\n  <p class="label"><%= label %></p>\n  <textarea class="answer textarea"></textarea>\n',B=function(e){function t(e,n){return(0,h["default"])(this,t),(0,b["default"])(this,(0,u["default"])(t).call(this,e,O,n))}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"onRender",value:function(){this.$label=this.$el.querySelector(".label"),this.$textarea=this.$el.querySelector(".answer")}},{key:"onResize",value:function(e,t,n){if(this.$parent){var r=this.$el.getBoundingClientRect(),i=r.width,o=r.height,s=this.$label.getBoundingClientRect().height;this.$textarea.style.width=i+"px",this.$textarea.style.height=o-s+"px"}}},{key:"getAnswer",value:function(){return this.$textarea.value}}]),t}(P),I=function(e){function t(e,n,r,i){(0,h["default"])(this,t);var o=(0,b["default"])(this,(0,u["default"])(t).call(this,e,n,r,i));return o.ratios={".section-top":.15,".section-center":.65,".section-bottom":.2},o}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"onRender",value:function(){(0,o["default"])((0,u["default"])(t.prototype),"onRender",this).call(this),this.$nextBtn=this.$el.querySelector(".btn")}},{key:"disableBtn",value:function(){this.$nextBtn.setAttribute("disabled",!0)}},{key:"enableBtn",value:function(){this.$nextBtn.removeAttribute("disabled")}}]),t}(T["default"]),L=function(e){function t(){(0,h["default"])(this,t);var e=(0,b["default"])(this,(0,u["default"])(t).call(this,S,!0));return e._defaultViewTemplate=k,e._defaultViewContent=C,e.answers={},e._onConfigResponse=e._onConfigResponse.bind(e),e._displayNextQuestion=e._displayNextQuestion.bind(e),e}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"init",value:function(){this.viewContent.counter=0,this.viewEvents={"click .btn":this._displayNextQuestion},this.viewCtor=I,this.view=this.createView()}},{key:"start",value:function(){(0,o["default"])((0,u["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.show(),this.send("request"),this.receive("config",this._onConfigResponse)}},{key:"_onConfigResponse",value:function(e){this.viewContent.length=e.length,this._createRenderers(e),this._displayNextQuestion()}},{key:"_createRenderers",value:function(e){var t=this;this.renderers=e.map(function(e,n){var r=void 0;switch(e.type){case"radio":r=x;break;case"checkbox":r=E;break;case"range":r=G;break;case"textarea":e.required=!1,r=B}return new r(t.view,e)})}},{key:"_displayNextQuestion",value:function(){if(this.currentRenderer){var e=this.currentRenderer.getAnswer(),t=this.currentRenderer.question.required;if(null===e&&t)return;this.answers[this.currentRenderer.id]=e}if(this.currentRenderer=this.renderers.shift(),this.viewContent.counter+=1,this.currentRenderer)this.view.setViewComponent(".section-center",this.currentRenderer),this.view.render(),this.currentRenderer.question.required&&this.view.disableBtn();else{this.view.setViewComponent(".section-center",null),this.view.render();var n={timestamp:(new Date).getTime(),userAgent:navigator.userAgent,answers:this.answers};this.send("answers",n)}}}]),t}(y["default"]);n["default"]=L},{"../core/Scene":3,"../views/SegmentedView":32,"../views/View":37,"babel-runtime/core-js/array/from":39,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/get"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/client"),v=(r(m),e("../core/Service")),g=r(v),y=e("../views/SegmentedView"),_=r(y),A=e("../core/serviceManager"),w=r(A),T="service:auth",S=function(e){function t(){return(0,u["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).apply(this,arguments))}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"onSend",value:function(e){var t=this;this.installEvents({"touchstart #send":function(){var n=t.$el.querySelector("#password").value;""!==n&&e(n)}})}}]),t}(_["default"]),k='\n<% if (!rejected) { %>\n  <div class="section-top flex-middle">\n    <p><%= instructions %></p>\n  </div>\n  <div class="section-center flex-center">\n    <div>\n      <input type="password" id="password" />\n      <button class="btn" id="send"><%= send %></button>\n    </div>\n  </div>\n  <div class="section-bottom"></div>\n<% } else { %>\n  <div class="section-top"></div>\n  <div class="section-center flex-center">\n    <p><%= rejectMessage %></p>\n  </div>\n  <div class="section-bottom"></div>\n<% } %>',C={instructions:"Login",send:"Send",rejectMessage:"Sorry, you don't have access to this client",rejected:!1},P=function(e){function t(e){(0,u["default"])(this,t);var n=(0,f["default"])(this,(0,a["default"])(t).call(this,T,!0)),r={viewPriority:100,viewCtor:S};return n.configure(r),n._defaultViewTemplate=k,n._defaultViewContent=C,n._onAccesGrantedResponse=n._onAccesGrantedResponse.bind(n),n._onAccesRefusedResponse=n._onAccesRefusedResponse.bind(n),n._sendPassword=n._sendPassword.bind(n),n}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"init",value:function(){this._password=null,this.viewCtor=this.options.viewCtor,this.view=this.createView(),this.view.onSend(this._sendPassword)}},{key:"start",value:function(){(0,o["default"])((0,a["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.receive("granted",this._onAccesGrantedResponse),this.receive("refused",this._onAccesRefusedResponse);var e=localStorage.getItem("soundworks:service:auth");null!==e?this._sendPassword(e):this.show()}},{key:"stop",value:function(){(0,o["default"])((0,a["default"])(t.prototype),"stop",this).call(this),this.removeListener("granted",this._onAccesGrantedResponse),this.removeListener("refused",this._onAccesRefusedResponse),this.hide()}},{key:"_sendPassword",value:function(e){this._password=e,this.send("password",e)}},{key:"_onAccesGrantedResponse",value:function(){localStorage.setItem("soundworks:service:auth",this._password),this.ready()}},{key:"_onAccesRefusedResponse",value:function(){this.view.content.rejected=!0,this.view.render()}}]),t}(g["default"]);w["default"].register(T,P),n["default"]=P},{"../core/Service":4,"../core/client":7,"../core/serviceManager":8,"../views/SegmentedView":32,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/defineProperty"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/get"),b=r(p),m=e("babel-runtime/helpers/inherits"),v=r(m),g=e("../core/client"),y=r(g),_=e("../core/Service"),A=r(_),w=e("../views/SegmentedView"),T=r(w),S=e("../core/serviceManager"),k=r(S),C="service:checkin",P='\n<% if (label) { %>\n  <div class="section-top flex-middle">\n    <p class="big"><%= labelPrefix %></p>\n  </div>\n  <div class="section-center flex-center">\n    <div class="checkin-label">\n      <p class="huge bold"><%= label %></p>\n    </div>\n  </div>\n  <div class="section-bottom flex-middle">\n    <p class="small"><%= labelPostfix %></p>\n  </div>\n<% } else { %>\n  <div class="section-top"></div>\n  <div class="section-center flex-center">\n    <p><%= error ? errorMessage : wait %></p>\n  </div>\n  <div class="section-bottom"></div>\n<% } %>',M={labelPrefix:"Go to",labelPostfix:'Touch the screen<br class="portrait-only" />when you are ready.',error:!1,errorMessage:"Sorry,<br/>no place available",wait:"Please wait...",label:""},x=function(e){function t(){(0,u["default"])(this,t);var e=(0,f["default"])(this,(0,a["default"])(t).call(this,C,!0)),n={showDialog:!1,order:"ascending",viewCtor:T["default"],viewPriority:6};return e.configure(n),e._defaultViewTemplate=P,e._defaultViewContent=M,e.require("platform",{showDialog:!0}),e._onPositionResponse=e._onPositionResponse.bind(e),e._onUnavailableResponse=e._onUnavailableResponse.bind(e),e}return(0,v["default"])(t,e),(0,h["default"])(t,[{key:"init",value:function(){this.index=-1,this.label=null,this.coordinates=null,this.viewCtor=this.options.viewCtor,this.view=this.createView()}},{key:"start",value:function(){(0,b["default"])((0,a["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.setup=this._sharedConfigService,this.send("request",this.options.order),this.receive("position",this._onPositionResponse),this.receive("unavailable",this._onUnavailableResponse),this.show()}},{key:"stop",value:function(){(0,b["default"])((0,a["default"])(t.prototype),"stop",this).call(this),this.removeListener("position",this._onPositionResponse),this.removeListener("unavailable",this._onUnavailableResponse),this.hide()}},{key:"_onPositionResponse",value:function(e,t,n){var r=this;if(y["default"].index=this.index=e,y["default"].label=this.label=t,y["default"].coordinates=this.coordinates=n,this.options.showDialog){var i=t||(e+1).toString(),s=y["default"].platform.isMobile?"click":"touchstart";this.viewContent.label=i,this.view.installEvents((0,o["default"])({},s,function(){return r.ready()})),this.view.render()}else this.ready()}},{key:"_onUnavailableResponse",value:function(){this.viewContent.error=!0,this.view.render()}}]),t}(A["default"]);k["default"].register(C,x),n["default"]=x},{"../core/Service":4,"../core/client":7,"../core/serviceManager":8,"../views/SegmentedView":32,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/defineProperty":57,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/Service"),v=r(m),g=e("../core/serviceManager"),y=r(g),_="service:error-reporter",A=function(e){function t(){(0,a["default"])(this,t);var e=(0,h["default"])(this,(0,o["default"])(t).call(this,_,!0));return e._onError=e._onError.bind(e),e}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"init",value:function(){window.addEventListener("error",this._onError)}},{key:"start",value:function(){(0,f["default"])((0,o["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.ready()}},{key:"_onError",value:function(e){var t=e.filename;t=t.replace(window.location.origin,"");var n=e.lineno,r=e.colno,i=e.message,o=navigator.userAgent;this.send("error",t,n,r,i,o)}}]),t}(v["default"]);y["default"].register(_,A),n["default"]=A},{"../core/Service":4,"../core/serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.split("/").pop();return t.split(".")[0]}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/get-iterator"),s=r(o),a=e("babel-runtime/core-js/promise"),l=r(a),u=e("babel-runtime/helpers/typeof"),c=r(u),h=e("babel-runtime/core-js/object/get-prototype-of"),d=r(h),f=e("babel-runtime/helpers/classCallCheck"),p=r(f),b=e("babel-runtime/helpers/createClass"),m=r(b),v=e("babel-runtime/helpers/possibleConstructorReturn"),g=r(v),y=e("babel-runtime/helpers/get"),_=r(y),A=e("babel-runtime/helpers/inherits"),w=r(A),T=e("waves-audio"),S=e("waves-loaders"),k=e("debug"),C=r(k),P=e("../views/SegmentedView"),M=r(P),x=e("../core/Service"),j=r(x),E=e("../core/serviceManager"),R=r(E),G="service:loader",O=(0,C["default"])("soundworks:services:loader"),B='\n<div class="section-top flex-middle">\n  <p><%= loading %></p>\n</div>\n<div class="section-center flex-center">\n  <% if (showProgress) { %>\n  <div class="progress-wrap">\n    <div class="progress-bar"></div>\n  </div>\n  <% } %>\n</div>\n<div class="section-bottom"></div>',I={loading:"Loading sounds…"},L=function(e){function t(){return(0,p["default"])(this,t),(0,g["default"])(this,(0,d["default"])(t).apply(this,arguments))}return(0,w["default"])(t,e),(0,m["default"])(t,[{key:"onRender",value:function(){(0,_["default"])((0,d["default"])(t.prototype),"onRender",this).call(this),this.$progressBar=this.$el.querySelector(".progress-bar")}},{key:"onProgress",value:function(e){this.content.showProgress&&(this.$progressBar.style.width=e+"%")}}]),t}(M["default"]),D=function(e){function t(){(0,p["default"])(this,t);var e=(0,g["default"])(this,(0,d["default"])(t).call(this,G,!1)),n={assetsDomain:"",showProgress:!0,files:[],audioWrapTail:0,viewCtor:L,viewPriority:4};return e._defaultViewTemplate=B,e._defaultViewContent=I,e.configure(n),e}return(0,w["default"])(t,e),(0,m["default"])(t,[{key:"init",value:function(){this.buffers=[],this.audioBuffers={},this.data={},this.viewContent.showProgress=this.options.showProgress,this.viewCtor=this.options.viewCtor,this.view=this.createView()}},{key:"start",value:function(){(0,_["default"])((0,d["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.show(),this._loadFiles(this.options.files,this.view,!0)}},{key:"stop",value:function(){this.hide(),(0,_["default"])((0,d["default"])(t.prototype),"stop",this).call(this)}},{key:"_appendFileDescription",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];if("string"==typeof n){var o=n;r||(r=i(o));var s={id:r,path:o};e.push(o),t.push(s)}else if(r&&"object"===("undefined"==typeof n?"undefined":(0,c["default"])(n)))for(var a in n){var l=n[a];if("string"==typeof l){var u={id:r,key:a,path:l};e.push(l),t.push(u)}}}},{key:"_populateData",value:function(e,t){var n=this;e.forEach(function(e,r){var i=t[r],o=i.id,s=i.key;if(n.buffers.push(e),e instanceof AudioBuffer&&(n.audioBuffers[o]=e),s){var a=n.data[o];a||(n.data[o]=a={}),a[s]=e}else n.data[o]=e;O(n.data[o])})}},{key:"_loadFiles",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],i=new l["default"](function(i,o){var a=[],l=[];if(Array.isArray(e)){var u=!0,c=!1,h=void 0;try{for(var d,f=(0,s["default"])(e);!(u=(d=f.next()).done);u=!0){var p=d.value;t._appendFileDescription(a,l,p)}}catch(b){c=!0,h=b}finally{try{!u&&f["return"]&&f["return"]()}finally{if(c)throw h}}}else for(var m in e)t._appendFileDescription(a,l,e[m],m);if(a=a.map(function(e){return t.options.assetsDomain+e}),O(a),a.length>0&&l.length>0){var v=new S.SuperLoader;v.setAudioContext(T.audioContext),n&&n.onProgress&&!function(){var e=a.map(function(){return 0});v.progressCallback=function(t){e[t.index]=t.value;var r=e.reduce(function(e,t){return e+t},0);r/=e.length,n.onProgress(100*r)}}(),v.load(a,{wrapAroundExtention:t.options.audioWrapTail}).then(function(e){t._populateData(e,l),r&&t.ready(),i()})["catch"](function(e){o(e),console.error(e)})}else r&&t.ready(),i()});return i}},{key:"_wrapAround",value:function(e){for(var t,n,r=e.length+this.options.wrapAroundExtension*e.sampleRate,i=T.audioContext.createBuffer(e.numberOfChannels,r,e.sampleRate),o=0;o<e.numberOfChannels;o++)t=e.getChannelData(o),n=i.getChannelData(o),n.forEach(function(r,i){i<e.length?n[i]=t[i]:n[i]=t[i-e.length]});return i}},{key:"load",value:function(e){return this._loadFiles(e)}},{key:"get",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=this.data[e];return n&&t?n[t]:n}},{key:"getAudioBuffer",value:function(e){return this.audioBuffers[e]}}]),t}(j["default"]);R["default"].register(G,D),n["default"]=D},{"../core/Service":4,"../core/serviceManager":8,"../views/SegmentedView":32,"babel-runtime/core-js/get-iterator":40,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/promise":50,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/typeof":63,debug:184,"waves-audio":342,"waves-loaders":365}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/client"),v=r(m),g=e("../core/Service"),y=r(g),_=e("../core/serviceManager"),A=r(_),w=e("../views/SpaceView"),T=r(w),S=e("../views/SquaredView"),k=r(S),C=e("../views/TouchSurface"),P=r(C),M="service:locator",x='\n<div class="section-square"></div>\n<div class="section-float flex-middle">\n  <% if (!showBtn) { %>\n    <p class="small"><%= instructions %></p>\n  <% } else { %>\n    <button class="btn"><%= send %></button>\n  <% } %>\n</div>',j={instructions:"Define your position in the area",send:"Send",showBtn:!1},E=function(e){function t(e,n,r,i){(0,a["default"])(this,t);var s=(0,h["default"])(this,(0,o["default"])(t).call(this,e,n,r,i));return s.area=null,s._onAreaTouchStart=s._onAreaTouchStart.bind(s),s._onAreaTouchMove=s._onAreaTouchMove.bind(s),s}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"setArea",value:function(e){this._area=e,this._renderArea()}},{key:"onSelect",value:function(e){this._onSelect=e}},{key:"remove",value:function(){(0,f["default"])((0,o["default"])(t.prototype),"remove",this).call(this),this.surface.removeListener("touchstart",this._onAreaTouchStart),this.surface.removeListener("touchmove",this._onAreaTouchMove)}},{key:"_renderArea",value:function(){this.selector=new T["default"],this.selector.setArea(this._area),this.setViewComponent(".section-square",this.selector),this.render(".section-square"),this.surface=new P["default"](this.selector.$svg),this.surface.addListener("touchstart",this._onAreaTouchStart),this.surface.addListener("touchmove",this._onAreaTouchMove)}},{key:"_onAreaTouchStart",value:function(e,t,n){var r=this;this.position?this._updatePosition(t,n):(this._createPosition(t,n),this.content.showBtn=!0,this.render(".section-float"),this.installEvents({"click .btn":function(e){return r._onSelect(r.position.x,r.position.y)}}))}},{key:"_onAreaTouchMove",value:function(e,t,n){this._updatePosition(t,n)}},{key:"_createPosition",value:function(e,t){this.position={id:"locator",x:e*this._area.width,y:t*this._area.height},this.selector.addPoint(this.position)}},{key:"_updatePosition",value:function(e,t){this.position.x=e*this._area.width,this.position.y=t*this._area.height,this.selector.updatePoint(this.position)}}]),t}(k["default"]),R=function(e){function t(){(0,a["default"])(this,t);var e=(0,h["default"])(this,(0,o["default"])(t).call(this,M,!0)),n={random:!1,viewCtor:E,viewPriority:6};return e.configure(n),e._defaultViewTemplate=x,e._defaultViewContent=j,e._sharedConfig=e.require("shared-config"),e._onAknowledgeResponse=e._onAknowledgeResponse.bind(e),e._sendCoordinates=e._sendCoordinates.bind(e),e}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"init",value:function(){this.viewCtor=this.options.viewCtor,this.view=this.createView()}},{key:"start",value:function(){(0,f["default"])((0,o["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.show(),this.send("request"),this.receive("aknowledge",this._onAknowledgeResponse)}},{key:"stop",value:function(){(0,f["default"])((0,o["default"])(t.prototype),"stop",this).call(this),this.removeListener("aknowledge",this._onAknowledgeResponse),this.hide()}},{key:"_onAknowledgeResponse",value:function(e){var t=this._sharedConfig.get(e);if(this.view.setArea(t),this.view.onSelect(this._sendCoordinates),this.options.random){var n=Math.random()*t.width,r=Math.random()*t.height;this._sendCoordinates(n,r)}}},{key:"_sendCoordinates",value:function(e,t){v["default"].coordinates=[e,t],this.send("coordinates",v["default"].coordinates),this.ready()}}]),t}(y["default"]);A["default"].register(M,R),n["default"]=R},{"../core/Service":4,"../core/client":7,"../core/serviceManager":8,"../views/SpaceView":34,"../views/SquaredView":35,"../views/TouchSurface":36,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/toConsumableArray"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/get"),b=r(p),m=e("babel-runtime/helpers/inherits"),v=r(m),g=e("motion-input"),y=r(g),_=e("../core/Service"),A=r(_),w=e("../core/serviceManager"),T=r(w),S="service:motion-input",k=function(e){function t(){(0,u["default"])(this,t);var e=(0,f["default"])(this,(0,a["default"])(t).call(this,S,!1)),n={descriptors:[]};return e.configure(n),e._descriptorsValidity={},e._descriptorsPeriod={},e}return(0,v["default"])(t,e),(0,h["default"])(t,[{key:"configure",value:function(e){this.options.descriptors&&(e.descriptors=this.options.descriptors.concat(e.descriptors)),(0,b["default"])((0,a["default"])(t.prototype),"configure",this).call(this,e)}},{key:"start",value:function(){var e=this;(0,b["default"])((0,a["default"])(t.prototype),"start",this).call(this),y["default"].init.apply(y["default"],(0,o["default"])(this.options.descriptors)).then(function(t){e.options.descriptors.forEach(function(n,r){e._descriptorsValidity[n]=t[r].isValid,e._descriptorsPeriod[n]=t[r].period}),e.ready()})}},{key:"stop",value:function(){(0,b["default"])((0,a["default"])(t.prototype),"stop",this).call(this)}},{key:"isAvailable",value:function(e){return this._descriptorsValidity[e]}},{key:"getPeriod",value:function(e){return this._descriptorsPeriod[e]}},{key:"addListener",value:function(e,t){this._descriptorsValidity[e]&&y["default"].addListener(e,t)}},{key:"removeListener",value:function(e,t){this._descriptorsValidity[e]&&y["default"].removeListener(e,t)}}]),t}(A["default"]);T["default"].register(S,k),n["default"]=k},{"../core/Service":4,"../core/serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/toConsumableArray":62,"motion-input":210}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/Service"),v=r(m),g=e("../core/serviceManager"),y=r(g),_="service:network",A=function(e){function t(){(0,a["default"])(this,t);var e=(0,h["default"])(this,(0,o["default"])(t).call(this,_,!0)),n={};return e.configure(n),e._listeners={},e}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){var e=this;(0,f["default"])((0,o["default"])(t.prototype),"start",this).call(this),(0,f["default"])((0,o["default"])(t.prototype),"receive",this).call(this,"receive",function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var i=n.shift(),o=e._listeners[i];Array.isArray(o)&&o.forEach(function(e){return e.apply(void 0,n)})}),this.ready()}},{key:"send",value:function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),s=2;r>s;s++)i[s-2]=arguments[s];i.unshift(e,n),(0,f["default"])((0,o["default"])(t.prototype),"send",this).call(this,"send",i)}},{key:"broadcast",value:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];r.unshift(e),(0,f["default"])((0,o["default"])(t.prototype),"send",this).call(this,"broadcast",r)}},{key:"receive",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}},{key:"removeListener",value:function(e,t){var n=this._listeners[e];if(Array.isArray(n)){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}]),t}(v["default"]);y["default"].register(_,A),n["default"]=A},{"../core/Service":4,"../core/serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/get"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/client"),v=r(m),g=e("../core/Service"),y=r(g),_=e("../core/serviceManager"),A=r(_),w=e("../views/SelectView"),T=r(w),S=e("../views/SpaceView"),k=r(S),C=e("../views/SquaredView"),P=r(C),M="service:placer",x="\n<div class=\"section-square<%= mode === 'list' ? ' flex-middle' : '' %>\">\n  <% if (rejected) { %>\n  <div class=\"fit-container flex-middle\">\n    <p><%= reject %></p>\n  </div>\n  <% } %>\n</div>\n<div class=\"section-float flex-middle\">\n  <% if (!rejected) { %>\n    <% if (mode === 'graphic') { %>\n      <p><%= instructions %></p>\n    <% } else if (mode === 'list') { %>\n      <% if (showBtn) { %>\n        <button class=\"btn\"><%= send %></button>\n      <% } %>\n    <% } %>\n  <% } %>\n</div>",j={instructions:"Select your position",send:"Send",reject:"Sorry, no place is available",showBtn:!1,rejected:!1},E=function(e){function t(e,n,r,i){(0,u["default"])(this,t);var o=(0,f["default"])(this,(0,a["default"])(t).call(this,e,n,r,i));return o._onSelectionChange=o._onSelectionChange.bind(o),o}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"_onSelectionChange",value:function(e){var t=this;this.content.showBtn=!0,this.render(".section-float"),this.installEvents({"click .btn":function(e){var n=t.selector.value;n&&t._onSelect(n.index,n.label,n.coordinates)}})}},{key:"setArea",value:function(e){}},{key:"displayPositions",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?1:arguments[3];this.positions=[],this.numberPositions=e/r;for(var i=0;i<this.numberPositions;i++){var o=null!==t?t[i]:(i+1).toString(),s={index:i,label:o};n&&(s.coordinates=n[i]),this.positions.push(s)}this.selector=new T["default"]({instructions:this.content.instructions,entries:this.positions}),this.setViewComponent(".section-square",this.selector),this.render(".section-square"),this.selector.installEvents({change:this._onSelectionChange})}},{key:"updateDisabledPositions",value:function(e){for(var t=0;t<this.numberPositions;t++)-1===e.indexOf(t)?this.selector.enableIndex(t):this.selector.disableIndex(t)}},{key:"onSelect",value:function(e){this._onSelect=e}},{key:"reject",value:function(e){e.length>=this.numberPositions?(this.setViewComponent(".section-square"),this.content.rejected=!0,this.render()):this.disablePositions(e)}}]),t}(P["default"]),R=function(e){function t(e,n,r,i){(0,u["default"])(this,t);var o=(0,f["default"])(this,(0,a["default"])(t).call(this,e,n,r,i));return o._area=null,o._disabledPositions=[],o._onSelectionChange=o._onSelectionChange.bind(o),o}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"_onSelectionChange",value:function(e){var t=this.selector.shapePointMap.get(e.target),n=this._disabledPositions.indexOf(t.index);-1===n&&this._onSelect(t.id,t.label,[t.x,t.y])}},{key:"setArea",value:function(e){this._area=e}},{key:"displayPositions",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?1:arguments[3];this.numberPositions=e/r,this.positions=[];for(var i=0;i<this.numberPositions;i++){var o=null!==t?t[i]:(i+1).toString(),s={id:i,label:o},a=n[i];s.x=a[0],s.y=a[1],this.positions.push(s)}this.selector=new k["default"],this.selector.setArea(this._area),this.setViewComponent(".section-square",this.selector),this.render(".section-square"),this.selector.setPoints(this.positions),this.selector.installEvents({"click .point":this._onSelectionChange})}},{key:"updateDisabledPositions",value:function(e){this._disabledPositions=e;for(var t=0;t<this.numberPositions;t++){var n=this.positions[t],r=-1!==e.indexOf(t);n.selected=r?!0:!1,this.selector.updatePoint(n)}}},{key:"onSelect",value:function(e){this._onSelect=e}},{key:"reject",value:function(e){e.length>=this.numberPositions?(this.setViewComponent(".section-square"),this.content.rejected=!0,this.render()):this.view.updateDisabledPositions(e)}}]),t}(P["default"]),G=function(e){function t(){(0,u["default"])(this,t);var e=(0,f["default"])(this,(0,a["default"])(t).call(this,M,!0)),n={mode:"list",view:null,viewCtor:null,viewPriority:6};return e.configure(n),e._defaultViewTemplate=x,e._defaultViewContent=j,
e._onAknowledgeResponse=e._onAknowledgeResponse.bind(e),e._onClientJoined=e._onClientJoined.bind(e),e._onClientLeaved=e._onClientLeaved.bind(e),e._onSelect=e._onSelect.bind(e),e._onConfirmResponse=e._onConfirmResponse.bind(e),e._onRejectResponse=e._onRejectResponse.bind(e),e._sharedConfigService=e.require("shared-config"),e}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"init",value:function(){if(this.index=null,this.label=null,null!==this.options.view)this.view=this.options.view;else if(null!==this.options.viewCtor);else{switch(this.options.mode){case"graphic":this.viewCtor=R;break;case"list":default:this.viewCtor=E}this.viewContent.mode=this.options.mode,this.view=this.createView()}}},{key:"start",value:function(){(0,o["default"])((0,a["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.show(),this.send("request"),this.receive("aknowlegde",this._onAknowledgeResponse),this.receive("confirm",this._onConfirmResponse),this.receive("reject",this._onRejectResponse),this.receive("client-joined",this._onClientJoined),this.receive("client-leaved",this._onClientLeaved)}},{key:"stop",value:function(){this.removeListener("aknowlegde",this._onAknowledgeResponse),this.removeListener("confirm",this._onConfirmResponse),this.removeListener("reject",this._onRejectResponse),this.removeListener("client-joined",this._onClientJoined),this.removeListener("client-leaved",this._onClientLeaved),this.hide()}},{key:"_onAknowledgeResponse",value:function(e,t){var n=this._sharedConfigService.get(e),r=n.area,i=n.capacity,o=n.labels,s=n.coordinates,a=n.maxClientsPerPosition;r&&this.view.setArea(r),this.view.displayPositions(i,o,s,a),this.view.updateDisabledPositions(t),this.view.onSelect(this._onSelect)}},{key:"_onSelect",value:function(e,t,n){this.send("position",e,t,n)}},{key:"_onConfirmResponse",value:function(e,t,n){v["default"].index=this.index=e,v["default"].label=this.label=t,v["default"].coordinates=n,this.ready()}},{key:"_onClientJoined",value:function(e){this.view.updateDisabledPositions(e)}},{key:"_onClientLeaved",value:function(e){this.view.updateDisabledPositions(e)}},{key:"_onRejectResponse",value:function(e){this.view.reject(e)}}]),t}(y["default"]);A["default"].register(M,G),n["default"]=G},{"../core/Service":4,"../core/client":7,"../core/serviceManager":8,"../views/SelectView":33,"../views/SpaceView":34,"../views/SquaredView":35,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/defineProperty"),o=r(i),s=e("babel-runtime/helpers/toConsumableArray"),a=r(s),l=e("babel-runtime/core-js/set"),u=r(l),c=e("babel-runtime/core-js/object/get-prototype-of"),h=r(c),d=e("babel-runtime/helpers/classCallCheck"),f=r(d),p=e("babel-runtime/helpers/createClass"),b=r(p),m=e("babel-runtime/helpers/possibleConstructorReturn"),v=r(m),g=e("babel-runtime/helpers/get"),y=r(g),_=e("babel-runtime/helpers/inherits"),A=r(_),w=e("waves-audio"),T=e("../core/client"),S=r(T),k=e("mobile-detect"),C=r(k),P=e("screenfull"),M=r(P),x=e("../views/SegmentedView"),j=r(x),E=e("../core/Service"),R=r(E),G=e("../core/serviceManager"),O=r(G),B=[{id:"web-audio",check:function(){return!!w.audioContext},interactionHook:function(){if(S["default"].platform.isMobile){var e=w.audioContext.createGain();e.connect(w.audioContext.destination),e.gain.value=1e-9;var t=w.audioContext.createOscillator();t.connect(e),t.frequency.value=20,t.start(0),"android"!==S["default"].platform.os&&t.stop(w.audioContext.currentTime+.01)}}},{id:"mobile-device",check:function(){return S["default"].platform.isMobile}},{id:"audio-input",check:function(){return!!navigator.getUserMedia},startHook:function(){navigator.getUserMedia({audio:!0},function(e){e.getAudioTracks()[0].stop()},function(e){throw e})}},{id:"full-screen",check:function(){return!0},interactionHook:function(){M["default"].enabled&&M["default"].request()}},{id:"wake-lock",check:function(){return!0},interactionHook:function(){if("ios"===S["default"].platform.os)setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4);else{var e={webm:"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",mp4:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw=="},t=document.createElement("video");t.setAttribute("loop","");for(var n in e){var r=e[n],i=document.createElement("source");i.src=r,i.type="video/"+n,t.appendChild(i)}t.play(),console.log(t)}}}],I='\n<% if (!isCompatible) { %>\n  <div class="section-top"></div>\n  <div class="section-center flex-center">\n    <p><%= errorMessage %></p>\n  </div>\n  <div class="section-bottom"></div>\n<% } else { %>\n  <div class="section-top flex-middle"></div>\n  <div class="section-center flex-center">\n      <p class="big">\n        <%= intro %>\n        <br />\n        <b><%= globals.appName %></b>\n      </p>\n  </div>\n  <div class="section-bottom flex-middle">\n    <p class="small soft-blink"><%= instructions %></p>\n  </div>\n<% } %>',L={isCompatible:null,errorMessage:"Sorry,<br />Your device is not compatible with the application.",intro:"Welcome to",instructions:"Touch the screen to join!"},D="service:platform",H=function(e){function t(){(0,f["default"])(this,t);var e=(0,v["default"])(this,(0,h["default"])(t).call(this,D,!1)),n={showDialog:!0,viewCtor:j["default"],viewPriority:10};return e.configure(n),e._defaultViewTemplate=I,e._defaultViewContent=L,e._requiredFeatures=new u["default"],e._featureDefinitions={},B.forEach(function(t){return e.addFeatureDefinition(t)}),e}return(0,A["default"])(t,e),(0,b["default"])(t,[{key:"configure",value:function(e){if(e.features){var n=e.features;"string"==typeof n&&(n=[n]),this.requireFeature.apply(this,(0,a["default"])(n)),delete e.features}(0,y["default"])((0,h["default"])(t.prototype),"configure",this).call(this,e)}},{key:"init",value:function(){this._defineAudioFileExtention(),this._definePlatform(),S["default"].compatible=this.resolveRequiredFeatures(),this.viewContent.isCompatible=S["default"].compatible,this.viewCtor=this.options.viewCtor,this.view=this.createView()}},{key:"start",value:function(){if((0,y["default"])((0,h["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),S["default"].compatible){var e=this.getStartHooks();e.forEach(function(e){return e()})}if(S["default"].compatible&&!this.options.showDialog?this._requiredFeatures.has("web-audio")&&"ios"===S["default"].platform.os?this.show():this.ready():this.show(),S["default"].compatible){var n=S["default"].platform.isMobile?"touchend":"click";this.view.installEvents((0,o["default"])({},n,this._onInteraction.bind(this)))}}},{key:"stop",value:function(){this.hide(),(0,y["default"])((0,h["default"])(t.prototype),"stop",this).call(this)}},{key:"addFeatureDefinition",value:function(e){this._featureDefinitions[e.id]=e}},{key:"requireFeature",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];n.forEach(function(t){return e._requiredFeatures.add(t)})}},{key:"resolveRequiredFeatures",value:function(){var e=this,t=!0;return this._requiredFeatures.forEach(function(n){var r=e._featureDefinitions[n].check;if("function"!=typeof r)throw new Error("No check function defined for "+n+" feature");t=t&&r()}),t}},{key:"getStartHooks",value:function(){return this._getHooks("startHook")}},{key:"getInteractionHooks",value:function(){return this._getHooks("interactionHook")}},{key:"_getHooks",value:function(e){var t=this,n=[];return this._requiredFeatures.forEach(function(r){var i=t._featureDefinitions[r][e];i&&n.push(i)}),n}},{key:"_onInteraction",value:function(){var e=this.getInteractionHooks();e.forEach(function(e){return e()}),this.ready()}},{key:"_defineAudioFileExtention",value:function(){var e=document.createElement("audio");e.canPlayType&&e.canPlayType("audio/mpeg;")?S["default"].platform.audioFileExt=".mp3":e.canPlayType&&e.canPlayType('audio/ogg; codecs="vorbis"')?S["default"].platform.audioFileExt=".ogg":S["default"].platform.audioFileExt=".wav"}},{key:"_definePlatform",value:function(){var e=window.navigator.userAgent,t=new C["default"](e);S["default"].platform.isMobile=null!==t.mobile(),S["default"].platform.os=function(){var e=t.os();return"AndroidOS"===e?"android":"iOS"===e?"ios":"other"}()}}]),t}(R["default"]);O["default"].register(D,H),n["default"]=H},{"../core/Service":4,"../core/client":7,"../core/serviceManager":8,"../views/SegmentedView":32,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/set":51,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/defineProperty":57,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/toConsumableArray":62,"mobile-detect":203,screenfull:289,"waves-audio":342}],24:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=i(o),a=e("babel-runtime/helpers/classCallCheck"),l=i(a),u=e("babel-runtime/helpers/createClass"),c=i(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=i(h),f=e("babel-runtime/helpers/get"),p=i(f),b=e("babel-runtime/helpers/inherits"),m=i(b),v=e("waves-audio"),g=r(v),y=e("../core/Service"),_=i(y),A=e("../core/serviceManager"),w=i(A),T=function(e){function t(e,n){(0,l["default"])(this,t);var r=(0,d["default"])(this,(0,s["default"])(t).call(this));return r.sync=e,r.scheduler=n,r.scheduler.add(r,1/0),r.nextSyncTime=1/0,r.resync=r.resync.bind(r),r.sync.addListener(r.resync),r}return(0,m["default"])(t,e),(0,c["default"])(t,[{key:"advanceTime",value:function(e){var n=(this.sync.getSyncTime(e),(0,p["default"])((0,s["default"])(t.prototype),"advanceTime",this).call(this,this.nextSyncTime)),r=this.sync.getAudioTime(n);return this.nextSyncTime=n,r}},{key:"resetTime",value:function(e){void 0===e&&(e=this.sync.getSyncTime()),this.nextSyncTime=e;var t=this.sync.getAudioTime(e);this.master.resetEngineTime(this,t)}},{key:"resync",value:function(){if(this.nextSyncTime!==1/0){var e=this.sync.getAudioTime(this.nextSyncTime);this.master.resetEngineTime(this,e)}else this.master.resetEngineTime(this,1/0)}},{key:"currentTime",get:function(){return this.sync.getSyncTime(this.scheduler.currentTime)}}]),t}(g.SchedulingQueue),S="service:scheduler",k=function(e){function t(){(0,l["default"])(this,t);var e=(0,d["default"])(this,(0,s["default"])(t).call(this,S));e._platform=e.require("platform",{features:"web-audio"}),e._sync=null,e._syncedQueue=null,e._scheduler=g.getScheduler();var n={lookahead:e._scheduler.lookahead,period:e._scheduler.period,sync:void 0};return(0,p["default"])((0,s["default"])(t.prototype),"configure",e).call(e,n),e}return(0,m["default"])(t,e),(0,c["default"])(t,[{key:"configure",value:function(e){if(void 0!==e.period){if(!(e.period>.01))throw new Error("Invalid scheduler period: "+e.period);this._scheduler.period=e.period}if(void 0!==e.lookahead){if(!(e.lookahead>.01))throw new Error("Invalid scheduler lookahead: "+e.lookahead);this._scheduler.lookahead=e.lookahead}var n=void 0!==e.sync?e.sync:!0,r=void 0===r?n:r||n;r&&!this._sync&&(this._sync=this.require("sync"),this._syncedQueue=new T(this._sync,this._scheduler)),e.sync=r,(0,p["default"])((0,s["default"])(t.prototype),"configure",this).call(this,e)}},{key:"start",value:function(){(0,p["default"])((0,s["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.ready()}},{key:"defer",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!!this._sync:arguments[2],r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=n&&this._sync?this._syncedQueue:this._scheduler,o=this,s=void 0;r?i.defer(e,t):(s={advanceTime:function(t){var n=o.deltaTime;n>0?setTimeout(e,1e3*n,t):e(t)}},i.add(s,t))}},{key:"add",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!!this._sync:arguments[2],r=n&&this._sync?this._syncedQueue:this._scheduler;r.add(e,t)}},{key:"remove",value:function(e){this._scheduler.has(e)?this._scheduler.remove(e):this._syncedQueue&&this._syncedQueue.has(e)&&this._syncedQueue.remove(e)}},{key:"clear",value:function(){this._syncedQueue&&this._syncedQueue.clear(),this._scheduler.clear()}},{key:"audioTime",get:function(){return this._scheduler.currentTime}},{key:"syncTime",get:function(){return this._syncedQueue?this._syncedQueue.currentTime:void 0}},{key:"deltaTime",get:function(){return this._scheduler.currentTime-g.audioContext.currentTime}}]),t}(_["default"]);w["default"].register(S,k),n["default"]=k},{"../core/Service":4,"../core/serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"waves-audio":342}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/serviceManager"),v=r(m),g=e("../core/Service"),y=r(g),_=e("../core/client"),A=r(_),w="service:shared-config",T=function(e){function t(){(0,a["default"])(this,t);var e=(0,h["default"])(this,(0,o["default"])(t).call(this,w,!0));return e._items=[],e._onConfigResponse=e._onConfigResponse.bind(e),e}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"configure",value:function(e){e.items&&(this._items=this._items.concat(e.items),delete e.items),(0,f["default"])((0,o["default"])(t.prototype),"configure",this).call(this,e)}},{key:"init",value:function(){this.data=null}},{key:"start",value:function(){(0,f["default"])((0,o["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.send("request",this._items),this.receive("config",this._onConfigResponse)}},{key:"_onConfigResponse",value:function(e){this.data=A["default"].config=e,this.ready()}},{key:"get",value:function(e){var t=e.split("."),n=this.data;return t.forEach(function(e){return n=n[e]}),n}}]),t}(y["default"]);v["default"].register(w,T),n["default"]=T},{"../core/Service":4,"../core/client":7,"../core/serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/get"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("events"),v=e("../core/Service"),g=r(v),y=e("../core/serviceManager"),_=r(y),A=function(e){function t(e,n,r,i){(0,u["default"])(this,t);var o=(0,f["default"])(this,(0,a["default"])(t).call(this));return o.control=e,o.type=n,o.name=r,o.label=i,o.value=void 0,o}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"set",value:function(e){this.value=value}},{key:"_propagate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.emit("update",this.value),e&&this.control.send("update",this.name,this.value),this.control.emit("update",this.name,this.value)}},{key:"update",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];this.set(e),this._propagate(t)}}]),t}(m.EventEmitter),w=function(e){function t(e,n,r,i){(0,u["default"])(this,t);var o=(0,f["default"])(this,(0,a["default"])(t).call(this,e,"boolean",n,r));return o.set(i),o}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"set",value:function(e){this.value=e}}]),t}(A),T=function(e){function t(e,n,r,i,o){(0,u["default"])(this,t);var s=(0,f["default"])(this,(0,a["default"])(t).call(this,e,"enum",n,r));return s.options=i,s.set(o),s}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"set",value:function(e){var t=this.options.indexOf(e);t>=0&&(this.index=t,this.value=e)}}]),t}(A),S=function(e){function t(e,n,r,i,o,s,l){(0,u["default"])(this,t);var c=(0,f["default"])(this,(0,a["default"])(t).call(this,e,"number",n,r));return c.min=i,c.max=o,c.step=s,c.set(l),c}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"set",value:function(e){this.value=Math.min(this.max,Math.max(this.min,e))}}]),t}(A),k=function(e){function t(e,n,r,i){(0,u["default"])(this,t);var o=(0,f["default"])(this,(0,a["default"])(t).call(this,e,"text",n,r));return o.set(i),o}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"set",value:function(e){this.value=e}}]),t}(A),C=function(e){function t(e,n,r){return(0,u["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,e,"trigger",n,r))}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"set",value:function(e){}}]),t}(A),P="service:shared-params",M=function(e){function t(){(0,u["default"])(this,t);var e=(0,f["default"])(this,(0,a["default"])(t).call(this,P,!0)),n={hasGui:!1};return e.configure(n),e._onInitResponse=e._onInitResponse.bind(e),e._onUpdateResponse=e._onUpdateResponse.bind(e),e}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"init",value:function(){this.params={}}},{key:"start",value:function(){(0,o["default"])((0,a["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.send("request"),this.receive("init",this._onInitResponse),this.receive("update",this._onUpdateResponse)}},{key:"stop",value:function(){(0,o["default"])((0,a["default"])(t.prototype),"stop",this).call(this),this.removeListener("init",this._onInitResponse)}},{key:"_onInitResponse",value:function(e){var t=this;e.forEach(function(e){var n=t._createParam(e);t.params[n.name]=n}),this.ready()}},{key:"_onUpdateResponse",value:function(e,t){this.update(e,t,!1)}},{key:"addParamListener",value:function(e,t){var n=this.params[e];n?(n.addListener("update",t),"trigger"!==n.type&&t(n.value)):console.log('unknown param "'+e+'"')}},{key:"removeParamListener",value:function(e,t){var n=this.params[e];n?n.removeListener("update",t):console.log('unknown param "'+e+'"')}},{key:"getValue",value:function(e){return this.params[e].value}},{key:"update",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=this.params[e];r?r.update(t,n):console.log('unknown shared parameter "'+e+'"')}},{key:"_createParam",value:function(e){var t=null;switch(e.type){case"boolean":t=new w(this,e.name,e.label,e.value);break;case"enum":t=new T(this,e.name,e.label,e.options,e.value);break;case"number":t=new S(this,e.name,e.label,e.min,e.max,e.step,e.value);break;case"text":t=new k(this,e.name,e.label,e.value);break;case"trigger":t=new C(this,e.name,e.label)}return t}}]),t}(g["default"]);_["default"].register(P,M),n["default"]=M},{"../core/Service":4,"../core/serviceManager":8,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,events:465}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("waves-audio"),v=e("../views/SegmentedView"),g=r(v),y=e("../core/Service"),_=r(y),A=e("../core/serviceManager"),w=r(A),T=e("sync/client"),S=r(T),k="service:sync",C='\n<div class="section-top"></div>\n<div class="section-center flex-center">\n  <p class="soft-blink"><%= wait %></p>\n</div>\n<div class="section-bottom"></div>\n',P={wait:"Clock syncing,<br />stand by&hellip;"},M=function(e){function t(){(0,a["default"])(this,t);var e=(0,h["default"])(this,(0,o["default"])(t).call(this,k,!0)),n={viewCtor:g["default"],viewPriority:3};return e.configure(n),e._defaultViewTemplate=C,e._defaultViewContent=P,e.require("platform",{features:"web-audio"}),e._syncStatusReport=e._syncStatusReport.bind(e),e._reportListeners=[],e}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"init",value:function(){this._sync=new S["default"](function(){return m.audioContext.currentTime}),this._ready=!1,this.viewCtor=this.options.viewCtor,this.view=this.createView()}},{key:"start",value:function(){(0,f["default"])((0,o["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.show(),this._sync.start(this.send,this.receive,this._syncStatusReport)}},{key:"stop",value:function(){this.hide(),(0,f["default"])((0,o["default"])(t.prototype),"stop",this).call(this)}},{key:"getAudioTime",value:function(e){return this._sync.getLocalTime(e)}},{key:"getSyncTime",value:function(e){return this._sync.getSyncTime(e)}},{key:"addListener",value:function(e){this._reportListeners.push(e)}},{key:"_syncStatusReport",value:function(e,t){"sync:status"===e&&("training"===t.status||"sync"===t.status)&&(this._reportListeners.forEach(function(e){return e(t)}),this._ready||(this._ready=!0,this.ready()))}}]),t}(_["default"]);w["default"].register(k,M),n["default"]=M},{"../core/Service":4,"../core/serviceManager":8,"../views/SegmentedView":32,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"sync/client":334,"waves-audio":342}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function o(e){for(var t=e.split("_"),n="",r=0;r<t.length;r++)n+=0===r?i(t[r]):" "+t[r];return n}Object.defineProperty(n,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("./View"),v=r(m),g="\n  <% definitions.forEach((def, index) => { %>\n    <button class=\"btn <%= def.state %>\"\n            data-index=\"<%= index %>\"\n            <%= def.state === 'disabled' ? 'disabled' : '' %>\n    >\n      <%= convertName(def.label) %>\n    </button>\n  <% }); %>\n",y=function(e){function t(e,n,r,i){(0,u["default"])(this,t);var s=i.template||g,l=(0,f["default"])(this,(0,a["default"])(t).call(this,s,{definitions:e,convertName:o},{},{className:"buttons"}));l._definitions=e,l._maxSelected=i.maxSelected||1,l._selected=[],l.onSelect=n,l.onUnselect=r;var c=i.defaultState||"unselected";return l._definitions.forEach(function(e,t){void 0===e.state&&e.state===c,"selected"===e.state&&l._selected.push(t)}),l.toggle=l.toggle.bind(l),l.events={"click .btn":l.toggle},l}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"onRender",value:function(){this.$el.style.width="100%",this.$el.style.height="100%"}},{key:"_select",value:function(e,t){var n=this._definitions[e];t.classList.remove("unselected","disabled"),t.classList.add("selected"),n.state="selected",this._selected.push(e),this.onSelect(e,n)}},{key:"_unselect",value:function(e,t){var n=this._definitions[e];t.classList.remove("selected","disabled"),t.classList.add("unselected"),n.state="unselected";var r=this._selected.indexOf(e);-1!==r&&(this._selected.splice(r,1),this.onUnselect(e,n))}},{key:"toggle",value:function(e){var t=e.target,n=parseInt(t.getAttribute("data-index")),r=this._definitions[n],i=r.state,o="selected"===i?"_unselect":"_select";this._selected.length>=this._maxSelected&&"select"===o||this[o](n,t)}},{key:"enable",value:function(e){var t=this.$el.querySelector('[data-index="'+e+'"]');this._unselect(e,t),t.removeAttribute("disabled")}},{key:"disable",value:function(e){var t=this.$el.querySelector('[data-index="'+e+'"]');this._unselect(e,t),t.classList.remove("unselected"),t.classList.add("disabled"),t.setAttribute("disabled",!0)}}]),t}(v["default"]);n["default"]=y},{"./View":37,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/set"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/core-js/object/assign"),u=r(l),c=e("babel-runtime/helpers/classCallCheck"),h=r(c),d=e("babel-runtime/helpers/createClass"),f=r(d),p=e("babel-runtime/helpers/possibleConstructorReturn"),b=r(p),m=e("babel-runtime/helpers/get"),v=r(m),g=e("babel-runtime/helpers/inherits"),y=r(g),_=e("./SegmentedView"),A=r(_),w=e("./RenderingGroup"),T=r(w),S='\n  <canvas class="background"></canvas>\n  <div class="foreground">\n    <div class="section-top flex-middle"><%= top %></div>\n    <div class="section-center flex-center"><%= center %></div>\n    <div class="section-bottom flex-middle"><%= bottom %></div>\n  </div>\n',k=function(e){function t(e,n,r,i){(0,h["default"])(this,t),e=e||S,i=(0,u["default"])({preservePixelRatio:!1},i);var s=(0,b["default"])(this,(0,a["default"])(t).call(this,e,n,r,i));return s._rendererStack=new o["default"],s._hasRenderedOnce=!1,s}return(0,y["default"])(t,e),(0,f["default"])(t,[{key:"onRender",value:function(){(0,v["default"])((0,a["default"])(t.prototype),"onRender",this).call(this),this._hasRenderedOnce||(this.$canvas=this.$el.querySelector("canvas"),this.ctx=this.$canvas.getContext("2d"),this._renderingGroup=new T["default"](this.ctx,this.options.preservePixelRatio),this._hasRenderedOnce=!0)}},{key:"onResize",value:function(e,n,r){var i=this;(0,v["default"])((0,a["default"])(t.prototype),"onResize",this).call(this,e,n,r),this._renderingGroup.onResize(e,n),this._rendererStack.forEach(function(e){return i._renderingGroup.add(e)}),this._rendererStack.clear()}},{key:"setPreRender",value:function(e){this._renderingGroup.preRender=e.bind(this._renderingGroup)}},{key:"addRenderer",value:function(e){this.isVisible?this._renderingGroup.add(e):this._rendererStack.add(e)}},{key:"removeRenderer",value:function(e){this.isVisible?this._renderingGroup.remove(e):this._rendererStack["delete"](e)}}]),t}(A["default"]);n["default"]=k},{"./RenderingGroup":31,"./SegmentedView":32,"babel-runtime/core-js/object/assign":43,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/set":51,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=r(i),s=e("babel-runtime/helpers/createClass"),a=r(s),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];(0,o["default"])(this,e),this.updatePeriod=t,this.currentTime=null,this.canvasWidth=0,this.canvasHeight=0}return(0,a["default"])(e,[{key:"onResize",value:function(e,t){this.canvasWidth=e,this.canvasHeight=t}},{key:"init",value:function(){}},{key:"update",value:function(e){}},{key:"render",value:function(e){}}]),e}();n["default"]=l},{"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=r(i),s=e("babel-runtime/helpers/createClass"),a=r(s),l={renderingGroups:[],_isRunning:!1,getTime:function(){return.001*(window.performance&&window.performance.now?window.performance.now():(new Date).getTime())},requireStart:function(){this._isRunning||(this._isRunning=!0,this.lastRenderTime=this.getTime(),function(e){function t(){for(var n=e.getTime(),r=n-e.lastRenderTime,i=e.renderingGroups,o=0,s=i.length;s>o;o++){var a=i[o];a.update(n,r),a.render(r)}e.lastRenderTime=n,e.rAFid=requestAnimationFrame(t)}e.rAFid=requestAnimationFrame(t)}(this))},requireStop:function(){for(var e=!0,t=0,n=this.renderingGroups.length;n>t;t++)this.renderingGroups[t].renderers.length>0&&(e=!1);e&&(cancelAnimationFrame(this.rAFid),this._isRunning=!1)},registerRenderingGroup:function(e){this.renderingGroups.push(e)}},u=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];(0,o["default"])(this,e),this.ctx=t,this.renderers=[],this.pixelRatio=function(e){var t=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n?t/r:1}(this.ctx),l.registerRenderingGroup(this)}return(0,a["default"])(e,[{key:"onResize",value:function(e,t){var n=this.ctx,r=this.pixelRatio;this.canvasWidth=e*r,this.canvasHeight=t*r,n.canvas.width=this.canvasWidth,n.canvas.height=this.canvasHeight,n.canvas.style.width=e+"px",n.canvas.style.height=t+"px";for(var i=0,o=this.renderers.length;o>i;i++)this.renderers[i].onResize(this.canvasWidth,this.canvasHeight)}},{key:"update",value:function(e,t){for(var n=this.renderers,r=0,i=n.length;i>r;r++){var o=n[r],s=o.updatePeriod;if(0===s)o.update(t),o.currentTime=e;else for(;o.currentTime<e;)o.update(s),o.currentTime+=s}}},{key:"preRender",value:function(e,t){}},{key:"render",value:function(e){var t=this.ctx,n=this.renderers;
this.preRender(t,e);for(var r=0,i=n.length;i>r;r++)n[r].render(t)}},{key:"add",value:function(e){this.renderers.push(e),this.currentTime=l.getTime(),e.currentTime=this.currentTime,e.onResize(this.canvasWidth,this.canvasHeight),e.init(),1===this.renderers.length&&l.requireStart()}},{key:"remove",value:function(e){var t=this.renderers.indexOf(e);-1!==t&&(this.renderers.splice(t,1),0===this.renderers.length&&l.requireStop())}}]),e}();n["default"]=u},{"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/keys"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/get"),b=r(p),m=e("babel-runtime/helpers/inherits"),v=r(m),g=e("./View"),y=r(g),_='\n  <div class="section-top flex-middle"><p><%= top %></p></div>\n  <div class="section-center flex-center"><p><%= center %></p></div>\n  <div class="section-bottom flex-middle"><p><%= bottom %></p></div>\n',A=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,u["default"])(this,t),e=e?e:_;var o=(0,f["default"])(this,(0,a["default"])(t).call(this,e,n,r,i));return o.ratios=i.ratios||{".section-top":.3,".section-center":.5,".section-bottom":.2},o._$sections={},o}return(0,v["default"])(t,e),(0,h["default"])(t,[{key:"onRender",value:function(){var e=this;(0,o["default"])(this.ratios).forEach(function(t){var n=e.$el.querySelector(t);e._$sections[t]=n})}},{key:"onResize",value:function(e,n,r){(0,b["default"])((0,a["default"])(t.prototype),"onResize",this).call(this,e,n,r);for(var i in this.ratios){var o=this.ratios[i],s=this._$sections[i];s.style.minHeight=o*n+"px"}}}]),t}(y["default"]);n["default"]=A},{"./View":37,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/object/keys":48,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/core-js/object/assign"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("./View"),v=r(m),g='\n  <option class="small"><%= instructions %></option>\n  <% entries.forEach(function(entry) { %>\n    <option value="<%= entry.index %>"><%= entry.label %></option>\n  <% }); %>\n',y=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,u["default"])(this,t),r=(0,a["default"])({el:"select",className:"select"},r);var i=(0,f["default"])(this,(0,o["default"])(t).call(this,g,e,n,r));return i.entries=e.entries,i}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"onResize",value:function(){}},{key:"enableIndex",value:function(e){var t=this.$el.querySelector('option[value="'+e+'"]');t&&t.removeAttribute("disabled")}},{key:"disableIndex",value:function(e){var t=this.$el.querySelector('option[value="'+e+'"]');t&&t.setAttribute("disabled","disabled")}},{key:"value",get:function(){var e=parseInt(this.$el.value),t=this.entries.find(function(t){return t.index===e});return t||null}}]),t}(v["default"]);n["default"]=y},{"./View":37,"babel-runtime/core-js/object/assign":43,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/slicedToArray"),o=r(i),s=e("babel-runtime/core-js/get-iterator"),a=r(s),l=e("babel-runtime/core-js/map"),u=r(l),c=e("babel-runtime/core-js/object/get-prototype-of"),h=r(c),d=e("babel-runtime/core-js/object/assign"),f=r(d),p=e("babel-runtime/helpers/classCallCheck"),b=r(p),m=e("babel-runtime/helpers/createClass"),v=r(m),g=e("babel-runtime/helpers/possibleConstructorReturn"),y=r(g),_=e("babel-runtime/helpers/get"),A=r(_),w=e("babel-runtime/helpers/inherits"),T=r(w),S=e("./View"),k=r(S),C="<svg></svg>",P="http://www.w3.org/2000/svg",M=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?C:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,b["default"])(this,t),i=(0,f["default"])({className:"space"},i);var o=(0,y["default"])(this,(0,h["default"])(t).call(this,e,n,r,i));return o.area=null,o.areaWidth=null,o.areaHeight=null,o.shapePointMap=new u["default"],o.shapeLineMap=new u["default"],o._renderedPoints=new u["default"],o._renderedLines=new u["default"],o}return(0,T["default"])(t,e),(0,v["default"])(t,[{key:"setArea",value:function(e){this.area=e}},{key:"onRender",value:function(){this.$svg=this.$el.querySelector("svg"),this.addDefinitions(),this._renderArea()}},{key:"onResize",value:function(e,n,r){(0,A["default"])((0,h["default"])(t.prototype),"onResize",this).call(this,e,n,r),this.parentView&&(this.$el.style.width="100%",this.$el.style.height="100%"),this._renderArea()}},{key:"addDefinitions",value:function(){this.$defs=document.createElementNS(P,"defs");var e='\n      <marker id="marker-arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">\n          <path d="M0,0 L0,10 L10,5 L0,0" class="marker-arrow" />\n      </marker>\n    ';this.$defs.innerHTML=e,this.$svg.insertBefore(this.$defs,this.$svg.firstChild)}},{key:"_renderArea",value:function(){var e=this.area,t=this.$el.getBoundingClientRect(),n=t.width,r=t.height;this.ratio=Math.min(n/e.width,r/e.height);var i=e.width*this.ratio,s=e.height*this.ratio,l=(r-s)/2,u=(n-i)/2;this.$svg.setAttribute("width",i),this.$svg.setAttribute("height",s),this.$svg.style.position="relative",this.$svg.style.top=l+"px",this.$svg.style.left=u+"px",e.background&&(this.$el.style.backgroundImage="url("+e.background+")",this.$el.style.backgroundPosition="50% 50%",this.$el.style.backgroundRepeat="no-repeat",this.$el.style.backgroundSize="contain",this.$svg.style.backgroundColor="transparent");var c=!0,h=!1,d=void 0;try{for(var f,p=(0,a["default"])(this.shapePointMap);!(c=(f=p.next()).done);c=!0){var b=(0,o["default"])(f.value,2),m=(b[0],b[1]);this.updatePoint(m)}}catch(v){h=!0,d=v}finally{try{!c&&p["return"]&&p["return"]()}finally{if(h)throw d}}this.areaWidth=i,this.areaHeight=s}},{key:"renderPoint",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];null===t&&(t=document.createElementNS(P,"circle"),t.classList.add("point")),t.setAttribute("data-id",e.id),t.setAttribute("cx",""+e.x*this.ratio),t.setAttribute("cy",""+e.y*this.ratio),t.setAttribute("r",e.radius||8),e.color&&(t.style.fill=e.color);var n=e.selected?"add":"remove";return t.classList[n]("selected"),t}},{key:"setPoints",value:function(e){this.clearPoints(),this.addPoints(e)}},{key:"clearPoints",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,a["default"])(this._renderedPoints.keys());!(e=(r=i.next()).done);e=!0){var o=r.value;this.deletePoint(o)}}catch(s){t=!0,n=s}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}}},{key:"addPoints",value:function(e){var t=this;e.forEach(function(e){return t.addPoint(e)})}},{key:"addPoint",value:function(e){var t=this.renderPoint(e);this.$svg.appendChild(t),this._renderedPoints.set(e.id,t),this.shapePointMap.set(t,e)}},{key:"updatePoint",value:function(e){var t=this._renderedPoints.get(e.id);this.renderPoint(e,t)}},{key:"deletePoint",value:function(e){var t=this._renderedPoints.get(e);this.$svg.removeChild(t),this._renderedPoints["delete"](e),this.shapePointMap["delete"](t)}}]),t}(k["default"]);n["default"]=M},{"./View":37,"babel-runtime/core-js/get-iterator":40,"babel-runtime/core-js/map":42,"babel-runtime/core-js/object/assign":43,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/slicedToArray":61}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("./View"),v=r(m),g='\n  <div class="section-square flex-middle"></div>\n  <div class="section-float flex-middle"></div>\n',y=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return(0,a["default"])(this,t),e=e?e:g,(0,h["default"])(this,(0,o["default"])(t).call(this,e,n,r,i))}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"onRender",value:function(){this.$square=this.$el.querySelector(".section-square"),this.$float=this.$el.querySelector(".section-float"),this.$square.style["float"]="left",this.$float.style["float"]="left"}},{key:"onResize",value:function(e,n,r){(0,f["default"])((0,o["default"])(t.prototype),"onResize",this).call(this,e,n,r);var i=void 0,s=void 0,a=void 0;"portrait"===r?(i=e,s=n-i,a=e):(i=n,s=n,a=e-i),this.$square.style.width=i+"px",this.$square.style.height=i+"px",this.$float.style.width=a+"px",this.$float.style.height=s+"px"}}]),t}(v["default"]);n["default"]=y},{"./View":37,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=r(i),s=e("babel-runtime/helpers/createClass"),a=r(s),l=function(){function e(t){var n=this;(0,o["default"])(this,e),this.$el=t,this.touches={},this._elBoundingRect=null,this._listeners={},this._normX=0,this._normY=0,window.addEventListener("resize",this._updateBoundingRect.bind(this)),this._updateBoundingRect(),this.$el.addEventListener("touchstart",this._handleTouch(function(e,t,r,i){n.touches[e]=[t,r],n._propagate("touchstart",e,t,r,i)})),this.$el.addEventListener("touchmove",this._handleTouch(function(e,t,r,i){n.touches[e]=[t,r],n._propagate("touchmove",e,t,r,i)})),this.$el.addEventListener("touchend",this._handleTouch(function(e,t,r,i){delete n.touches[e],n._propagate("touchend",e,t,r,i)})),this.$el.addEventListener("touchcancel",this._handleTouch(function(e,t,r,i){delete n.touches[e],n._propagate("touchend",e,t,r,i)}))}return(0,a["default"])(e,[{key:"destroy",value:function(){this.$el.removeEventListener("touchstart",this._handleTouch),this.$el.removeEventListener("touchmove",this._handleTouch),this.$el.removeEventListener("touchend",this._handleTouch),this.$el.removeEventListener("touchcancel",this._handleTouch)}},{key:"addListener",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}},{key:"removeListener",value:function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},{key:"_updateBoundingRect",value:function(){this._elBoundingRect=this.$el.getBoundingClientRect()}},{key:"_handleTouch",value:function(e){var t=this;return function(n){(!t._elBoundingRect||0===t._elBoundingRect.width&&0===t._elBoundingRect.height)&&t._updateBoundingRect();for(var r=n.changedTouches,i=t._elBoundingRect,o=0;o<r.length;o++){var s=r[o],a=s.identifier,l=s.clientX-i.left,u=s.clientY-i.top;t._normX=l/i.width,t._normY=u/i.height,e(a,t._normX,t._normY,s)}}}},{key:"_propagate",value:function(e,t,n,r,i){var o=this._listeners[e];o&&o.forEach(function(e){return e(t,n,r,i)})}}]),e}();n["default"]=l},{"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/slicedToArray"),o=r(i),s=e("babel-runtime/helpers/toConsumableArray"),a=r(s),l=e("babel-runtime/core-js/object/assign"),u=r(l),c=e("babel-runtime/helpers/classCallCheck"),h=r(c),d=e("babel-runtime/helpers/createClass"),f=r(d),p=e("lodash.template"),b=r(p),m=e("./viewport"),v=r(m),g=e("dom-delegate"),y=r(g),_=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,h["default"])(this,e),this.tmpl=(0,b["default"])(t),this.content=n,this.events=r,this.options=(0,u["default"])({el:"div",id:null,className:null,priority:0},i),this.priority=this.options.priority,this.orientation=null,this.isVisible=!1,this.parentView=null,this.$el=document.createElement(this.options.el),this._components={},this._delegate=new y["default"](this.$el),this.onResize=this.onResize.bind(this),this.installEvents(this.events,!1)}return(0,f["default"])(e,[{key:"setViewComponent",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=this._components[t];r instanceof e&&r.remove(),null===n?delete this._components[t]:(this._components[t]=n,n.setParentView(this))}},{key:"setParentView",value:function(e){this.parentView=e}},{key:"_executeViewComponentMethod",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];for(var i in this._components){var o=this._components[i];o[e].apply(o,n)}}},{key:"_renderPartial",value:function(e){var t=this.$el.querySelector(e),n=this._components[e];if(t.innerHTML="",n)n.render(),n.appendTo(t),n.onRender(),this.isVisible?n.show():n.hide();else{var r=this.tmpl(this.content),i=document.createElement("div");i.innerHTML=r,t.innerHTML=i.querySelector(e).innerHTML,this.onRender()}}},{key:"_renderAll",value:function(){var e=this.options;if(e.id&&(this.$el.id=e.id),e.className){var t,n=e.className,r="string"==typeof n?[n]:n;(t=this.$el.classList).add.apply(t,(0,a["default"])(r))}var i=this.tmpl(this.content);this.$el.innerHTML=i,this.onRender();for(var o in this._components)this._renderPartial(o)}},{key:"render",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null!==e?this._renderPartial(e):this._renderAll(),this.isVisible&&this.onResize(v["default"].width,v["default"].height,v["default"].orientation,!0)}},{key:"appendTo",value:function(e){this.$parent=e,e.appendChild(this.$el)}},{key:"show",value:function(){this.$el.style.display="block",this.isVisible=!0,this._delegateEvents(),v["default"].addResizeListener(this.onResize),this._executeViewComponentMethod("show")}},{key:"hide",value:function(){this.$el.style.display="none",this.isVisible=!1,this._undelegateEvents(),v["default"].removeResizeListener(this.onResize),this._executeViewComponentMethod("hide")}},{key:"remove",value:function(){this.hide(),this.$el.remove(),this._executeViewComponentMethod("remove")}},{key:"onRender",value:function(){}},{key:"onResize",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];this.viewportWidth=e,this.viewportHeight=t,this.orientation=n,this.$el.style.width=e+"px",this.$el.style.height=t+"px",this.$el.classList.remove("portrait","landscape"),this.$el.classList.add(n),r&&this._executeViewComponentMethod("onResize",e,t,n)}},{key:"installEvents",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.isVisible&&this._undelegateEvents(),this.events=t?e:(0,u["default"])(this.events,e),this.isVisible&&this._delegateEvents()}},{key:"_delegateEvents",value:function(){for(var e in this.events){var t=e.split(/ +/),n=(0,o["default"])(t,2),r=n[0],i=n[1],s=this.events[e];this._delegate.on(r,i||null,s)}}},{key:"_undelegateEvents",value:function(){this._delegate.off()}}]),e}();n["default"]=_},{"./viewport":38,"babel-runtime/core-js/object/assign":43,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/slicedToArray":61,"babel-runtime/helpers/toConsumableArray":62,"dom-delegate":188,"lodash.template":189}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/set"),o=r(i),s={width:null,height:null,orientation:null,_callbacks:new o["default"],init:function(){this._onResize=this._onResize.bind(this),this._onResize(),window.addEventListener("resize",this._onResize,!1)},addResizeListener:function(e){this._callbacks.add(e),e(this.width,this.height,this.orientation)},removeResizeListener:function(e){this._callbacks["delete"](e)},_onResize:function(){var e=this;this.width=document.documentElement.clientWidth||window.innerWidth,this.height=document.documentElement.clientHeight||window.innerHeight,this.orientation=this.width>this.height?"landscape":"portrait",this._callbacks.forEach(function(t){t(e.width,e.height,e.orientation)})}};n["default"]=s},{"babel-runtime/core-js/set":51}],39:[function(e,t,n){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":64}],40:[function(e,t,n){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":65}],41:[function(e,t,n){t.exports={"default":e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":66}],42:[function(e,t,n){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":67}],43:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":68}],44:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":69}],45:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":70}],46:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":71}],47:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":72}],48:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":73}],49:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":74}],50:[function(e,t,n){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":75}],51:[function(e,t,n){t.exports={"default":e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":76}],52:[function(e,t,n){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":77}],53:[function(e,t,n){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":78}],54:[function(e,t,n){t.exports={"default":e("core-js/library/fn/weak-map"),__esModule:!0}},{"core-js/library/fn/weak-map":79}],55:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../core-js/object/define-property"),o=r(i);n["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},{"../core-js/object/define-property":45}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../core-js/object/define-property"),o=r(i);n["default"]=function(e,t,n){return t in e?(0,o["default"])(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},{"../core-js/object/define-property":45}],58:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../core-js/object/get-prototype-of"),o=r(i),s=e("../core-js/object/get-own-property-descriptor"),a=r(s);n["default"]=function l(e,t,n){null===e&&(e=Function.prototype);var r=(0,a["default"])(e,t);if(void 0===r){var i=(0,o["default"])(e);return null===i?void 0:l(i,t,n)}if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(n)}},{"../core-js/object/get-own-property-descriptor":46,"../core-js/object/get-prototype-of":47}],59:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../core-js/object/set-prototype-of"),o=r(i),s=e("../core-js/object/create"),a=r(s),l=e("../helpers/typeof"),u=r(l);n["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,u["default"])(t)));e.prototype=(0,a["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o["default"]?(0,o["default"])(e,t):e.__proto__=t)}},{"../core-js/object/create":44,"../core-js/object/set-prototype-of":49,"../helpers/typeof":63}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../helpers/typeof"),o=r(i);n["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,o["default"])(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":63}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../core-js/is-iterable"),o=r(i),s=e("../core-js/get-iterator"),a=r(s);n["default"]=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,l=(0,a["default"])(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o["default"])(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},{"../core-js/get-iterator":40,"../core-js/is-iterable":41}],62:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../core-js/array/from"),o=r(i);n["default"]=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o["default"])(e)}},{"../core-js/array/from":39}],63:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../core-js/symbol/iterator"),o=r(i),s=e("../core-js/symbol"),a=r(s),l="function"==typeof a["default"]&&"symbol"==typeof o["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":typeof e};n["default"]="function"==typeof a["default"]&&"symbol"===l(o["default"])?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":"undefined"==typeof e?"undefined":l(e)}},{"../core-js/symbol":52,"../core-js/symbol/iterator":53}],64:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":95,"../../modules/es6.array.from":163,"../../modules/es6.string.iterator":176}],65:[function(e,t,n){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":161,"../modules/es6.string.iterator":176,"../modules/web.dom.iterable":183}],66:[function(e,t,n){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":162,"../modules/es6.string.iterator":176,"../modules/web.dom.iterable":183}],67:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/_core").Map},{"../modules/_core":95,"../modules/es6.map":165,"../modules/es6.object.to-string":173,"../modules/es6.string.iterator":176,"../modules/es7.map.to-json":179,"../modules/web.dom.iterable":183}],68:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":95,"../../modules/es6.object.assign":166}],69:[function(e,t,n){e("../../modules/es6.object.create");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../modules/_core":95,"../../modules/es6.object.create":167}],70:[function(e,t,n){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,n){return r.defineProperty(e,t,n)}},{"../../modules/_core":95,"../../modules/es6.object.define-property":168}],71:[function(e,t,n){e("../../modules/es6.object.get-own-property-descriptor");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},{"../../modules/_core":95,"../../modules/es6.object.get-own-property-descriptor":169}],72:[function(e,t,n){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":95,"../../modules/es6.object.get-prototype-of":170}],73:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":95,"../../modules/es6.object.keys":171}],74:[function(e,t,n){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":95,"../../modules/es6.object.set-prototype-of":172}],75:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":95,"../modules/es6.object.to-string":173,"../modules/es6.promise":174,"../modules/es6.string.iterator":176,"../modules/web.dom.iterable":183}],76:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/_core").Set},{"../modules/_core":95,"../modules/es6.object.to-string":173,"../modules/es6.set":175,"../modules/es6.string.iterator":176,"../modules/es7.set.to-json":180,"../modules/web.dom.iterable":183}],77:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":95,"../../modules/es6.object.to-string":173,"../../modules/es6.symbol":177,"../../modules/es7.symbol.async-iterator":181,"../../modules/es7.symbol.observable":182}],78:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":158,"../../modules/es6.string.iterator":176,"../../modules/web.dom.iterable":183}],79:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/web.dom.iterable"),e("../modules/es6.weak-map"),t.exports=e("../modules/_core").WeakMap},{"../modules/_core":95,"../modules/es6.object.to-string":173,"../modules/es6.weak-map":178,"../modules/web.dom.iterable":183}],80:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],81:[function(e,t,n){t.exports=function(){}},{}],82:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],83:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":115}],84:[function(e,t,n){var r=e("./_for-of");t.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},{"./_for-of":105}],85:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-index");t.exports=function(e){return function(t,n,s){var a,l=r(t),u=i(l.length),c=o(s,u);if(e&&n!=n){for(;u>c;)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},{"./_to-index":150,"./_to-iobject":152,"./_to-length":153}],86:[function(e,t,n){var r=e("./_ctx"),i=e("./_iobject"),o=e("./_to-object"),s=e("./_to-length"),a=e("./_array-species-create");t.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h,f=t||a;return function(t,a,p){for(var b,m,v=o(t),g=i(v),y=r(a,p,3),_=s(g.length),A=0,w=n?f(t,_):l?f(t,0):void 0;_>A;A++)if((d||A in g)&&(b=g[A],m=y(b,A,v),e))if(n)w[A]=m;else if(m)switch(e){case 3:return!0;case 5:return b;case 6:return A;case 2:w.push(b)}else if(c)return!1;return h?-1:u||c?c:w}}},{"./_array-species-create":88,"./_ctx":97,"./_iobject":112,"./_to-length":153,"./_to-object":154}],87:[function(e,t,n){var r=e("./_is-object"),i=e("./_is-array"),o=e("./_wks")("species");t.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},{"./_is-array":114,"./_is-object":115,"./_wks":159}],88:[function(e,t,n){var r=e("./_array-species-constructor");t.exports=function(e,t){return new(r(e))(t)}},{"./_array-species-constructor":87}],89:[function(e,t,n){var r=e("./_cof"),i=e("./_wks")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":90,"./_wks":159}],90:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],91:[function(e,t,n){"use strict";var r=e("./_object-dp").f,i=e("./_object-create"),o=(e("./_hide"),e("./_redefine-all")),s=e("./_ctx"),a=e("./_an-instance"),l=e("./_defined"),u=e("./_for-of"),c=e("./_iter-define"),h=e("./_iter-step"),d=e("./_set-species"),f=e("./_descriptors"),p=e("./_meta").fastKey,b=f?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,c){var h=e(function(e,r){a(e,h,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[b]=0,void 0!=r&&u(r,n,e[c],e)});return o(h.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,
n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[b]=0},"delete":function(e){var t=this,n=m(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[b]--}return!!n},forEach:function(e){a(this,h,"forEach");for(var t,n=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!m(this,e)}}),f&&r(h.prototype,"size",{get:function(){return l(this[b])}}),h},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[b]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?h(0,n.k):"values"==t?h(0,n.v):h(0,[n.k,n.v]):(e._t=void 0,h(1))},n?"entries":"values",!n,!0),d(t)}}},{"./_an-instance":82,"./_ctx":97,"./_defined":98,"./_descriptors":99,"./_for-of":105,"./_hide":108,"./_iter-define":118,"./_iter-step":120,"./_meta":124,"./_object-create":127,"./_object-dp":128,"./_redefine-all":140,"./_set-species":143}],92:[function(e,t,n){var r=e("./_classof"),i=e("./_array-from-iterable");t.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},{"./_array-from-iterable":84,"./_classof":89}],93:[function(e,t,n){"use strict";var r=e("./_redefine-all"),i=e("./_meta").getWeak,o=e("./_an-object"),s=e("./_is-object"),a=e("./_an-instance"),l=e("./_for-of"),u=e("./_array-methods"),c=e("./_has"),h=u(5),d=u(6),f=0,p=function(e){return e._l||(e._l=new b)},b=function(){this.a=[]},m=function(e,t){return h(e.a,function(e){return e[0]===t})};b.prototype={get:function(e){var t=m(this,e);return t?t[1]:void 0},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,o){var u=e(function(e,r){a(e,u,t,"_i"),e._i=f++,e._l=void 0,void 0!=r&&l(r,n,e[o],e)});return r(u.prototype,{"delete":function(e){if(!s(e))return!1;var t=i(e);return t===!0?p(this)["delete"](e):t&&c(t,this._i)&&delete t[this._i]},has:function(e){if(!s(e))return!1;var t=i(e);return t===!0?p(this).has(e):t&&c(t,this._i)}}),u},def:function(e,t,n){var r=i(o(t),!0);return r===!0?p(e).set(t,n):r[e._i]=n,e},ufstore:p}},{"./_an-instance":82,"./_an-object":83,"./_array-methods":86,"./_for-of":105,"./_has":107,"./_is-object":115,"./_meta":124,"./_redefine-all":140}],94:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_export"),o=e("./_meta"),s=e("./_fails"),a=e("./_hide"),l=e("./_redefine-all"),u=e("./_for-of"),c=e("./_an-instance"),h=e("./_is-object"),d=e("./_set-to-string-tag"),f=e("./_object-dp").f,p=e("./_array-methods")(0),b=e("./_descriptors");t.exports=function(e,t,n,m,v,g){var y=r[e],_=y,A=v?"set":"add",w=_&&_.prototype,T={};return b&&"function"==typeof _&&(g||w.forEach&&!s(function(){(new _).entries().next()}))?(_=t(function(t,n){c(t,_,e,"_c"),t._c=new y,void 0!=n&&u(n,v,t[A],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!g||"clear"!=e)&&a(_.prototype,e,function(n,r){if(c(this,_,e),!t&&g&&!h(n))return"get"==e?void 0:!1;var i=this._c[e](0===n?0:n,r);return t?this:i})}),"size"in w&&f(_.prototype,"size",{get:function(){return this._c.size}})):(_=m.getConstructor(t,e,v,A),l(_.prototype,n),o.NEED=!0),d(_,e),T[e]=_,i(i.G+i.W+i.F,T),g||m.setStrong(_,e,v),_}},{"./_an-instance":82,"./_array-methods":86,"./_descriptors":99,"./_export":103,"./_fails":104,"./_for-of":105,"./_global":106,"./_hide":108,"./_is-object":115,"./_meta":124,"./_object-dp":128,"./_redefine-all":140,"./_set-to-string-tag":144}],95:[function(e,t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},{}],96:[function(e,t,n){"use strict";var r=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},{"./_object-dp":128,"./_property-desc":139}],97:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":80}],98:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],99:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":104}],100:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":106,"./_is-object":115}],101:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],102:[function(e,t,n){var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie");t.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),l=o.f,u=0;a.length>u;)l.call(e,s=a[u++])&&t.push(s);return t}},{"./_object-gops":133,"./_object-keys":136,"./_object-pie":137}],103:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_ctx"),s=e("./_hide"),a="prototype",l=function(e,t,n){var u,c,h,d=e&l.F,f=e&l.G,p=e&l.S,b=e&l.P,m=e&l.B,v=e&l.W,g=f?i:i[t]||(i[t]={}),y=g[a],_=f?r:p?r[t]:(r[t]||{})[a];f&&(n=t);for(u in n)c=!d&&_&&void 0!==_[u],c&&u in g||(h=c?_[u]:n[u],g[u]=f&&"function"!=typeof _[u]?n[u]:m&&c?o(h,r):v&&_[u]==h?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[a]=e[a],t}(h):b&&"function"==typeof h?o(Function.call,h):h,b&&((g.virtual||(g.virtual={}))[u]=h,e&l.R&&y&&!y[u]&&s(y,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":95,"./_ctx":97,"./_global":106,"./_hide":108}],104:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],105:[function(e,t,n){var r=e("./_ctx"),i=e("./_iter-call"),o=e("./_is-array-iter"),s=e("./_an-object"),a=e("./_to-length"),l=e("./core.get-iterator-method"),u={},c={},n=t.exports=function(e,t,n,h,d){var f,p,b,m,v=d?function(){return e}:l(e),g=r(n,h,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(f=a(e.length);f>y;y++)if(m=t?g(s(p=e[y])[0],p[1]):g(e[y]),m===u||m===c)return m}else for(b=v.call(e);!(p=b.next()).done;)if(m=i(b,g,p.value,t),m===u||m===c)return m};n.BREAK=u,n.RETURN=c},{"./_an-object":83,"./_ctx":97,"./_is-array-iter":113,"./_iter-call":116,"./_to-length":153,"./core.get-iterator-method":160}],106:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],107:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],108:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":99,"./_object-dp":128,"./_property-desc":139}],109:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":106}],110:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":99,"./_dom-create":100,"./_fails":104}],111:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],112:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":90}],113:[function(e,t,n){var r=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./_iterators":121,"./_wks":159}],114:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":90}],115:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],116:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var s=e["return"];throw void 0!==s&&r(s.call(e)),o}}},{"./_an-object":83}],117:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_hide":108,"./_object-create":127,"./_property-desc":139,"./_set-to-string-tag":144,"./_wks":159}],118:[function(e,t,n){"use strict";var r=e("./_library"),i=e("./_export"),o=e("./_redefine"),s=e("./_hide"),a=e("./_has"),l=e("./_iterators"),u=e("./_iter-create"),c=e("./_set-to-string-tag"),h=e("./_object-gpo"),d=e("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",b="keys",m="values",v=function(){return this};t.exports=function(e,t,n,g,y,_,A){u(n,t,g);var w,T,S,k=function(e){if(!f&&e in x)return x[e];switch(e){case b:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",P=y==m,M=!1,x=e.prototype,j=x[d]||x[p]||y&&x[y],E=j||k(y),R=y?P?k("entries"):E:void 0,G="Array"==t?x.entries||j:j;if(G&&(S=h(G.call(new e)),S!==Object.prototype&&(c(S,C,!0),r||a(S,d)||s(S,d,v))),P&&j&&j.name!==m&&(M=!0,E=function(){return j.call(this)}),r&&!A||!f&&!M&&x[d]||s(x,d,E),l[t]=E,l[C]=v,y)if(w={values:P?E:k(m),keys:_?E:k(b),entries:R},A)for(T in w)T in x||o(x,T,w[T]);else i(i.P+i.F*(f||M),t,w);return w}},{"./_export":103,"./_has":107,"./_hide":108,"./_iter-create":117,"./_iterators":121,"./_library":123,"./_object-gpo":134,"./_redefine":141,"./_set-to-string-tag":144,"./_wks":159}],119:[function(e,t,n){var r=e("./_wks")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(a){}return n}},{"./_wks":159}],120:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],121:[function(e,t,n){t.exports={}},{}],122:[function(e,t,n){var r=e("./_object-keys"),i=e("./_to-iobject");t.exports=function(e,t){for(var n,o=i(e),s=r(o),a=s.length,l=0;a>l;)if(o[n=s[l++]]===t)return n}},{"./_object-keys":136,"./_to-iobject":152}],123:[function(e,t,n){t.exports=!0},{}],124:[function(e,t,n){var r=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),s=e("./_object-dp").f,a=0,l=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},f=function(e){return u&&p.NEED&&l(e)&&!o(e,r)&&c(e),e},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:d,onFreeze:f}},{"./_fails":104,"./_has":107,"./_is-object":115,"./_object-dp":128,"./_uid":156}],125:[function(e,t,n){var r=e("./_global"),i=e("./_task").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,l="process"==e("./_cof")(s);t.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=s.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(l)n=function(){s.nextTick(u)};else if(o){var c=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(a&&a.resolve){var d=a.resolve();n=function(){d.then(u)}}else n=function(){i.call(r,u)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},{"./_cof":90,"./_global":106,"./_task":149}],126:[function(e,t,n){"use strict";var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie"),s=e("./_to-object"),a=e("./_iobject"),l=Object.assign;t.exports=!l||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,u=1,c=i.f,h=o.f;l>u;)for(var d,f=a(arguments[u++]),p=c?r(f).concat(c(f)):r(f),b=p.length,m=0;b>m;)h.call(f,d=p[m++])&&(n[d]=f[d]);return n}:l},{"./_fails":104,"./_iobject":112,"./_object-gops":133,"./_object-keys":136,"./_object-pie":137,"./_to-object":154}],127:[function(e,t,n){var r=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),a=function(){},l="prototype",u=function(){var t,n=e("./_dom-create")("iframe"),r=o.length,i=">";for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object</script"+i),t.close(),u=t.F;r--;)delete u[l][o[r]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(a[l]=r(e),n=new a,a[l]=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},{"./_an-object":83,"./_dom-create":100,"./_enum-bug-keys":101,"./_html":109,"./_object-dps":129,"./_shared-key":145}],128:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),s=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":83,"./_descriptors":99,"./_ie8-dom-define":110,"./_to-primitive":155}],129:[function(e,t,n){var r=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,l=0;a>l;)r.f(e,n=s[l++],t[n]);return e}},{"./_an-object":83,"./_descriptors":99,"./_object-dp":128,"./_object-keys":136}],130:[function(e,t,n){var r=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),s=e("./_to-primitive"),a=e("./_has"),l=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(n){}return a(e,t)?i(!r.f.call(e,t),e[t]):void 0}},{"./_descriptors":99,"./_has":107,"./_ie8-dom-define":110,"./_object-pie":137,"./_property-desc":139,"./_to-iobject":152,"./_to-primitive":155}],131:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},{"./_object-gopn":132,"./_to-iobject":152}],132:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{"./_enum-bug-keys":101,"./_object-keys-internal":135}],133:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],134:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":107,"./_shared-key":145,"./_to-object":154}],135:[function(e,t,n){var r=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,a=i(e),l=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(u,n)||u.push(n));return u}},{"./_array-includes":85,"./_has":107,"./_shared-key":145,"./_to-iobject":152}],136:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":101,"./_object-keys-internal":135}],137:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],138:[function(e,t,n){var r=e("./_export"),i=e("./_core"),o=e("./_fails");t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},{"./_core":95,"./_export":103,"./_fails":104}],139:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],140:[function(e,t,n){var r=e("./_hide");t.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},{"./_hide":108}],141:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":108}],142:[function(e,t,n){var r=e("./_is-object"),i=e("./_an-object"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},{"./_an-object":83,"./_ctx":97,"./_is-object":115,"./_object-gopd":130}],143:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_core"),o=e("./_object-dp"),s=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_core":95,"./_descriptors":99,"./_global":106,"./_object-dp":128,"./_wks":159}],144:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_has":107,"./_object-dp":128,"./_wks":159}],145:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":146,"./_uid":156}],146:[function(e,t,n){var r=e("./_global"),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./_global":106}],147:[function(e,t,n){var r=e("./_an-object"),i=e("./_a-function"),o=e("./_wks")("species");t.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},{"./_a-function":80,"./_an-object":83,"./_wks":159}],148:[function(e,t,n){var r=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),u=a.length;return 0>l||l>=u?e?"":void 0:(o=a.charCodeAt(l),55296>o||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):(o-55296<<10)+(s-56320)+65536)}}},{"./_defined":98,"./_to-integer":151}],149:[function(e,t,n){var r,i,o,s=e("./_ctx"),a=e("./_invoke"),l=e("./_html"),u=e("./_dom-create"),c=e("./_global"),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,b=0,m={},v="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){g.call(e.data)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++b]=function(){a("function"==typeof e?e:Function(e),t)},r(b),b},f=function(e){delete m[e]},"process"==e("./_cof")(h)?r=function(e){h.nextTick(s(g,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,r=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):r=v in u("script")?function(e){l.appendChild(u("script"))[v]=function(){l.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),t.exports={set:d,clear:f}},{"./_cof":90,"./_ctx":97,"./_dom-create":100,"./_global":106,"./_html":109,"./_invoke":111}],150:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return e=r(e),0>e?i(e+t,0):o(e,t)}},{"./_to-integer":151}],151:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],152:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":98,"./_iobject":112}],153:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./_to-integer":151}],154:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":98}],155:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":115}],156:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],157:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_library"),s=e("./_wks-ext"),a=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},{"./_core":95,"./_global":106,"./_library":123,"./_object-dp":128,"./_wks-ext":158}],158:[function(e,t,n){n.f=e("./_wks")},{"./_wks":159}],159:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,s="function"==typeof o,a=t.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},{"./_global":106,"./_shared":146,"./_uid":156}],160:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[r(e)]:void 0}},{"./_classof":89,"./_core":95,"./_iterators":121,"./_wks":159}],161:[function(e,t,n){var r=e("./_an-object"),i=e("./core.get-iterator-method");t.exports=e("./_core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},{"./_an-object":83,"./_core":95,"./core.get-iterator-method":160}],162:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},{"./_classof":89,"./_core":95,"./_iterators":121,"./_wks":159}],163:[function(e,t,n){"use strict";var r=e("./_ctx"),i=e("./_export"),o=e("./_to-object"),s=e("./_iter-call"),a=e("./_is-array-iter"),l=e("./_to-length"),u=e("./_create-property"),c=e("./core.get-iterator-method");i(i.S+i.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,h,d=o(e),f="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,m=void 0!==b,v=0,g=c(d);if(m&&(b=r(b,p>2?arguments[2]:void 0,2)),void 0==g||f==Array&&a(g))for(t=l(d.length),n=new f(t);t>v;v++)u(n,v,m?b(d[v],v):d[v]);else for(h=g.call(d),n=new f;!(i=h.next()).done;v++)u(n,v,m?s(h,b,[i.value,v],!0):i.value);return n.length=v,n}})},{"./_create-property":96,"./_ctx":97,"./_export":103,"./_is-array-iter":113,"./_iter-call":116,"./_iter-detect":119,"./_to-length":153,"./_to-object":154,"./core.get-iterator-method":160}],164:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":81,"./_iter-define":118,"./_iter-step":120,"./_iterators":121,"./_to-iobject":152}],165:[function(e,t,n){"use strict";var r=e("./_collection-strong");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{"./_collection":94,"./_collection-strong":91}],166:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":103,"./_object-assign":126}],167:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":103,"./_object-create":127}],168:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":99,"./_export":103,"./_object-dp":128}],169:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},{"./_object-gopd":130,"./_object-sap":138,"./_to-iobject":152}],170:[function(e,t,n){var r=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(r(e))}})},{"./_object-gpo":134,"./_object-sap":138,"./_to-object":154}],171:[function(e,t,n){var r=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(r(e))}})},{"./_object-keys":136,"./_object-sap":138,"./_to-object":154}],172:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":103,"./_set-proto":142}],173:[function(e,t,n){},{}],174:[function(e,t,n){"use strict";var r,i,o,s=e("./_library"),a=e("./_global"),l=e("./_ctx"),u=e("./_classof"),c=e("./_export"),h=e("./_is-object"),d=(e("./_an-object"),e("./_a-function")),f=e("./_an-instance"),p=e("./_for-of"),b=(e("./_set-proto").set,e("./_species-constructor")),m=e("./_task").set,v=e("./_microtask")(),g="Promise",y=a.TypeError,_=a.process,A=a[g],_=a.process,w="process"==u(_),T=function(){},S=!!function(){try{var t=A.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(T,T)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof n}catch(r){}}(),k=function(e,t){return e===t||e===A&&t===o},C=function(e){var t;return h(e)&&"function"==typeof(t=e.then)?t:!1},P=function(e){return k(A,e)?new M(e):new i(e)},M=i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw y("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},x=function(e){try{e()}catch(t){return{error:t}}},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s=i?t.ok:t.fail,a=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&G(e),e._h=1),s===!0?n=r:(u&&u.enter(),n=s(r),u&&u.exit()),n===t.promise?l(y("Promise-chain cycle")):(o=C(n))?o.call(n,a,l):a(n)):l(r)}catch(c){l(c)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&E(e)})}},E=function(e){m.call(a,function(){var t,n,r,i=e._v;if(R(e)&&(t=x(function(){w?_.emit("unhandledRejection",i,e):(n=a.onunhandledrejection)?n({promise:e,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=w||R(e)?2:1),e._a=void 0,t)throw t.error})},R=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!R(t.promise))return!1;return!0},G=function(e){m.call(a,function(){var t;w?_.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},O=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw y("Promise can't be resolved itself");(t=C(e))?v(function(){var r={_w:n,_d:!1};try{t.call(e,l(B,r,1),l(O,r,1))}catch(i){O.call(r,i)}}):(n._v=e,n._s=1,j(n,!1))}catch(r){O.call({_w:n,_d:!1},r)}}};S||(A=function(e){f(this,A,g,"_h"),d(e),r.call(this);try{e(l(B,this,1),l(O,this,1))}catch(t){O.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("./_redefine-all")(A.prototype,{then:function(e,t){var n=P(b(this,A));return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,n.domain=w?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},"catch":function(e){return this.then(void 0,e)}}),M=function(){var e=new r;this.promise=e,this.resolve=l(B,e,1),this.reject=l(O,e,1)}),c(c.G+c.W+c.F*!S,{Promise:A}),e("./_set-to-string-tag")(A,g),e("./_set-species")(g),o=e("./_core")[g],c(c.S+c.F*!S,g,{reject:function(e){var t=P(this),n=t.reject;return n(e),t.promise}}),c(c.S+c.F*(s||!S),g,{resolve:function(e){if(e instanceof A&&k(e.constructor,this))return e;var t=P(this),n=t.resolve;return n(e),t.promise}}),c(c.S+c.F*!(S&&e("./_iter-detect")(function(e){A.all(e)["catch"](T)})),g,{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=x(function(){var n=[],o=0,s=1;p(e,!1,function(e){var a=o++,l=!1;n.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,n[a]=e,--s||r(n))},i)}),--s||r(n)});return o&&i(o.error),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=x(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},{"./_a-function":80,"./_an-instance":82,"./_an-object":83,"./_classof":89,"./_core":95,"./_ctx":97,"./_export":103,"./_for-of":105,"./_global":106,"./_is-object":115,"./_iter-detect":119,"./_library":123,"./_microtask":125,"./_redefine-all":140,"./_set-proto":142,"./_set-species":143,"./_set-to-string-tag":144,"./_species-constructor":147,"./_task":149,"./_wks":159}],175:[function(e,t,n){"use strict";var r=e("./_collection-strong");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{"./_collection":94,"./_collection-strong":91}],176:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":118,"./_string-at":148}],177:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_has"),o=e("./_descriptors"),s=e("./_export"),a=e("./_redefine"),l=e("./_meta").KEY,u=e("./_fails"),c=e("./_shared"),h=e("./_set-to-string-tag"),d=e("./_uid"),f=e("./_wks"),p=e("./_wks-ext"),b=e("./_wks-define"),m=e("./_keyof"),v=e("./_enum-keys"),g=e("./_is-array"),y=e("./_an-object"),_=e("./_to-iobject"),A=e("./_to-primitive"),w=e("./_property-desc"),T=e("./_object-create"),S=e("./_object-gopn-ext"),k=e("./_object-gopd"),C=e("./_object-dp"),P=e("./_object-keys"),M=k.f,x=C.f,j=S.f,E=r.Symbol,R=r.JSON,G=R&&R.stringify,O="prototype",B=f("_hidden"),I=f("toPrimitive"),L={}.propertyIsEnumerable,D=c("symbol-registry"),H=c("symbols"),V=c("op-symbols"),$=Object[O],N="function"==typeof E,F=r.QObject,q=!F||!F[O]||!F[O].findChild,z=o&&u(function(){return 7!=T(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=M($,t);r&&delete $[t],x(e,t,n),r&&e!==$&&x($,t,r)}:x,W=function(e){var t=H[e]=T(E[O]);return t._k=e,t},X=N&&"symbol"==typeof E.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof E},U=function(e,t,n){return e===$&&U(V,t,n),y(e),t=A(t,!0),y(n),i(H,t)?(n.enumerable?(i(e,B)&&e[B][t]&&(e[B][t]=!1),n=T(n,{enumerable:w(0,!1)})):(i(e,B)||x(e,B,w(1,{})),e[B][t]=!0),z(e,t,n)):x(e,t,n)},K=function(e,t){y(e);for(var n,r=v(t=_(t)),i=0,o=r.length;o>i;)U(e,n=r[i++],t[n]);return e},Q=function(e,t){return void 0===t?T(e):K(T(e),t)},J=function(e){var t=L.call(this,e=A(e,!0));return this===$&&i(H,e)&&!i(V,e)?!1:t||!i(this,e)||!i(H,e)||i(this,B)&&this[B][e]?t:!0;
},Y=function(e,t){if(e=_(e),t=A(t,!0),e!==$||!i(H,t)||i(V,t)){var n=M(e,t);return!n||!i(H,t)||i(e,B)&&e[B][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=j(_(e)),r=[],o=0;n.length>o;)i(H,t=n[o++])||t==B||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===$,r=j(n?V:_(e)),o=[],s=0;r.length>s;)i(H,t=r[s++])&&(n?i($,t):!0)&&o.push(H[t]);return o};N||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===$&&t.call(V,n),i(this,B)&&i(this[B],e)&&(this[B][e]=!1),z(this,e,w(1,n))};return o&&q&&z($,e,{configurable:!0,set:t}),W(e)},a(E[O],"toString",function(){return this._k}),k.f=Y,C.f=U,e("./_object-gopn").f=S.f=Z,e("./_object-pie").f=J,e("./_object-gops").f=ee,o&&!e("./_library")&&a($,"propertyIsEnumerable",J,!0),p.f=function(e){return W(f(e))}),s(s.G+s.W+s.F*!N,{Symbol:E});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var te=P(f.store),ne=0;te.length>ne;)b(te[ne++]);s(s.S+s.F*!N,"Symbol",{"for":function(e){return i(D,e+="")?D[e]:D[e]=E(e)},keyFor:function(e){if(X(e))return m(D,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){q=!0},useSimple:function(){q=!1}}),s(s.S+s.F*!N,"Object",{create:Q,defineProperty:U,defineProperties:K,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),R&&s(s.S+s.F*(!N||u(function(){var e=E();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!X(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),(n||!g(t))&&(t=function(e,t){return n&&(t=n.call(this,e,t)),X(t)?void 0:t}),r[1]=t,G.apply(R,r)}}}),E[O][I]||e("./_hide")(E[O],I,E[O].valueOf),h(E,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},{"./_an-object":83,"./_descriptors":99,"./_enum-keys":102,"./_export":103,"./_fails":104,"./_global":106,"./_has":107,"./_hide":108,"./_is-array":114,"./_keyof":122,"./_library":123,"./_meta":124,"./_object-create":127,"./_object-dp":128,"./_object-gopd":130,"./_object-gopn":132,"./_object-gopn-ext":131,"./_object-gops":133,"./_object-keys":136,"./_object-pie":137,"./_property-desc":139,"./_redefine":141,"./_set-to-string-tag":144,"./_shared":146,"./_to-iobject":152,"./_to-primitive":155,"./_uid":156,"./_wks":159,"./_wks-define":157,"./_wks-ext":158}],178:[function(e,t,n){"use strict";var r,i=e("./_array-methods")(0),o=e("./_redefine"),s=e("./_meta"),a=e("./_object-assign"),l=e("./_collection-weak"),u=e("./_is-object"),c=(e("./_has"),s.getWeak),h=Object.isExtensible,d=l.ufstore,f={},p=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(u(e)){var t=c(e);return t===!0?d(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(this,e,t)}},m=t.exports=e("./_collection")("WeakMap",p,b,l,!0,!0);7!=(new m).set((Object.freeze||Object)(f),7).get(f)&&(r=l.getConstructor(p),a(r.prototype,b),s.NEED=!0,i(["delete","has","get","set"],function(e){var t=m.prototype,n=t[e];o(t,e,function(t,i){if(u(t)&&!h(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},{"./_array-methods":86,"./_collection":94,"./_collection-weak":93,"./_has":107,"./_is-object":115,"./_meta":124,"./_object-assign":126,"./_redefine":141}],179:[function(e,t,n){var r=e("./_export");r(r.P+r.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":92,"./_export":103}],180:[function(e,t,n){var r=e("./_export");r(r.P+r.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":92,"./_export":103}],181:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":157}],182:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":157}],183:[function(e,t,n){e("./es6.array.iterator");for(var r=e("./_global"),i=e("./_hide"),o=e("./_iterators"),s=e("./_wks")("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;5>l;l++){var u=a[l],c=r[u],h=c&&c.prototype;h&&!h[s]&&i(h,s,u),o[u]=o.Array}},{"./_global":106,"./_hide":108,"./_iterators":121,"./_wks":159,"./es6.array.iterator":164}],184:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function a(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=o,n.formatArgs=i,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":185}],185:[function(e,t,n){function r(){return n.colors[c++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(u||t);e.diff=o,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var i=n.formatters[r];if("function"==typeof i){var o=s[a];t=i.call(e,o),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var l=i.log||n.log||console.log.bind(console);l.apply(e,s)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=l,n.disable=s,n.enable=o,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,c=0},{ms:186}],186:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return s(e,c,"day")||s(e,u,"hour")||s(e,l,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,u=60*l,c=24*u,h=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}},{}],187:[function(e,t,n){"use strict";function r(e){this.listenerMap=[{},{}],e&&this.root(e),this.handle=r.prototype.handle.bind(this)}function i(e,t){return e.toLowerCase()===t.tagName.toLowerCase()}function o(e,t){return this.rootElement===window?t===document:this.rootElement===t}function s(e,t){return e===t.id}t.exports=r,r.prototype.root=function(e){var t,n=this.listenerMap;if(this.rootElement){for(t in n[1])n[1].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!1)}if(!e||!e.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=e;for(t in n[1])n[1].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!1);return this},r.prototype.captureForType=function(e){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(e)},r.prototype.on=function(e,t,n,r){var l,u,c,h;if(!e)throw new TypeError("Invalid event type: "+e);if("function"==typeof t&&(r=n,n=t,t=null),void 0===r&&(r=this.captureForType(e)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return l=this.rootElement,u=this.listenerMap[r?1:0],u[e]||(l&&l.addEventListener(e,this.handle,r),u[e]=[]),t?/^[a-z]+$/i.test(t)?(h=t,c=i):/^#[a-z0-9\-_]+$/i.test(t)?(h=t.slice(1),c=s):(h=t,c=a):(h=null,c=o.bind(this)),u[e].push({selector:t,handler:n,matcher:c,matcherParam:h}),this},r.prototype.off=function(e,t,n,r){var i,o,s,a,l;if("function"==typeof t&&(r=n,n=t,t=null),void 0===r)return this.off(e,t,n,!0),this.off(e,t,n,!1),this;if(s=this.listenerMap[r?1:0],!e){for(l in s)s.hasOwnProperty(l)&&this.off(l,t,n);return this}if(a=s[e],!a||!a.length)return this;for(i=a.length-1;i>=0;i--)o=a[i],t&&t!==o.selector||n&&n!==o.handler||a.splice(i,1);return a.length||(delete s[e],this.rootElement&&this.rootElement.removeEventListener(e,this.handle,r)),this},r.prototype.handle=function(e){var t,n,r,i,o,s,a,l=e.type,u=[],c="ftLabsDelegateIgnore";if(e[c]!==!0){switch(a=e.target,3===a.nodeType&&(a=a.parentNode),r=this.rootElement,i=e.eventPhase||(e.target!==e.currentTarget?3:2)){case 1:u=this.listenerMap[1][l];break;case 2:this.listenerMap[0]&&this.listenerMap[0][l]&&(u=u.concat(this.listenerMap[0][l])),this.listenerMap[1]&&this.listenerMap[1][l]&&(u=u.concat(this.listenerMap[1][l]));break;case 3:u=this.listenerMap[0][l]}for(n=u.length;a&&n;){for(t=0;n>t&&(o=u[t],o);t++)if(o.matcher.call(a,o.matcherParam,a)&&(s=this.fire(e,a,o)),s===!1)return e[c]=!0,void e.preventDefault();if(a===r)break;n=u.length,a=a.parentElement}}},r.prototype.fire=function(e,t,n){return n.handler.call(t,e,t)};var a=function(e){if(e){var t=e.prototype;return t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector}}(Element);r.prototype.destroy=function(){this.off(),this.root()}},{}],188:[function(e,t,n){"use strict";var r=e("./delegate");t.exports=function(e){return new r(e)},t.exports.Delegate=r},{"./delegate":187}],189:[function(e,t,n){function r(e){return"\\"+k[e]}function i(e){return!!e&&"object"==typeof e}function o(e,t,n,r){return void 0!==e&&P.call(r,n)?e:t}function s(e,t,n){for(var r=-1,i=b(t),o=i.length;++r<o;){var s=i[r],a=e[s],l=n(a,t[s],s,e,t);(l===l?l===a:a!==a)&&(void 0!==a||s in e)||(e[s]=l)}return e}function a(e,t){return null==t?e:c(t,b(t),e)}function l(e){return i(e)&&"string"==typeof e.message&&M.call(e)==g}function u(e,t,n){var i=v.imports._.templateSettings||v;n&&f(e,t,n)&&(t=n=void 0),e=h(e),t=s(a({},n||t),i,o);var u,c,m=s(a({},t.imports),i.imports,o),g=b(m),k=d(m,g),C=0,P=t.interpolate||T,M="__p += '",j=RegExp((t.escape||T).source+"|"+P.source+"|"+(P===p?w:T).source+"|"+(t.evaluate||T).source+"|$","g"),E="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(j,function(t,n,i,o,s,a){return i||(i=o),M+=e.slice(C,a).replace(S,r),n&&(u=!0,M+="' +\n__e("+n+") +\n'"),s&&(c=!0,M+="';\n"+s+";\n__p += '"),i&&(M+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),C=a+t.length,t}),M+="';\n";var R=t.variable;R||(M="with (obj) {\n"+M+"\n}\n"),M=(c?M.replace(y,""):M).replace(_,"$1").replace(A,"$1;"),M="function("+(R||"obj")+") {\n"+(R?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+M+"return __p\n}";var G=x(function(){return Function(g,E+"return "+M).apply(void 0,k)});if(G.source=M,l(G))throw G;return G}var c=e("lodash._basecopy"),h=e("lodash._basetostring"),d=e("lodash._basevalues"),f=e("lodash._isiterateecall"),p=e("lodash._reinterpolate"),b=e("lodash.keys"),m=e("lodash.restparam"),v=e("lodash.templatesettings"),g="[object Error]",y=/\b__p \+= '';/g,_=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,w=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/($^)/,S=/['\n\r\u2028\u2029\\]/g,k={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},C=Object.prototype,P=C.hasOwnProperty,M=C.toString,x=m(function(e,t){try{return e.apply(void 0,t)}catch(n){return l(n)?n:new Error(n)}});t.exports=u},{"lodash._basecopy":190,"lodash._basetostring":191,"lodash._basevalues":192,"lodash._isiterateecall":193,"lodash._reinterpolate":194,"lodash.keys":197,"lodash.restparam":201,"lodash.templatesettings":202}],190:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}t.exports=r},{}],191:[function(e,t,n){function r(e){return null==e?"":e+""}t.exports=r},{}],192:[function(e,t,n){function r(e,t){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e[t[n]];return i}t.exports=r},{}],193:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&a(h(e))}function o(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?c:t,e>-1&&e%1==0&&t>e}function s(e,t,n){if(!l(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=/^\d+$/,c=9007199254740991,h=r("length");t.exports=s},{}],194:[function(e,t,n){var r=/<%=([\s\S]+?)%>/g;t.exports=r},{}],195:[function(e,t,n){function r(e){return f[e]}function i(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||i(e)&&b.call(e)==c}function s(e){if("string"==typeof e)return e;if(null==e)return"";if(o(e))return m?g.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function a(e){return e=s(e),e&&d.test(e)?e.replace(h,r):e}var l=e("lodash._root"),u=1/0,c="[object Symbol]",h=/[&<>"'`]/g,d=RegExp(h.source),f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},p=Object.prototype,b=p.toString,m=l.Symbol,v=m?m.prototype:void 0,g=m?v.toString:void 0;t.exports=a},{"lodash._root":196}],196:[function(e,t,n){(function(e){function r(e){return e&&e.Object===Object?e:null}var i={"function":!0,object:!0},o=i[typeof n]&&n&&!n.nodeType?n:void 0,s=i[typeof t]&&t&&!t.nodeType?t:void 0,a=r(o&&s&&"object"==typeof e&&e),l=r(i[typeof self]&&self),u=r(i[typeof window]&&window),c=r(i[typeof this]&&this),h=a||u!==(c&&c.window)&&u||l||c||Function("return this")();t.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],197:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&s(g(e))}function o(e,t){return e="number"==typeof e||f.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&t>e}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function a(e){for(var t=u(e),n=t.length,r=n&&e.length,i=!!r&&s(r)&&(d(e)||h(e)),a=-1,l=[];++a<n;){var c=t[a];(i&&o(c,r)||b.call(e,c))&&l.push(c)}return l}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(d(e)||h(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=Array(t),u=t>0;++r<t;)a[r]=r+"";for(var c in e)u&&o(c,t)||"constructor"==c&&(i||!b.call(e,c))||a.push(c);return a}var c=e("lodash._getnative"),h=e("lodash.isarguments"),d=e("lodash.isarray"),f=/^\d+$/,p=Object.prototype,b=p.hasOwnProperty,m=c(Object,"keys"),v=9007199254740991,g=r("length"),y=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):l(e)?m(e):[]}:a;t.exports=y},{"lodash._getnative":198,"lodash.isarguments":199,"lodash.isarray":200}],198:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function o(e){return s(e)&&f.call(e)==l}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:o(e)?p.test(h.call(e)):r(e)&&u.test(e)}var l="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,h=Function.prototype.toString,d=c.hasOwnProperty,f=c.toString,p=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{}],199:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function i(e){return s(e)&&m.call(e,"callee")&&(!g.call(e,"callee")||v.call(e)==d)}function o(e){return null!=e&&l(y(e))&&!a(e)}function s(e){return c(e)&&o(e)}function a(e){var t=u(e)?v.call(e):"";return t==f||t==p}function l(e){return"number"==typeof e&&e>-1&&e%1==0&&h>=e}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==typeof e}var h=9007199254740991,d="[object Arguments]",f="[object Function]",p="[object GeneratorFunction]",b=Object.prototype,m=b.hasOwnProperty,v=b.toString,g=b.propertyIsEnumerable,y=r("length");t.exports=i},{}],200:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return l(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function s(e){return a(e)&&b.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return null==e?!1:s(e)?m.test(f.call(e)):r(e)&&h.test(e)}var u="[object Array]",c="[object Function]",h=/^\[object .+?Constructor\]$/,d=Object.prototype,f=Function.prototype.toString,p=d.hasOwnProperty,b=d.toString,m=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=i(Array,"isArray"),g=9007199254740991,y=v||function(e){return r(e)&&o(e.length)&&b.call(e)==u};t.exports=y},{}],201:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(i);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),s=Array(i);++r<i;)s[r]=n[t+r];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=s,e.apply(this,a)}}var i="Expected a function",o=Math.max;t.exports=r},{}],202:[function(e,t,n){var r=e("lodash.escape"),i=e("lodash._reinterpolate"),o=/<%-([\s\S]+?)%>/g,s=/<%([\s\S]+?)%>/g,a={escape:o,evaluate:s,interpolate:i,variable:"",imports:{_:{escape:r}}};t.exports=a},{"lodash._reinterpolate":194,"lodash.escape":195}],203:[function(e,t,n){!function(e,t){e(function(){"use strict";function e(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function n(e,t){var n,r,i=e.length;if(!i||!t)return!1;for(n=t.toLowerCase(),r=0;i>r;++r)if(n===e[r].toLowerCase())return!0;return!1}function r(e){for(var t in e)a.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function i(e,t){this.ua=e||"",this._cache={},this.maxPhoneWidth=t||600}var o={};o.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",
LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b|\\bTP750\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},o.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var s,a=Object.prototype.hasOwnProperty;return o.FALLBACK_PHONE="UnknownPhone",o.FALLBACK_TABLET="UnknownTablet",o.FALLBACK_MOBILE="UnknownMobile",s="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var e,t,n,i,l,u,c=o.mobileDetectRules;for(e in c.props)if(a.call(c.props,e)){for(t=c.props[e],s(t)||(t=[t]),l=t.length,i=0;l>i;++i)n=t[i],u=n.indexOf("[VER]"),u>=0&&(n=n.substring(0,u)+"([\\w._\\+]+)"+n.substring(u+5)),t[i]=new RegExp(n,"i");c.props[e]=t}r(c.oss),r(c.phones),r(c.tablets),r(c.uas),r(c.utils),c.oss0={WindowsPhoneOS:c.oss.WindowsPhoneOS,WindowsMobileOS:c.oss.WindowsMobileOS}}(),o.findMatch=function(e,t){for(var n in e)if(a.call(e,n)&&e[n].test(t))return n;return null},o.findMatches=function(e,t){var n=[];for(var r in e)a.call(e,r)&&e[r].test(t)&&n.push(r);return n},o.getVersionStr=function(e,t){var n,r,i,s,l=o.mobileDetectRules.props;if(a.call(l,e))for(n=l[e],i=n.length,r=0;i>r;++r)if(s=n[r].exec(t),null!==s)return s[1];return null},o.getVersion=function(e,t){var n=o.getVersionStr(e,t);return n?o.prepareVersionNo(n):NaN},o.prepareVersionNo=function(e){var t;return t=e.split(/[a-z._ \/\-]/i),1===t.length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},o.isMobileFallback=function(e){return o.detectMobileBrowsers.fullPattern.test(e)||o.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},o.isTabletFallback=function(e){return o.detectMobileBrowsers.tabletPattern.test(e)},o.prepareDetectionCache=function(e,n,r){if(e.mobile===t){var s,a,l;return(a=o.findMatch(o.mobileDetectRules.tablets,n))?(e.mobile=e.tablet=a,void(e.phone=null)):(s=o.findMatch(o.mobileDetectRules.phones,n))?(e.mobile=e.phone=s,void(e.tablet=null)):void(o.isMobileFallback(n)?(l=i.isPhoneSized(r),l===t?(e.mobile=o.FALLBACK_MOBILE,e.tablet=e.phone=null):l?(e.mobile=e.phone=o.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null)):o.isTabletFallback(n)?(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null)}},o.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile")<=5.2,"C")},o.detectOS=function(e){return o.findMatch(o.mobileDetectRules.oss0,e)||o.findMatch(o.mobileDetectRules.oss,e)},o.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},i.prototype={constructor:i,mobile:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===t&&(this._cache.userAgent=o.findMatch(o.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=o.findMatches(o.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=o.detectOS(this.ua)),this._cache.os},version:function(e){return o.getVersion(e,this.ua)},versionStr:function(e){return o.getVersionStr(e,this.ua)},is:function(t){return n(this.userAgents(),t)||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||n(o.findMatches(o.mobileDetectRules.utils,this.ua),t)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return i.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=o.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?i.isPhoneSized=function(e){return 0>e?t:o.getDeviceSmallerSide()<=e}:i.isPhoneSized=function(){},i._impl=o,i})}(function(e){if("undefined"!=typeof t&&t.exports)return function(e){t.exports=e()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(e){window.MobileDetect=e()};throw new Error("unknown environment")}())},{}],204:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("./InputModule"),l=function(e){function t(e,n){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n),this.DOMEventModule=e,this.event=[0,0,0],this._webkitCompassHeadingReference=null}return i(t,e),o(t,[{key:"start",value:function(){this.DOMEventModule._addListener()}},{key:"stop",value:function(){this.DOMEventModule._removeListener()}},{key:"init",value:function(){var e=this;this.DOMEventModule.required[this.eventType]=!0;var t=this.DOMEventModule.promise;return t||(t=this.DOMEventModule.init()),t.then(function(t){return e})}}]),t}(a);t.exports=l},{"./InputModule":208,"babel-runtime/helpers/class-call-check":218,"babel-runtime/helpers/create-class":219,"babel-runtime/helpers/get":220,"babel-runtime/helpers/inherits":221}],205:[function(e,t,n){"use strict";function r(){return window.performance?window.performance.now()/1e3:Date.now()/1e3}var i=e("babel-runtime/helpers/get")["default"],o=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("./InputModule"),u=e("./DOMEventSubmodule"),c=e("./MotionInput"),h=e("platform"),d=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"devicemotion"),this.event=[null,null,null,null,null,null,null,null,null],this.accelerationIncludingGravity=new u(this,"accelerationIncludingGravity"),this.acceleration=new u(this,"acceleration"),this.rotationRate=new u(this,"rotationRate"),this.required={accelerationIncludingGravity:!1,acceleration:!1,rotationRate:!1},this._numListeners=0,this._promiseResolve=null,this._unifyMotionData="iOS"===h.os.family?-1:1,this._unifyPeriod="Android"===h.os.family?.001:1,this._calculatedAcceleration=[0,0,0],this._calculatedAccelerationTimeConstant=.1,this._lastAccelerationIncludingGravity=[0,0,0],this._calculatedRotationRate=[0,0,0],this._lastOrientation=[0,0,0],this._lastOrientationTimestamp=null,this._devicemotionCheck=this._devicemotionCheck.bind(this),this._devicemotionListener=this._devicemotionListener.bind(this)}return o(t,e),s(t,[{key:"_devicemotionCheck",value:function(e){this.isProvided=!0,this.period=e.interval/1e3,this.accelerationIncludingGravity.isProvided=e.accelerationIncludingGravity&&"number"==typeof e.accelerationIncludingGravity.x&&"number"==typeof e.accelerationIncludingGravity.y&&"number"==typeof e.accelerationIncludingGravity.z,this.accelerationIncludingGravity.period=e.interval*this._unifyPeriod,this.acceleration.isProvided=e.acceleration&&"number"==typeof e.acceleration.x&&"number"==typeof e.acceleration.y&&"number"==typeof e.acceleration.z,this.acceleration.period=e.interval*this._unifyPeriod,this.rotationRate.isProvided=e.rotationRate&&"number"==typeof e.rotationRate.alpha&&"number"==typeof e.rotationRate.beta&&"number"==typeof e.rotationRate.gamma,this.rotationRate.period=e.interval*this._unifyPeriod,window.removeEventListener("devicemotion",this._devicemotionCheck,!1),this.acceleration.isProvided||(this.acceleration.isCalculated=this.accelerationIncludingGravity.isProvided),this._promiseResolve(this)}},{key:"_devicemotionListener",value:function(e){this._emitDeviceMotionEvent(e),this.required.accelerationIncludingGravity&&this.accelerationIncludingGravity.isValid&&this._emitAccelerationIncludingGravityEvent(e),this.required.acceleration&&this.acceleration.isValid&&this._emitAccelerationEvent(e),this.required.rotationRate&&this.rotationRate.isProvided&&this._emitRotationRateEvent(e)}},{key:"_emitDeviceMotionEvent",value:function(e){var t=this.event;e.accelerationIncludingGravity&&(t[0]=e.accelerationIncludingGravity.x,t[1]=e.accelerationIncludingGravity.y,t[2]=e.accelerationIncludingGravity.z),e.acceleration&&(t[3]=e.acceleration.x,t[4]=e.acceleration.y,t[5]=e.acceleration.z),e.rotationRate&&(t[6]=e.rotationRate.alpha,t[7]=e.rotationRate.beta,t[8]=e.rotationRate.gamma),this.emit(t)}},{key:"_emitAccelerationIncludingGravityEvent",value:function(e){var t=this.accelerationIncludingGravity.event;t[0]=e.accelerationIncludingGravity.x*this._unifyMotionData,t[1]=e.accelerationIncludingGravity.y*this._unifyMotionData,t[2]=e.accelerationIncludingGravity.z*this._unifyMotionData,this.accelerationIncludingGravity.emit(t)}},{key:"_emitAccelerationEvent",value:function(e){var t=this.acceleration.event;if(this.acceleration.isProvided)t[0]=e.acceleration.x*this._unifyMotionData,t[1]=e.acceleration.y*this._unifyMotionData,t[2]=e.acceleration.z*this._unifyMotionData;else if(this.accelerationIncludingGravity.isValid){var n=[e.accelerationIncludingGravity.x*this._unifyMotionData,e.accelerationIncludingGravity.y*this._unifyMotionData,e.accelerationIncludingGravity.z*this._unifyMotionData],r=this._calculatedAccelerationDecay;this._calculatedAcceleration[0]=.5*(1+r)*n[0]-.5*(1+r)*this._lastAccelerationIncludingGravity[0]+r*this._calculatedAcceleration[0],this._calculatedAcceleration[1]=.5*(1+r)*n[1]-.5*(1+r)*this._lastAccelerationIncludingGravity[1]+r*this._calculatedAcceleration[1],this._calculatedAcceleration[2]=.5*(1+r)*n[2]-.5*(1+r)*this._lastAccelerationIncludingGravity[2]+r*this._calculatedAcceleration[2],this._lastAccelerationIncludingGravity[0]=n[0],this._lastAccelerationIncludingGravity[1]=n[1],this._lastAccelerationIncludingGravity[2]=n[2],t[0]=this._calculatedAcceleration[0],t[1]=this._calculatedAcceleration[1],t[2]=this._calculatedAcceleration[2]}this.acceleration.emit(t)}},{key:"_emitRotationRateEvent",value:function(e){var t=this.rotationRate.event;t[0]=e.rotationRate.alpha,t[1]=e.rotationRate.beta,t[2]=e.rotationRate.gamma,this.rotationRate.emit(t)}},{key:"_calculateRotationRateFromOrientation",value:function(e){var t=r(),n=.8,i="number"==typeof e[0];if(this._lastOrientationTimestamp){var o=null,s=void 0,a=void 0,l=0,u=0,c=0,h=t-this._lastOrientationTimestamp;i&&(this._lastOrientation[0]>320&&e[0]<40?l=360:this._lastOrientation[0]<40&&e[0]>320&&(l=-360)),this._lastOrientation[1]>140&&e[1]<-140?u=360:this._lastOrientation[1]<-140&&e[1]>140&&(u=-360),this._lastOrientation[2]>50&&e[2]<-50?c=180:this._lastOrientation[2]<-50&&e[2]>50&&(c=-180),h>0&&(i&&(o=n*this._calculatedRotationRate[0]+(1-n)*(e[0]-this._lastOrientation[0]+l)/h),s=n*this._calculatedRotationRate[1]+(1-n)*(e[1]-this._lastOrientation[1]+u)/h,a=n*this._calculatedRotationRate[2]+(1-n)*(e[2]-this._lastOrientation[2]+c)/h,this._calculatedRotationRate[0]=o,this._calculatedRotationRate[1]=s,this._calculatedRotationRate[2]=a),this.rotationRate.emit(this._calculatedRotationRate)}this._lastOrientationTimestamp=t,this._lastOrientation[0]=e[0],this._lastOrientation[1]=e[1],this._lastOrientation[2]=e[2]}},{key:"_tryOrientationFallback",value:function(){var e=this;c.requireModule("orientation").then(function(t){t.isValid&&(console.log("WARNING (motion-input): The 'devicemotion' event does not exists or does not provide rotation rate values in your browser, so the rotation rate of the device is estimated from the 'orientation', calculated from the 'deviceorientation' event. Since the compass might not be available, only `beta` and `gamma` angles may be provided (`alpha` would be null)."),e.rotationRate.isCalculated=!0,c.addListener("orientation",function(t){e._calculateRotationRateFromOrientation(t)})),e._promiseResolve(e)})}},{key:"_addListener",value:function(){this._numListeners++,1===this._numListeners&&window.addEventListener("devicemotion",this._devicemotionListener,!1)}},{key:"_removeListener",value:function(){this._numListeners--,0===this._numListeners&&window.removeEventListener("devicemotion",this._devicemotionListener,!1)}},{key:"init",value:function(){var e=this;return i(Object.getPrototypeOf(t.prototype),"init",this).call(this,function(t){e._promiseResolve=t,window.DeviceMotionEvent?window.addEventListener("devicemotion",e._devicemotionCheck,!1):t(e);
})}},{key:"addListener",value:function(e){i(Object.getPrototypeOf(t.prototype),"addListener",this).call(this,e),this._addListener()}},{key:"removeListener",value:function(e){i(Object.getPrototypeOf(t.prototype),"removeListener",this).call(this,e),this._removeListener()}},{key:"_calculatedAccelerationDecay",get:function(){return Math.exp(-2*Math.PI*this.accelerationIncludingGravity.period/this._calculatedAccelerationTimeConstant)}}]),t}(l);t.exports=new d},{"./DOMEventSubmodule":204,"./InputModule":208,"./MotionInput":209,"babel-runtime/helpers/class-call-check":218,"babel-runtime/helpers/create-class":219,"babel-runtime/helpers/get":220,"babel-runtime/helpers/inherits":221,platform:288}],206:[function(e,t,n){"use strict";function r(e){return e*Math.PI/180}function i(e){return 180*e/Math.PI}function o(e){for(var t=e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[0]*e[5]*e[7]-e[1]*e[3]*e[8]-e[2]*e[4]*e[6],n=0;n<e.length;n++)e[n]/=t;return e}function s(e){var t="number"==typeof e[0],n=t?r(e[0]):0,s=r(e[1]),a=r(e[2]),l=Math.cos(n),u=Math.cos(s),c=Math.cos(a),h=Math.sin(n),d=Math.sin(s),f=Math.sin(a),p=void 0,b=void 0,m=void 0,v=[l*c-h*d*f,-u*h,l*f+c*h*d,c*h+l*d*f,l*u,h*f-l*c*d,-u*f,d,u*c];o(v),v[8]>0?(p=Math.atan2(-v[1],v[4]),b=Math.asin(v[7]),m=Math.atan2(-v[6],v[8])):v[8]<0?(p=Math.atan2(v[1],-v[4]),b=-Math.asin(v[7]),b+=b>=0?-Math.PI:Math.PI,m=Math.atan2(v[6],-v[8])):v[6]>0?(p=Math.atan2(-v[1],v[4]),b=Math.asin(v[7]),m=-Math.PI/2):v[6]<0?(p=Math.atan2(v[1],-v[4]),b=-Math.asin(v[7]),b+=b>=0?-Math.PI:Math.PI,m=-Math.PI/2):(p=Math.atan2(v[3],v[0]),b=v[7]>0?Math.PI/2:-Math.PI/2,m=0),p+=0>p?2*Math.PI:0,e[0]=t?i(p):null,e[1]=i(b),e[2]=i(m)}function a(e){var t="number"==typeof e[0],n=t?r(e[0]):0,s=r(e[1]),a=r(e[2]),l=Math.cos(n),u=Math.cos(s),c=Math.cos(a),h=Math.sin(n),d=Math.sin(s),f=Math.sin(a),p=void 0,b=void 0,m=void 0,v=[l*c-h*d*f,-u*h,l*f+c*h*d,c*h+l*d*f,l*u,h*f-l*c*d,-u*f,d,u*c];o(v),p=Math.atan2(-v[1],v[4]),p+=0>p?2*Math.PI:0,b=Math.asin(v[7]),m=Math.atan2(-v[6],v[8]),e[0]=t?i(p):null,e[1]=i(b),e[2]=i(m)}var l=e("babel-runtime/helpers/get")["default"],u=e("babel-runtime/helpers/inherits")["default"],c=e("babel-runtime/helpers/create-class")["default"],h=e("babel-runtime/helpers/class-call-check")["default"],d=e("./DOMEventSubmodule"),f=e("./InputModule"),p=e("./MotionInput"),b=e("platform"),m=function(e){function t(){h(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"deviceorientation"),this.event=[null,null,null],this.orientation=new d(this,"orientation"),this.orientationAlt=new d(this,"orientationAlt"),this.required={orientation:!1,orientationAlt:!1},this._numListeners=0,this._promiseResolve=null,this._estimatedGravity=[0,0,0],this._deviceorientationCheck=this._deviceorientationCheck.bind(this),this._deviceorientationListener=this._deviceorientationListener.bind(this)}return u(t,e),c(t,[{key:"_deviceorientationCheck",value:function(e){this.isProvided=!0;var t="number"==typeof e.alpha&&"number"==typeof e.beta&&"number"==typeof e.gamma;this.orientation.isProvided=t,this.orientationAlt.isProvided=t,window.removeEventListener("deviceorientation",this._deviceorientationCheck,!1),this.required.orientation&&!this.orientation.isProvided||this.required.orientationAlt&&!this.orientationAlt.isProvided?this._tryAccelerationIncludingGravityFallback():this._promiseResolve(this)}},{key:"_deviceorientationListener",value:function(e){var t=this.event;if(t[0]=e.alpha,t[1]=e.beta,t[2]=e.gamma,this.emit(t),this.required.orientation&&this.orientation.isProvided){!this.orientation._webkitCompassHeadingReference&&e.webkitCompassHeading&&"iOS"===b.os.family&&(this.orientation._webkitCompassHeadingReference=e.webkitCompassHeading);var n=this.orientation.event;n[0]=e.alpha,n[1]=e.beta,n[2]=e.gamma,this.orientation._webkitCompassHeadingReference&&"iOS"===b.os.family&&(n[0]+=360-this.orientation._webkitCompassHeadingReference,s(n)),this.orientation.emit(n)}if(this.required.orientationAlt&&this.orientationAlt.isProvided){!this.orientationAlt._webkitCompassHeadingReference&&e.webkitCompassHeading&&"iOS"===b.os.family&&(this.orientationAlt._webkitCompassHeadingReference=e.webkitCompassHeading);var r=this.orientationAlt.event;r[0]=e.alpha,r[1]=e.beta,r[2]=e.gamma,this.orientationAlt._webkitCompassHeadingReference&&"iOS"===b.os.family&&(r[0]-=this.orientationAlt._webkitCompassHeadingReference,r[0]+=r[0]<0?360:0),"Android"===b.os.family&&a(r),this.orientationAlt.emit(r)}}},{key:"_tryAccelerationIncludingGravityFallback",value:function(){var e=this;p.requireModule("accelerationIncludingGravity").then(function(t){t.isValid&&(console.log("WARNING (motion-input): The 'deviceorientation' event does not exist or does not provide values in your browser, so the orientation of the device is estimated from DeviceMotion's 'accelerationIncludingGravity' event. Since the compass is not available, only the `beta` and `gamma` angles are provided (`alpha` is null)."),e.required.orientation&&(e.orientation.isCalculated=!0,e.orientation.period=t.period,p.addListener("accelerationIncludingGravity",function(t){e._calculateBetaAndGammaFromAccelerationIncludingGravity(t)})),e.required.orientationAlt&&(e.orientationAlt.isCalculated=!0,e.orientationAlt.period=t.period,p.addListener("accelerationIncludingGravity",function(t){e._calculateBetaAndGammaFromAccelerationIncludingGravity(t,!0)}))),e._promiseResolve(e)})}},{key:"_calculateBetaAndGammaFromAccelerationIncludingGravity",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=.8;this._estimatedGravity[0]=n*this._estimatedGravity[0]+(1-n)*e[0],this._estimatedGravity[1]=n*this._estimatedGravity[1]+(1-n)*e[1],this._estimatedGravity[2]=n*this._estimatedGravity[2]+(1-n)*e[2];var r=this._estimatedGravity[0],o=this._estimatedGravity[1],a=this._estimatedGravity[2],l=Math.sqrt(r*r+o*o+a*a);r/=l,o/=l,a/=l;var u=i(Math.asin(o)),c=i(Math.atan2(-r,a));if(t){var h=this.orientationAlt.event;h[0]=null,h[1]=u,h[2]=c,this.orientationAlt.emit(h)}else{var h=this.orientation.event;h[0]=null,h[1]=u,h[2]=c,s(h),this.orientation.emit(h)}}},{key:"_addListener",value:function(){this._numListeners++,1===this._numListeners&&window.addEventListener("deviceorientation",this._deviceorientationListener,!1)}},{key:"_removeListener",value:function(){this._numListeners--,0===this._numListeners&&(window.removeEventListener("deviceorientation",this._deviceorientationListener,!1),this.orientation._webkitCompassHeadingReference=null)}},{key:"init",value:function(){var e=this;return l(Object.getPrototypeOf(t.prototype),"init",this).call(this,function(t){e._promiseResolve=t,window.DeviceOrientationEvent?window.addEventListener("deviceorientation",e._deviceorientationCheck,!1):e.required.orientation?e._tryAccelerationIncludingGravityFallback():t(e)})}},{key:"addListener",value:function(e){l(Object.getPrototypeOf(t.prototype),"addListener",this).call(this,e),this._addListener()}},{key:"removeListener",value:function(e){l(Object.getPrototypeOf(t.prototype),"removeListener",this).call(this,e),this._removeListener()}}]),t}(f);t.exports=new m},{"./DOMEventSubmodule":204,"./InputModule":208,"./MotionInput":209,"babel-runtime/helpers/class-call-check":218,"babel-runtime/helpers/create-class":219,"babel-runtime/helpers/get":220,"babel-runtime/helpers/inherits":221,platform:288}],207:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/sliced-to-array")["default"],l=e("babel-runtime/core-js/promise")["default"],u=e("./InputModule"),c=e("./MotionInput"),h=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"energy"),this.event=0,this._accelerationModule=null,this._accelerationValues=null,this._accelerationMagnitudeCurrentMax=9.81,this._accelerationMagnitudeThreshold=20,this._rotationRateModule=null,this._rotationRateValues=null,this._rotationRateMagnitudeCurrentMax=200,this._rotationRateMagnitudeThreshold=600,this._energyTimeConstant=.1,this._onAcceleration=this._onAcceleration.bind(this),this._onRotationRate=this._onRotationRate.bind(this)}return i(t,e),o(t,[{key:"init",value:function(){var e=this;return r(Object.getPrototypeOf(t.prototype),"init",this).call(this,function(t){l.all([c.requireModule("acceleration"),c.requireModule("rotationRate")]).then(function(n){var r=a(n,2),i=r[0],o=r[1];e._accelerationModule=i,e._rotationRateModule=o,e.isCalculated=e._accelerationModule.isValid||e._rotationRateModule.isValid,e._accelerationModule.isValid?e.period=e._accelerationModule.period:e._rotationRateModule.isValid&&(e.period=e._rotationRateModule.period),t(e)})})}},{key:"start",value:function(){this._accelerationModule.isValid&&c.addListener("acceleration",this._onAcceleration),this._rotationRateModule.isValid&&c.addListener("rotationRate",this._onRotationRate)}},{key:"stop",value:function(){this._accelerationModule.isValid&&c.removeListener("acceleration",this._onAcceleration),this._rotationRateModule.isValid&&c.removeListener("rotationRate",this._onRotationRate)}},{key:"_onAcceleration",value:function(e){this._accelerationValues=e,this._rotationRateModule.isValid||this._calculateEnergy()}},{key:"_onRotationRate",value:function(e){this._rotationRateValues=e,this._calculateEnergy()}},{key:"_calculateEnergy",value:function(){var e=0,t=0;if(this._accelerationModule.isValid){var n=this._accelerationValues[0],r=this._accelerationValues[1],i=this._accelerationValues[2],o=Math.sqrt(n*n+r*r+i*i);this._accelerationMagnitudeCurrentMax<o&&(this._accelerationMagnitudeCurrentMax=Math.min(o,this._accelerationMagnitudeThreshold)),e=Math.min(o/this._accelerationMagnitudeCurrentMax,1)}if(this._rotationRateModule.isValid){var s=this._rotationRateValues[0],a=this._rotationRateValues[1],l=this._rotationRateValues[2],u=Math.sqrt(s*s+a*a+l*l);this._rotationRateMagnitudeCurrentMax<u&&(this._rotationRateMagnitudeCurrentMax=Math.min(u,this._rotationRateMagnitudeThreshold)),t=Math.min(u/this._rotationRateMagnitudeCurrentMax,1)}var c=Math.max(e,t),h=this._energyDecay;this.event=h*this.event+(1-h)*c,this.emit(this.event)}},{key:"_energyDecay",get:function(){return Math.exp(-2*Math.PI*this.period/this._energyTimeConstant)}}]),t}(u);t.exports=new h},{"./InputModule":208,"./MotionInput":209,"babel-runtime/core-js/promise":217,"babel-runtime/helpers/class-call-check":218,"babel-runtime/helpers/create-class":219,"babel-runtime/helpers/get":220,"babel-runtime/helpers/inherits":221,"babel-runtime/helpers/sliced-to-array":222}],208:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/promise")["default"],s=e("babel-runtime/core-js/get-iterator")["default"],a=function(){function e(t){i(this,e),this.eventType=t,this.listeners=[],this.event=null,this.promise=null,this.isCalculated=!1,this.isProvided=!1,this.period=void 0}return r(e,[{key:"init",value:function(e){return this.promise=new o(e),this.promise}},{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"addListener",value:function(e){this.listeners.push(e),1===this.listeners.length&&this.start()}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);this.listeners.splice(t,1),0===this.listeners.length&&this.stop()}},{key:"emit",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.event:arguments[0],t=!0,n=!1,r=void 0;try{for(var i,o=s(this.listeners);!(t=(i=o.next()).done);t=!0){var a=i.value;a(e)}}catch(l){n=!0,r=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"isValid",get:function(){return this.isProvided||this.isCalculated}}]),e}();t.exports=a},{"babel-runtime/core-js/get-iterator":211,"babel-runtime/core-js/promise":217,"babel-runtime/helpers/class-call-check":218,"babel-runtime/helpers/create-class":219}],209:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/promise")["default"],s=function(){function e(){i(this,e),this.modules={}}return r(e,[{key:"addModule",value:function(e,t){this.modules[e]=t}},{key:"getModule",value:function(e){return this.modules[e]}},{key:"requireModule",value:function(e){var t=this.getModule(e);return t.promise?t.promise:t.init()}},{key:"init",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var i=n.map(function(t){var n=e.getModule(t);return n.init()});return o.all(i)}},{key:"addListener",value:function(e,t){var n=this.getModule(e);n.addListener(t)}},{key:"removeListener",value:function(e,t){var n=this.getModule(e);n.removeListener(t)}}]),e}();t.exports=new s},{"babel-runtime/core-js/promise":217,"babel-runtime/helpers/class-call-check":218,"babel-runtime/helpers/create-class":219}],210:[function(e,t,n){"use strict";var r=e("./dist/MotionInput"),i=e("./dist/DeviceOrientationModule"),o=e("./dist/DeviceMotionModule"),s=e("./dist/EnergyModule");r.addModule("devicemotion",o),r.addModule("deviceorientation",i),r.addModule("accelerationIncludingGravity",o.accelerationIncludingGravity),r.addModule("acceleration",o.acceleration),r.addModule("rotationRate",o.rotationRate),r.addModule("orientation",i.orientation),r.addModule("orientationAlt",i.orientationAlt),r.addModule("energy",s),t.exports=r},{"./dist/DeviceMotionModule":205,"./dist/DeviceOrientationModule":206,"./dist/EnergyModule":207,"./dist/MotionInput":209}],211:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{"core-js/library/fn/get-iterator":223,dup:40}],212:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"core-js/library/fn/is-iterable":224,dup:41}],213:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{"core-js/library/fn/object/create":225,dup:44}],214:[function(e,t,n){arguments[4][45][0].apply(n,arguments)},{"core-js/library/fn/object/define-property":226,dup:45}],215:[function(e,t,n){arguments[4][46][0].apply(n,arguments)},{"core-js/library/fn/object/get-own-property-descriptor":227,dup:46}],216:[function(e,t,n){arguments[4][49][0].apply(n,arguments)},{"core-js/library/fn/object/set-prototype-of":228,dup:49}],217:[function(e,t,n){arguments[4][50][0].apply(n,arguments)},{"core-js/library/fn/promise":229,dup:50}],218:[function(e,t,n){"use strict";n["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],219:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/define-property")["default"];n["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{"babel-runtime/core-js/object/define-property":214}],220:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];n["default"]=function(e,t,n){for(var i=!0;i;){var o=e,s=t,a=n;i=!1,null===o&&(o=Function.prototype);var l=r(o,s);if(void 0!==l){if("value"in l)return l.value;var u=l.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=s,n=a,i=!0,l=c=void 0}},n.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":215}],221:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create")["default"],i=e("babel-runtime/core-js/object/set-prototype-of")["default"];n["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},n.__esModule=!0},{"babel-runtime/core-js/object/create":213,"babel-runtime/core-js/object/set-prototype-of":216}],222:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/get-iterator")["default"],i=e("babel-runtime/core-js/is-iterable")["default"];n["default"]=function(){function e(e,t){var n=[],i=!0,o=!1,s=void 0;try{for(var a,l=r(e);!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(u){o=!0,s=u}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(i(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n.__esModule=!0},{"babel-runtime/core-js/get-iterator":211,"babel-runtime/core-js/is-iterable":212}],223:[function(e,t,n){arguments[4][65][0].apply(n,arguments)},{"../modules/core.get-iterator":279,"../modules/es6.string.iterator":286,"../modules/web.dom.iterable":287,dup:65}],224:[function(e,t,n){arguments[4][66][0].apply(n,arguments)},{"../modules/core.is-iterable":280,"../modules/es6.string.iterator":286,"../modules/web.dom.iterable":287,dup:66}],225:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t){return r.create(e,t)}},{"../../modules/$":257}],226:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t,n){return r.setDesc(e,t,n)}},{"../../modules/$":257}],227:[function(e,t,n){var r=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return r.getDesc(e,t)}},{"../../modules/$":257,"../../modules/es6.object.get-own-property-descriptor":282}],228:[function(e,t,n){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":235,"../../modules/es6.object.set-prototype-of":283}],229:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":235,"../modules/es6.object.to-string":284,"../modules/es6.promise":285,"../modules/es6.string.iterator":286,"../modules/web.dom.iterable":287}],230:[function(e,t,n){arguments[4][80][0].apply(n,arguments)},{dup:80}],231:[function(e,t,n){arguments[4][81][0].apply(n,arguments)},{dup:81}],232:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":250}],233:[function(e,t,n){var r=e("./$.cof"),i=e("./$.wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},{"./$.cof":234,"./$.wks":277}],234:[function(e,t,n){arguments[4][90][0].apply(n,arguments)},{dup:90}],235:[function(e,t,n){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},{}],236:[function(e,t,n){var r=e("./$.a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":230}],237:[function(e,t,n){arguments[4][98][0].apply(n,arguments)},{dup:98}],238:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":241}],239:[function(e,t,n){var r=e("./$.is-object"),i=e("./$.global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./$.global":243,"./$.is-object":250}],240:[function(e,t,n){var r=e("./$.global"),i=e("./$.core"),o=e("./$.ctx"),s="prototype",a=function(e,t,n){var l,u,c,h=e&a.F,d=e&a.G,f=e&a.S,p=e&a.P,b=e&a.B,m=e&a.W,v=d?i:i[t]||(i[t]={}),g=d?r:f?r[t]:(r[t]||{})[s];d&&(n=t);for(l in n)u=!h&&g&&l in g,u&&l in v||(c=u?g[l]:n[l],v[l]=d&&"function"!=typeof g[l]?n[l]:b&&u?o(c,r):m&&g[l]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[s]=e[s],t}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((v[s]||(v[s]={}))[l]=c))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},{"./$.core":235,"./$.ctx":236,"./$.global":243}],241:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],242:[function(e,t,n){var r=e("./$.ctx"),i=e("./$.iter-call"),o=e("./$.is-array-iter"),s=e("./$.an-object"),a=e("./$.to-length"),l=e("./core.get-iterator-method");t.exports=function(e,t,n,u){var c,h,d,f=l(e),p=r(n,u,t?2:1),b=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(o(f))for(c=a(e.length);c>b;b++)t?p(s(h=e[b])[0],h[1]):p(e[b]);else for(d=f.call(e);!(h=d.next()).done;)i(d,p,h.value,t)}},{"./$.an-object":232,"./$.ctx":236,"./$.is-array-iter":249,"./$.iter-call":251,"./$.to-length":275,"./core.get-iterator-method":278}],243:[function(e,t,n){arguments[4][106][0].apply(n,arguments)},{dup:106}],244:[function(e,t,n){arguments[4][107][0].apply(n,arguments)},{dup:107}],245:[function(e,t,n){var r=e("./$"),i=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":257,"./$.descriptors":238,"./$.property-desc":261}],246:[function(e,t,n){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":243}],247:[function(e,t,n){arguments[4][111][0].apply(n,arguments)},{dup:111}],248:[function(e,t,n){var r=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./$.cof":234}],249:[function(e,t,n){var r=e("./$.iterators"),i=e("./$.wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./$.iterators":256,"./$.wks":277}],250:[function(e,t,n){arguments[4][115][0].apply(n,arguments)},{dup:115}],251:[function(e,t,n){var r=e("./$.an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var s=e["return"];throw void 0!==s&&r(s.call(e)),o}}},{"./$.an-object":232}],252:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.property-desc"),o=e("./$.set-to-string-tag"),s={};e("./$.hide")(s,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r.create(s,{next:i(1,n)}),o(e,t+" Iterator")}},{"./$":257,"./$.hide":245,"./$.property-desc":261,"./$.set-to-string-tag":267,"./$.wks":277}],253:[function(e,t,n){"use strict";var r=e("./$.library"),i=e("./$.export"),o=e("./$.redefine"),s=e("./$.hide"),a=e("./$.has"),l=e("./$.iterators"),u=e("./$.iter-create"),c=e("./$.set-to-string-tag"),h=e("./$").getProto,d=e("./$.wks")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",b="keys",m="values",v=function(){return this};t.exports=function(e,t,n,g,y,_,A){u(n,t,g);var w,T,S=function(e){if(!f&&e in M)return M[e];switch(e){case b:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",C=y==m,P=!1,M=e.prototype,x=M[d]||M[p]||y&&M[y],j=x||S(y);if(x){var E=h(j.call(new e));c(E,k,!0),!r&&a(M,p)&&s(E,d,v),C&&x.name!==m&&(P=!0,j=function(){return x.call(this)})}if(r&&!A||!f&&!P&&M[d]||s(M,d,j),l[t]=j,l[k]=v,y)if(w={values:C?j:S(m),keys:_?j:S(b),entries:C?S("entries"):j},A)for(T in w)T in M||o(M,T,w[T]);else i(i.P+i.F*(f||P),t,w);return w}},{"./$":257,"./$.export":240,"./$.has":244,"./$.hide":245,"./$.iter-create":252,"./$.iterators":256,"./$.library":258,"./$.redefine":263,"./$.set-to-string-tag":267,"./$.wks":277}],254:[function(e,t,n){var r=e("./$.wks")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){n=!0},o[r]=function(){return s},e(o)}catch(a){}return n}},{"./$.wks":277}],255:[function(e,t,n){arguments[4][120][0].apply(n,arguments)},{dup:120}],256:[function(e,t,n){arguments[4][121][0].apply(n,arguments)},{dup:121}],257:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],258:[function(e,t,n){arguments[4][123][0].apply(n,arguments)},{dup:123}],259:[function(e,t,n){var r,i,o,s=e("./$.global"),a=e("./$.task").set,l=s.MutationObserver||s.WebKitMutationObserver,u=s.process,c=s.Promise,h="process"==e("./$.cof")(u),d=function(){var e,t,n;for(h&&(e=u.domain)&&(u.domain=null,e.exit());r;)t=r.domain,n=r.fn,t&&t.enter(),n(),t&&t.exit(),r=r.next;i=void 0,e&&e.enter()};if(h)o=function(){u.nextTick(d)};else if(l){var f=1,p=document.createTextNode("");new l(d).observe(p,{characterData:!0}),o=function(){p.data=f=-f}}else o=c&&c.resolve?function(){c.resolve().then(d)}:function(){a.call(s,d)};t.exports=function(e){var t={fn:e,next:void 0,domain:h&&u.domain};i&&(i.next=t),r||(r=t,o()),i=t}},{"./$.cof":234,"./$.global":243,"./$.task":272}],260:[function(e,t,n){var r=e("./$.export"),i=e("./$.core"),o=e("./$.fails");t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},{"./$.core":235,"./$.export":240,"./$.fails":241}],261:[function(e,t,n){arguments[4][139][0].apply(n,arguments)},{dup:139}],262:[function(e,t,n){var r=e("./$.redefine");t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{"./$.redefine":263}],263:[function(e,t,n){t.exports=e("./$.hide")},{"./$.hide":245}],264:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],265:[function(e,t,n){var r=e("./$").getDesc,i=e("./$.is-object"),o=e("./$.an-object"),s=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{i=e("./$.ctx")(Function.call,r(Object.prototype,"__proto__").set,2),i(t,[]),n=!(t instanceof Array)}catch(o){n=!0}return function(e,t){return s(e,t),n?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:s}},{"./$":257,"./$.an-object":232,"./$.ctx":236,"./$.is-object":250}],266:[function(e,t,n){"use strict";var r=e("./$.core"),i=e("./$"),o=e("./$.descriptors"),s=e("./$.wks")("species");t.exports=function(e){var t=r[e];o&&t&&!t[s]&&i.setDesc(t,s,{configurable:!0,get:function(){return this}})}},{"./$":257,"./$.core":235,"./$.descriptors":238,"./$.wks":277}],267:[function(e,t,n){var r=e("./$").setDesc,i=e("./$.has"),o=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./$":257,"./$.has":244,"./$.wks":277}],268:[function(e,t,n){var r=e("./$.global"),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./$.global":243}],269:[function(e,t,n){var r=e("./$.an-object"),i=e("./$.a-function"),o=e("./$.wks")("species");t.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},{"./$.a-function":230,"./$.an-object":232,"./$.wks":277}],270:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},{}],271:[function(e,t,n){var r=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),u=a.length;return 0>l||l>=u?e?"":void 0:(o=a.charCodeAt(l),55296>o||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):(o-55296<<10)+(s-56320)+65536)}}},{"./$.defined":237,"./$.to-integer":273}],272:[function(e,t,n){var r,i,o,s=e("./$.ctx"),a=e("./$.invoke"),l=e("./$.html"),u=e("./$.dom-create"),c=e("./$.global"),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,b=0,m={},v="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){g.call(e.data)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++b]=function(){a("function"==typeof e?e:Function(e),t)},r(b),b},f=function(e){delete m[e]},"process"==e("./$.cof")(h)?r=function(e){h.nextTick(s(g,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,r=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):r=v in u("script")?function(e){l.appendChild(u("script"))[v]=function(){l.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),t.exports={set:d,clear:f}},{"./$.cof":234,"./$.ctx":236,"./$.dom-create":239,"./$.global":243,"./$.html":246,"./$.invoke":247}],273:[function(e,t,n){arguments[4][151][0].apply(n,arguments)},{dup:151}],274:[function(e,t,n){var r=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return r(i(e))}},{"./$.defined":237,"./$.iobject":248}],275:[function(e,t,n){var r=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./$.to-integer":273}],276:[function(e,t,n){arguments[4][156][0].apply(n,arguments)},{dup:156}],277:[function(e,t,n){var r=e("./$.shared")("wks"),i=e("./$.uid"),o=e("./$.global").Symbol;t.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||i)("Symbol."+e))}},{"./$.global":243,"./$.shared":268,"./$.uid":276}],278:[function(e,t,n){var r=e("./$.classof"),i=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[r(e)]:void 0}},{"./$.classof":233,"./$.core":235,"./$.iterators":256,"./$.wks":277}],279:[function(e,t,n){var r=e("./$.an-object"),i=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},{"./$.an-object":232,"./$.core":235,"./core.get-iterator-method":278}],280:[function(e,t,n){var r=e("./$.classof"),i=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},{"./$.classof":233,"./$.core":235,"./$.iterators":256,"./$.wks":277}],281:[function(e,t,n){"use strict";var r=e("./$.add-to-unscopables"),i=e("./$.iter-step"),o=e("./$.iterators"),s=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./$.add-to-unscopables":231,"./$.iter-define":253,"./$.iter-step":255,"./$.iterators":256,"./$.to-iobject":274}],282:[function(e,t,n){var r=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,n){return e(r(t),n)}})},{"./$.object-sap":260,"./$.to-iobject":274}],283:[function(e,t,n){var r=e("./$.export");r(r.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":240,"./$.set-proto":265}],284:[function(e,t,n){arguments[4][173][0].apply(n,arguments)},{dup:173}],285:[function(e,t,n){"use strict";var r,i=e("./$"),o=e("./$.library"),s=e("./$.global"),a=e("./$.ctx"),l=e("./$.classof"),u=e("./$.export"),c=e("./$.is-object"),h=e("./$.an-object"),d=e("./$.a-function"),f=e("./$.strict-new"),p=e("./$.for-of"),b=e("./$.set-proto").set,m=e("./$.same-value"),v=e("./$.wks")("species"),g=e("./$.species-constructor"),y=e("./$.microtask"),_="Promise",A=s.process,w="process"==l(A),T=s[_],S=function(e){var t=new T(function(){});return e&&(t.constructor=Object),T.resolve(t)===t},k=function(){function t(e){var n=new T(e);return b(n,t.prototype),n}var n=!1;try{if(n=T&&T.resolve&&S(),b(t,T),t.prototype=i.create(T.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(n=!1),n&&e("./$.descriptors")){var r=!1;T.resolve(i.setDesc({},"then",{get:function(){r=!0}})),n=r}}catch(o){n=!1}return n}(),C=function(e,t){return o&&e===T&&t===r?!0:m(e,t)},P=function(e){
var t=h(e)[v];return void 0!=t?t:e},M=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},x=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},j=function(e){try{e()}catch(t){return{error:t}}},E=function(e,t){if(!e.n){e.n=!0;var n=e.c;y(function(){for(var r=e.v,i=1==e.s,o=0,a=function(t){var n,o,s=i?t.ok:t.fail,a=t.resolve,l=t.reject;try{s?(i||(e.h=!0),n=s===!0?r:s(r),n===t.promise?l(TypeError("Promise-chain cycle")):(o=M(n))?o.call(n,a,l):a(n)):l(r)}catch(u){l(u)}};n.length>o;)a(n[o++]);n.length=0,e.n=!1,t&&setTimeout(function(){var t,n,i=e.p;R(i)&&(w?A.emit("unhandledRejection",r,i):(t=s.onunhandledrejection)?t({promise:i,reason:r}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},R=function(e){var t,n=e._d,r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(t=r[i++],t.fail||!R(t.promise))return!1;return!0},G=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),E(t,!0))},O=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=M(e))?y(function(){var r={r:n,d:!1};try{t.call(e,a(O,r,1),a(G,r,1))}catch(i){G.call(r,i)}}):(n.v=e,n.s=1,E(n,!1))}catch(r){G.call({r:n,d:!1},r)}}};k||(T=function(e){d(e);var t=this._d={p:f(this,T,_),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(a(O,t,1),a(G,t,1))}catch(n){G.call(t,n)}},e("./$.redefine-all")(T.prototype,{then:function(e,t){var n=new x(g(this,T)),r=n.promise,i=this._d;return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,i.c.push(n),i.a&&i.a.push(n),i.s&&E(i,!1),r},"catch":function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!k,{Promise:T}),e("./$.set-to-string-tag")(T,_),e("./$.set-species")(_),r=e("./$.core")[_],u(u.S+u.F*!k,_,{reject:function(e){var t=new x(this),n=t.reject;return n(e),t.promise}}),u(u.S+u.F*(!k||S(!0)),_,{resolve:function(e){if(e instanceof T&&C(e.constructor,this))return e;var t=new x(this),n=t.resolve;return n(e),t.promise}}),u(u.S+u.F*!(k&&e("./$.iter-detect")(function(e){T.all(e)["catch"](function(){})})),_,{all:function(e){var t=P(this),n=new x(t),r=n.resolve,o=n.reject,s=[],a=j(function(){p(e,!1,s.push,s);var n=s.length,a=Array(n);n?i.each.call(s,function(e,i){var s=!1;t.resolve(e).then(function(e){s||(s=!0,a[i]=e,--n||r(a))},o)}):r(a)});return a&&o(a.error),n.promise},race:function(e){var t=P(this),n=new x(t),r=n.reject,i=j(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},{"./$":257,"./$.a-function":230,"./$.an-object":232,"./$.classof":233,"./$.core":235,"./$.ctx":236,"./$.descriptors":238,"./$.export":240,"./$.for-of":242,"./$.global":243,"./$.is-object":250,"./$.iter-detect":254,"./$.library":258,"./$.microtask":259,"./$.redefine-all":262,"./$.same-value":264,"./$.set-proto":265,"./$.set-species":266,"./$.set-to-string-tag":267,"./$.species-constructor":269,"./$.strict-new":270,"./$.wks":277}],286:[function(e,t,n){"use strict";var r=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":253,"./$.string-at":271}],287:[function(e,t,n){e("./es6.array.iterator");var r=e("./$.iterators");r.NodeList=r.HTMLCollection=r.Array},{"./$.iterators":256,"./es6.array.iterator":281}],288:[function(e,t,n){(function(e){(function(){"use strict";function r(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function i(e,t,n){var r={6.4:"10",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=s(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").split(" on ")[0])}function o(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&_>=r)for(;++n<r;)t(e[n],n,e);else a(e,t)}function s(e){return e=d(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:r(e)}function a(e,t){for(var n in e)S.call(e,n)&&t(e[n],n,e)}function l(e){return null==e?r(e):k.call(e).slice(8,-1)}function u(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"==n?!!e[t]:!0)}function c(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function h(e,t){var n=null;return o(e,function(r,i){n=t(n,r,i,e)}),n}function d(e){return String(e).replace(/^ +| +$/g,"")}function f(e){function t(t){return h(t,function(t,n){return t||RegExp("\\b"+(n.pattern||c(n))+"\\b","i").exec(e)&&(n.label||n)})}function n(t){return h(t,function(t,n,r){return t||(n[K]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(K)]||RegExp("\\b"+c(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}function r(t){return h(t,function(t,n){return t||RegExp("\\b"+(n.pattern||c(n))+"\\b","i").exec(e)&&(n.label||n)})}function o(t){return h(t,function(t,n){var r=n.pattern||c(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=i(t,r,n.label||n)),t})}function p(t){return h(t,function(t,n){var r=n.pattern||c(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=s(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function v(t){return h(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function g(){return this.description||""}var y=b,_=e&&"object"==typeof e&&"String"!=l(e);_&&(y=e,e=null);var T=y.navigator||{},S=T.userAgent||"";e||(e=S);var C,P,M=_||w==m,x=_?!!T.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(k.toString()),j="Object",E=_?j:"ScriptBridgingProxyObject",R=_?j:"Environment",G=_&&y.java?"JavaPackage":l(y.java),O=_?j:"RuntimeObject",B=/\bJava/.test(G)&&y.java,I=B&&l(y.environment)==R,L=B?"a":"α",D=B?"b":"β",H=y.document||{},V=y.operamini||y.opera,$=A.test($=_&&V?V["[[Class]]"]:l(V))?$:V=null,N=e,F=[],q=null,z=e==S,W=z&&V&&"function"==typeof V.version&&V.version(),X=t(["Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),U=r(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),K=p([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),Q=n({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),J=o(["Windows Phone ","Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(X&&(X=[X]),Q&&!K&&(K=p([Q])),(C=/\bGoogle TV\b/.exec(K))&&(K=C[0]),/\bSimulator\b/i.test(e)&&(K=(K?K+" ":"")+"Simulator"),"Opera Mini"==U&&/\bOPiOS\b/.test(e)&&F.push("running in Turbo/Uncompressed mode"),/^iP/.test(K)?(U||(U="Safari"),J="iOS"+((C=/ OS ([\d_]+)/i.exec(e))?" "+C[1].replace(/_/g,"."):"")):"Konqueror"!=U||/buntu/i.test(J)?Q&&"Google"!=Q&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(K))?(U="Android Browser",J=/\bAndroid\b/.test(J)?J:"Android"):(!U||(C=!/\bMinefield\b|\(Android;/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(U)))&&(U&&!K&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(C+"/")+8))&&(U=null),(C=K||Q||J)&&(K||Q||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(J))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(J)?J:C)+" Browser")):J="Kubuntu",(C=/\((Mobile|Tablet).*?Firefox\b/i.exec(e))&&C[1]&&(J="Firefox OS",K||(K=C[1])),W||(W=v(["(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",c(U),"(?:Firefox|Minefield|NetFront)"])),"iCab"==X&&parseFloat(W)>3?X=["WebKit"]:"Trident"!=X&&(C=/\bOpera\b/.test(U)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&"WebKit"||!X&&/\bMSIE\b/i.test(e)&&("Mac OS"==J?"Tasman":"Trident"))?X=[C]:/\bPlayStation\b(?! Vita\b)/i.test(U)&&"WebKit"==X&&(X=["NetFront"]),"IE"==U&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(U+=" Mobile",J="Windows Phone "+(/\+$/.test(C)?C:C+".x"),F.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(U="IE Mobile",J="Windows Phone 8+",F.unshift("desktop mode"),W||(W=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=U&&"Trident"==X&&(C=/\brv:([\d.]+)/.exec(e))?(/\bWPDesktop\b/i.test(e)||(U&&F.push("identifying as "+U+(W?" "+W:"")),U="IE"),W=C[1]):"Chrome"!=U&&"IE"==U||!(C=/\bEdge\/([\d.]+)/.exec(e))||(U="Microsoft Edge",W=C[1],X=["Trident"]),z){if(u(y,"global"))if(B&&(C=B.lang.System,N=C.getProperty("os.arch"),J=J||C.getProperty("os.name")+" "+C.getProperty("os.version")),M&&u(y,"system")&&(C=[y.system])[0]){J||(J=C[0].os||null);try{C[1]=y.require("ringo/engine").version,W=C[1].join("."),U="RingoJS"}catch(Y){C[0].global.system==y.system&&(U="Narwhal")}}else"object"==typeof y.process&&(C=y.process)?(U="Node.js",N=C.arch,J=C.platform,W=/[\d.]+/.exec(C.version)[0]):I&&(U="Rhino");else l(C=y.runtime)==E?(U="Adobe AIR",J=C.flash.system.Capabilities.os):l(C=y.phantom)==O?(U="PhantomJS",W=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):"number"==typeof H.documentMode&&(C=/\bTrident\/(\d+)/i.exec(e))&&(W=[W,H.documentMode],(C=+C[1]+4)!=W[1]&&(F.push("IE "+W[1]+" mode"),X&&(X[1]=""),W[1]=C),W="IE"==U?String(W[1].toFixed(1)):W[0]);J=J&&s(J)}W&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(W)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(z&&T.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(q=/b/i.test(C)?"beta":"alpha",W=W.replace(RegExp(C+"\\+?$"),"")+("beta"==q?D:L)+(/\d+\+?/.exec(C)||"")),"Fennec"==U||"Firefox"==U&&/\b(?:Android|Firefox OS)\b/.test(J)?U="Firefox Mobile":"Maxthon"==U&&W?W=W.replace(/\.[\d.]+/,".x"):"Silk"==U?(/\bMobi/i.test(e)||(J="Android",F.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&F.unshift("accelerated")):/\bXbox\b/i.test(K)?(J=null,"Xbox 360"==K&&/\bIEMobile\b/.test(e)&&F.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||K||/Browser|Mobi/.test(U))||"Windows CE"!=J&&!/Mobi/i.test(e)?"IE"==U&&z&&null===y.external?F.unshift("platform preview"):(/\bBlackBerry\b/.test(K)||/\bBB10\b/.test(e))&&(C=(RegExp(K.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||W)?(C=[C,/BB10/.test(e)],J=(C[1]?(K=null,Q="BlackBerry"):"Device Software")+" "+C[0],W=null):this!=a&&"Wii"!=K&&(z&&V||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==U&&/\bOS X (?:\d+\.){2,}/.test(J)||"IE"==U&&(J&&!/^Win/.test(J)&&W>5.5||/\bWindows XP\b/.test(J)&&W>8||8==W&&!/\bTrident\b/.test(e)))&&!A.test(C=f.call(a,e.replace(A,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),A.test(U)?(/\bIE\b/.test(C)&&"Mac OS"==J&&(J=null),C="identify"+C):(C="mask"+C,U=$?s($.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(C)&&(J=null),z||(W=null)),X=["Presto"],F.push(C)):U+=" Mobile",(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],"Safari"==U&&"+"==C[1].slice(-1)?(U="WebKit Nightly",q="alpha",W=C[1].slice(0,-1)):(W==C[1]||W==(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1]))&&(W=null),C[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==C[0]&&537.36==C[2]&&parseFloat(C[1])>=28&&"IE"!=U&&"Microsoft Edge"!=U&&(X=["Blink"]),z&&(x||C[1])?(X&&(X[1]="like Chrome"),C=C[1]||(C=C[0],530>C?1:532>C?2:532.05>C?3:533>C?4:534.03>C?5:534.07>C?6:534.1>C?7:534.13>C?8:534.16>C?9:534.24>C?10:534.3>C?11:535.01>C?12:535.02>C?"13+":535.07>C?15:535.11>C?16:535.19>C?17:536.05>C?18:536.1>C?19:537.01>C?20:537.11>C?"21+":537.13>C?23:537.18>C?24:537.24>C?25:537.36>C?26:"Blink"!=X?"27":"28")):(X&&(X[1]="like Safari"),C=C[0],C=400>C?1:500>C?2:526>C?3:533>C?4:534>C?"4+":535>C?5:537>C?6:538>C?7:601>C?8:"8"),X&&(X[1]+=" "+(C+="number"==typeof C?".x":/[.+]/.test(C)?"":"+")),"Safari"==U&&(!W||parseInt(W)>45)&&(W=C)),"Opera"==U&&(C=/\bzbov|zvav$/.exec(J))?(U+=" ",F.unshift("desktop mode"),"zvav"==C?(U+="Mini",W=null):U+="Mobile",J=J.replace(RegExp(" *"+C+"$"),"")):"Safari"==U&&/\bChrome\b/.exec(X&&X[1])&&(F.unshift("desktop mode"),U="Chrome Mobile",W=null,/\bOS X\b/.test(J)?(Q="Apple",J="iOS 4.3+"):J=null),W&&0==W.indexOf(C=/[\d.]+$/.exec(J))&&e.indexOf("/"+C+"-")>-1&&(J=d(J.replace(C,""))),X&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(U)&&X[1])&&(C=X[X.length-1])&&F.push(C),F.length&&(F=["("+F.join("; ")+")"]),Q&&K&&K.indexOf(Q)<0&&F.push("on "+Q),K&&F.push((/^on /.test(F[F.length-1])?"":"on ")+K),J&&(C=/ ([\d.+]+)$/.exec(J),P=C&&"/"==J.charAt(J.length-C[0].length-1),J={architecture:32,family:C&&!P?J.replace(C[0],""):J,version:C?C[1]:null,toString:function(){var e=this.version;return this.family+(e&&!P?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N))&&!/\bi686\b/i.test(N)&&(J&&(J.architecture=64,J.family=J.family.replace(RegExp(" *"+C),"")),U&&(/\bWOW64\b/i.test(e)||z&&/\w(?:86|32)$/.test(T.cpuClass||T.platform)&&!/\bWin64; x64\b/i.test(e))&&F.unshift("32-bit")),e||(e=null);var Z={};return Z.description=e,Z.layout=X&&X[0],Z.manufacturer=Q,Z.name=U,Z.prerelease=q,Z.product=K,Z.ua=e,Z.version=U&&W,Z.os=J||{architecture:null,family:null,version:null,toString:function(){return"null"}},Z.parse=f,Z.toString=g,Z.version&&F.unshift(W),Z.name&&F.unshift(U),J&&U&&(J!=String(J).split(" ")[0]||J!=U.split(" ")[0]&&!K)&&F.push(K?"("+J+")":"on "+J),F.length&&(Z.description=F.join(" ")),Z}var p={"function":!0,object:!0},b=p[typeof window]&&window||this,m=b,v=p[typeof n]&&n,g=p[typeof t]&&t&&!t.nodeType&&t,y=v&&g&&"object"==typeof e&&e;!y||y.global!==y&&y.window!==y&&y.self!==y||(b=y);var _=Math.pow(2,53)-1,A=/\bOpera/,w=this,T=Object.prototype,S=T.hasOwnProperty,k=T.toString;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return f()}):v&&g?a(f(),function(e,t){v[t]=e}):b.platform=f()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],289:[function(e,t,n){!function(){"use strict";var e="undefined"!=typeof t&&t.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};i>r;r++)if(e=n[r],e&&e[1]in document){for(r=0,t=e.length;t>r;r++)o[n[0][r]]=e[r];return o}return!1}(),i={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:r};return r?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[r.fullscreenEnabled])}}}),void(e?t.exports=i:window.screenfull=i)):void(e?t.exports=!1:window.screenfull=!1)}()},{}],290:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),o=r.source,u=r.id,c=r.path,h=l[u]&&c in l[u].nsps,d=t.forceNew||t["force new connection"]||!1===t.multiplex||h;return d?(a("ignoring socket cache for %s",o),n=s(o,t)):(l[u]||(a("new io instance for %s",o),l[u]=s(o,t)),n=l[u]),n.socket(r.path)}var i=e("./url"),o=e("socket.io-parser"),s=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=r;var l=n.managers={};n.protocol=o.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":291,"./socket":293,"./url":294,debug:184,"socket.io-parser":328}],291:[function(e,t,n){function r(e,t){return this instanceof r?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var i=e("engine.io-client"),o=e("./socket"),s=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),u=e("component-bind"),c=e("debug")("socket.io-client:manager"),h=e("indexof"),d=e("backo2"),f=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=l(t,"open",function(){n.onopen(),e&&e()}),o=l(t,"error",function(t){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;c("connect attempt will timeout after %d",s);var a=setTimeout(function(){c("connect attempt timed out after %d",s),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",u(this,"ondata"))),this.subs.push(l(e,"ping",u(this,"onping"))),this.subs.push(l(e,"pong",u(this,"onpong"))),this.subs.push(l(e,"error",u(this,"onerror"))),this.subs.push(l(e,"close",u(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},r.prototype.socket=function(e){function t(){~h(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new o(this,e),this.nsps[e]=n;var r=this;n.on("connecting",t),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&t()}return n},r.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){c("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":292,"./socket":293,backo2:295,"component-bind":296,"component-emitter":297,debug:184,"engine.io-client":298,indexof:325,"socket.io-parser":328}],292:[function(e,t,n){function r(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=r},{}],293:[function(e,t,n){function r(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var i=e("socket.io-parser"),o=e("component-emitter"),s=e("to-array"),a=e("./on"),l=e("component-bind"),u=e("debug")("socket.io-client:socket"),c=e("has-binary");t.exports=n=r;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(h.hasOwnProperty(e))return d.apply(this,arguments),this;var t=s(arguments),n=i.EVENT;c(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);u("sending ack %j",r);var o=c(r)?i.BINARY_ACK:i.ACK;t.packet({type:o,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":292,"component-bind":296,"component-emitter":297,debug:184,"has-binary":323,"socket.io-parser":328,"to-array":333}],294:[function(e,t,n){(function(n){function r(e,t){var r=e,t=t||n.location;null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=-1!==r.host.indexOf(":"),a=s?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port,r.href=r.protocol+"://"+a+(t&&t.port==r.port?"":":"+r.port),r}var i=e("parseuri"),o=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:184,parseuri:326}],295:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],296:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],297:[function(e,t,n){function r(e){return e?i(e):void 0}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],298:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":299}],299:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":300,"engine.io-parser":310}],300:[function(e,t,n){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),
this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate?t.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?!0:t.rejectUnauthorized;var i="object"==typeof n&&n;i.global===i&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=e("./transports"),s=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),u=e("engine.io-parser"),c=e("parseuri"),h=e("parsejson"),d=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=i(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;h=h||t}h||(a('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!h)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"==c.name,a('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){h||"closed"!=d.readyState&&(a("changing transport and sending upgrade packet"),u(),d.setTransport(c),c.send([{type:"upgrade"}]),d.emit("upgrade",c),c=null,d.upgrading=!1,d.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,d.emit("upgradeError",n)}}))}function n(){h||(h=!0,u(),c.close(),c=null)}function i(t){var r=new Error("probe error: "+t);r.transport=c.name,n(),a('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",r)}function o(){i("transport closed")}function s(){i("socket closed")}function l(e){c&&e.name!=c.name&&(a('"%s" works - aborting "%s"',e.name,c.name),n())}function u(){c.removeListener("open",t),c.removeListener("error",i),c.removeListener("close",o),d.removeListener("close",s),d.removeListener("upgrading",l)}a('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),h=!1,d=this;r.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",i),c.once("close",o),this.once("close",s),this.once("upgrading",l),c.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(h(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){a("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;r>n;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":301,"./transports":302,"component-emitter":308,debug:184,"engine.io-parser":310,indexof:325,parsejson:320,parseqs:321,parseuri:326}],301:[function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var i=e("engine.io-parser"),o=e("component-emitter");t.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":308,"engine.io-parser":310}],302:[function(e,t,n){(function(t){function r(e){var n,r=!1,a=!1,l=!1!==e.jsonp;if(t.location){var u="https:"==location.protocol,c=location.port;c||(c=u?443:80),r=e.hostname!=location.hostname||c!=e.port,a=e.secure!=u}if(e.xdomain=r,e.xscheme=a,n=new i(e),"open"in n&&!e.forceJSONP)return new o(e);if(!l)throw new Error("JSONP disabled");return new s(e)}var i=e("xmlhttprequest-ssl"),o=e("./polling-xhr"),s=e("./polling-jsonp"),a=e("./websocket");n.polling=r,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":303,"./polling-xhr":304,"./websocket":306,"xmlhttprequest-ssl":307}],303:[function(e,t,n){(function(n){function r(){}function i(e){o.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var o=e("./polling"),s=e("component-inherit");t.exports=i;var a,l=/\n/g,u=/\\n/g;s(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(t)}catch(e){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=c,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":305,"component-inherit":309}],304:[function(e,t,n){(function(n){function r(){}function i(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!=n.location.hostname||r!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=e("xmlhttprequest-ssl"),l=e("./polling"),u=e("component-emitter"),c=e("component-inherit"),h=e("debug")("engine.io-client:polling-xhr");t.exports=i,t.exports.Request=o,c(i,l),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},i.prototype.doPoll=function(){h("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),r=this;try{h("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}}catch(s){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},h("xhr data %s",this.data),t.send(this.data)}catch(s){return void setTimeout(function(){r.onError(s)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(t){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){for(var r=new Uint8Array(this.xhr.response),i=[],o=0,s=r.length;s>o;o++)i.push(r[o]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},n.document&&(o.requestsCount=0,o.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":305,"component-emitter":308,"component-inherit":309,debug:184,"xmlhttprequest-ssl":307}],305:[function(e,t,n){function r(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),i.call(this,e)}var i=e("../transport"),o=e("parseqs"),s=e("engine.io-parser"),a=e("component-inherit"),l=e("yeast"),u=e("debug")("engine.io-client:polling");t.exports=r;var c=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();a(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||t()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,r){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var r=-1!==this.hostname.indexOf(":");return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":301,"component-inherit":309,debug:184,"engine.io-parser":310,parseqs:321,"xmlhttprequest-ssl":307,yeast:322}],306:[function(e,t,n){(function(n){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,i.call(this,e)}var i=e("../transport"),o=e("engine.io-parser"),s=e("parseqs"),a=e("component-inherit"),l=e("yeast"),u=e("debug")("engine.io-client:websocket"),c=n.WebSocket||n.MozWebSocket,h=c;if(!h&&"undefined"==typeof window)try{h=e("ws")}catch(d){}t.exports=r,a(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.ws=c?new h(e):new h(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){function t(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=e.length,s=0,a=i;a>s;s++)!function(e){o.encodePacket(e,r.supportsBinary,function(o){if(!c){var s={};if(e.options&&(s.compress=e.options.compress),r.perMessageDeflate){var a="string"==typeof o?n.Buffer.byteLength(o):o.length;a<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{c?r.ws.send(o):r.ws.send(o,s)}catch(l){u("websocket closed before onclose event")}--i||t()})}(e[s])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e);var r=-1!==this.hostname.indexOf(":");return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":301,"component-inherit":309,debug:184,"engine.io-parser":310,parseqs:321,ws:464,yeast:322}],307:[function(e,t,n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(o){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},{"has-cors":319}],308:[function(e,t,n){function r(e){return e?i(e):void 0}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],309:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],310:[function(e,t,n){(function(t){function r(e,t){var r="b"+n.packets[e.type]+e.data.data;return t(r)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=v[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,n.encodePacket(e,t,!0,r)},i.readAsArrayBuffer(e.data)}function s(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(m)return o(e,t,r);var i=new Uint8Array(1);i[0]=v[e.type];var s=new _([i.buffer,e.data]);return r(s)}function a(e,t,n){for(var r=new Array(e.length),i=d(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},s=0;s<e.length;s++)o(s,e[s],i)}var l=e("./keys"),u=e("has-binary"),c=e("arraybuffer.slice"),h=e("base64-arraybuffer"),d=e("after"),f=e("utf8"),p=navigator.userAgent.match(/Android/i),b=/PhantomJS/i.test(navigator.userAgent),m=p||b;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=l(v),y={type:"error",data:"parser error"},_=e("blob");n.encodePacket=function(e,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return i(e,n,a);if(_&&l instanceof t.Blob)return s(e,n,a);if(l&&l.base64)return r(e,a);var u=v[e.type];return void 0!==e.data&&(u+=o?f.encode(String(e.data)):String(e.data)),a(""+u)},n.encodeBase64Packet=function(e,r){var i="b"+n.packets[e.type];if(_&&e.data instanceof t.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(e.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),u=new Array(l.length),c=0;c<l.length;c++)u[c]=l[c];s=String.fromCharCode.apply(null,u)}return i+=t.btoa(s),r(i)},n.decodePacket=function(e,t,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r)try{e=f.decode(e)}catch(i){return y}var o=e.charAt(0);return Number(o)==o&&g[o]?e.length>1?{type:g[o],data:e.substring(1)}:{type:g[o]}:y}var s=new Uint8Array(e),o=s[0],a=c(e,1);return _&&"blob"===t&&(a=new _([a])),{type:g[o],data:a}},n.decodeBase64Packet=function(e,n){var r=g[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=h.decode(e.substr(1));return"blob"===n&&_&&(i=new _([i])),{type:r,data:i}},n.encodePayload=function(e,t,r){function i(e){return e.length+":"+e}function o(e,r){n.encodePacket(e,s?t:!1,!0,function(e){r(null,i(e))})}"function"==typeof t&&(r=t,t=null);var s=u(e);return t&&s?_&&!m?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void a(e,o,function(e,t){return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var i;if(""==e)return r(y,0,1);for(var o,s,a="",l=0,u=e.length;u>l;l++){var c=e.charAt(l);if(":"!=c)a+=c;else{if(""==a||a!=(o=Number(a)))return r(y,0,1);if(s=e.substr(l+1,o),a!=s.length)return r(y,0,1);if(s.length){if(i=n.decodePacket(s,t,!0),y.type==i.type&&y.data==i.data)return r(y,0,1);var h=r(i,l+o,u);if(!1===h)return}l+=o,a=""}}return""!=a?r(y,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}t?i[o++]=0:i[o++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),t(i.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,n[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,s=o.toString(),a=new Uint8Array(s.length+1),i=0;i<s.length;i++)a[i]=parseInt(s[i]);if(a[s.length]=255,_){var l=new _([n.buffer,a.buffer,e]);t(null,l)}})}a(e,r,function(e,n){return t(new _(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var i=e,o=[],s=!1;i.byteLength>0;){for(var a=new Uint8Array(i),l=0===a[0],u="",h=1;255!=a[h];h++){if(u.length>310){s=!0;break}u+=a[h]}if(s)return r(y,0,1);i=c(i,2+u.length),u=parseInt(u);var d=c(i,0,u);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(f){var p=new Uint8Array(d);d="";for(var h=0;h<p.length;h++)d+=String.fromCharCode(p[h])}o.push(d),i=c(i,u)}var b=o.length;o.forEach(function(e,i){r(n.decodePacket(e,t,!0),i,b)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":311,after:312,"arraybuffer.slice":313,"base64-arraybuffer":314,blob:315,"has-binary":316,utf8:318}],311:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],312:[function(e,t,n){function r(e,t,n){function r(e,i){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(o=!0,t(e),t=n):0!==r.count||o||t(null,i)}var o=!1;return n=n||i,r.count=e,0===e?t():r}function i(){}t.exports=r},{}],313:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(0>t&&(t+=r),0>n&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;n>s;s++,a++)o[a]=i[s];return o.buffer}},{}],314:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;i>n;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(t){var n,r,i,o,s,a=.75*t.length,l=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),h=new Uint8Array(c);for(n=0;l>n;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),s=e.indexOf(t[n+3]),h[u++]=r<<2|i>>4,h[u++]=(15&i)<<4|o>>2,h[u++]=(3&o)<<6|63&s;return c}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],315:[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var e=new Blob(["hi"]);
return 2===e.size}catch(t){return!1}}(),a=s&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;t.exports=function(){return s?a?e.Blob:i:l?r:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],316:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0}return!1}return t(e)}var i=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:317}],317:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],318:[function(e,t,n){(function(e){!function(r){function i(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function o(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=y(t>>>10&1023|55296),t=56320|1023&t),i+=y(t);return i}function s(e){if(e>=55296&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(e,t){return y(e>>t&63|128)}function l(e){if(0==(4294967168&e))return y(e);var t="";return 0==(4294965248&e)?t=y(e>>6&31|192):0==(4294901760&e)?(s(e),t=y(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=y(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=y(63&e|128)}function u(e){for(var t,n=i(e),r=n.length,o=-1,s="";++o<r;)t=n[o],s+=l(t);return s}function c(){if(g>=v)throw Error("Invalid byte index");var e=255&m[g];if(g++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(){var e,t,n,r,i;if(g>v)throw Error("Invalid byte index");if(g==v)return!1;if(e=255&m[g],g++,0==(128&e))return e;if(192==(224&e)){var t=c();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=c(),n=c(),i=(15&e)<<12|t<<6|n,i>=2048)return s(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=c(),n=c(),r=c(),i=(15&e)<<18|t<<12|n<<6|r,i>=65536&&1114111>=i))return i;throw Error("Invalid UTF-8 detected")}function d(e){m=i(e),v=m.length,g=0;for(var t,n=[];(t=h())!==!1;)n.push(t);return o(n)}var f="object"==typeof n&&n,p="object"==typeof t&&t&&t.exports==f&&t,b="object"==typeof e&&e;(b.global===b||b.window===b)&&(r=b);var m,v,g,y=String.fromCharCode,_={version:"2.0.0",encode:u,decode:d};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return _});else if(f&&!f.nodeType)if(p)p.exports=_;else{var A={},w=A.hasOwnProperty;for(var T in _)w.call(_,T)&&(f[T]=_[T])}else r.utf8=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],319:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){t.exports=!1}},{}],320:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],321:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;i>r;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],322:[function(e,t,n){"use strict";function r(e){var t="";do t=a[e%l]+t,e=Math.floor(e/l);while(e>0);return t}function i(e){var t=0;for(h=0;h<e.length;h++)t=t*l+u[e.charAt(h)];return t}function o(){var e=r(+new Date);return e!==s?(c=0,s=e):e+"."+r(c++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,u={},c=0,h=0;l>h;h++)u[a[h]]=h;o.encode=r,o.decode=i,t.exports=o},{}],323:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0}return!1}return t(e)}var i=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:324}],324:[function(e,t,n){arguments[4][317][0].apply(n,arguments)},{dup:317}],325:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],326:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=r.exec(e||""),a={},l=14;l--;)a[i[l]]=s[l]||"";return-1!=n&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],327:[function(e,t,n){(function(t){var r=e("isarray"),i=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a]);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var l in e)s[l]=t(e[l]);return s}return e}var n=[],o=e.data,s=e;return s.data=t(o),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var i=t[e.num];return i}if(r(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var s in e)e[s]=n(e[s]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function o(e,l,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var c=new FileReader;c.onload=function(){u?u[l]=this.result:a=this.result,--s||n(a)},c.readAsArrayBuffer(e)}else if(r(e))for(var h=0;h<e.length;h++)o(e[h],h,e);else if(e&&"object"==typeof e&&!i(e))for(var d in e)o(e[d],d,e)}var s=0,a=e;o(a),s||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":329,isarray:331}],328:[function(e,t,n){function r(){}function i(e){var t="",r=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=h.stringify(e.data)),c("encoded %j as %s",e,t),t}function o(e,t){function n(e){var n=f.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}f.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return u();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var i="";"-"!=e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(i)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var o=e.charAt(r);if(","==o)break;if(t.nsp+=o,r==e.length)break}else t.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(t.id="";++r;){var o=e.charAt(r);if(null==o||Number(o)!=o){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}if(e.charAt(++r))try{t.data=h.parse(e.substr(r))}catch(a){return u()}return c("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:n.ERROR,data:"parser error"}}var c=e("debug")("socket.io-parser"),h=e("json3"),d=(e("isarray"),e("component-emitter")),f=e("./binary"),p=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=s,r.prototype.encode=function(e,t){if(c("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)o(e,t);else{var r=i(e);t([r])}},d(s.prototype),s.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!p(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":327,"./is-buffer":329,"component-emitter":330,debug:184,isarray:331,json3:332}],329:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],330:[function(e,t,n){arguments[4][308][0].apply(n,arguments)},{dup:308}],331:[function(e,t,n){arguments[4][317][0].apply(n,arguments)},{dup:317}],332:[function(e,t,n){(function(e){(function(){function r(e,t){function n(e){if(n[e]!==m)return n[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=n("json-stringify")&&n("json-parse");else{var o,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,c="function"==typeof l&&y;if(c){(o=function(){return 1}).toJSON=o;try{c="0"===l(0)&&"0"===l(new i)&&'""'==l(new s)&&l(g)===m&&l(m)===m&&l()===m&&"1"===l(o)&&"[1]"==l([o])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,g,null])&&l({a:[o,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===l(null,o)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new u(-1))}catch(h){c=!1}}r=c}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){o=d(a);var f=5==o.a.length&&1===o.a[0];if(f){try{f=!d('"	"')}catch(h){}if(f)try{f=1!==d("01")}catch(h){}if(f)try{f=1!==d("1.")}catch(h){}}}}catch(h){f=!1}r=f}}return n[e]=!!r}e||(e=a.Object()),t||(t=a.Object());var i=e.Number||a.Number,s=e.String||a.String,l=e.Object||a.Object,u=e.Date||a.Date,c=e.SyntaxError||a.SyntaxError,h=e.TypeError||a.TypeError,d=e.Math||a.Math,f=e.JSON||a.JSON;"object"==typeof f&&f&&(t.stringify=f.stringify,t.parse=f.parse);var p,b,m,v=l.prototype,g=v.toString,y=new u(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(_){}if(!n("json")){var A="[object Function]",w="[object Date]",T="[object Number]",S="[object String]",k="[object Array]",C="[object Boolean]",P=n("bug-string-char-index");if(!y)var M=d.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],j=function(e,t){return x[t]+365*(e-1970)+M((e-1969+(t=+(t>1)))/4)-M((e-1901+t)/100)+M((e-1601+t)/400)};if((p=v.hasOwnProperty)||(p=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?p=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,p=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,p.call(this,e)}),b=function(e,t){var n,r,i,s=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)p.call(r,i)&&s++;return n=r=null,s?b=2==s?function(e,t){var n,r={},i=g.call(e)==A;for(n in e)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(e,n)||t(n)}:function(e,t){var n,r,i=g.call(e)==A;for(n in e)i&&"prototype"==n||!p.call(e,n)||(r="constructor"===n)||t(n);(r||p.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],b=function(e,t){var n,i,s=g.call(e)==A,a=!s&&"function"!=typeof e.constructor&&o[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(n in e)s&&"prototype"==n||!a.call(e,n)||t(n);for(i=r.length;n=r[--i];a.call(e,n)&&t(n));}),b(e,t)},!n("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},R="000000",G=function(e,t){return(R+(t||0)).slice(-e)},O="\\u00",B=function(e){for(var t='"',n=0,r=e.length,i=!P||r>10,o=i&&(P?e.split(""):e);r>n;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=E[s];break;default:if(32>s){t+=O+G(2,s.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},I=function(e,t,n,r,i,o,s){var a,l,u,c,d,f,v,y,_,A,P,x,E,R,O,L;try{a=t[e]}catch(D){}if("object"==typeof a&&a)if(l=g.call(a),l!=w||p.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=T&&l!=S&&l!=k||p.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&1/0>a){if(j){for(d=M(a/864e5),u=M(d/365.2425)+1970-1;j(u+1,0)<=d;u++);for(c=M((d-j(u,0))/30.42);j(u,c+1)<=d;c++);d=1+d-j(u,c),f=(a%864e5+864e5)%864e5,v=M(f/36e5)%24,y=M(f/6e4)%60,_=M(f/1e3)%60,A=f%1e3}else u=a.getUTCFullYear(),c=a.getUTCMonth(),d=a.getUTCDate(),v=a.getUTCHours(),y=a.getUTCMinutes(),_=a.getUTCSeconds(),A=a.getUTCMilliseconds();a=(0>=u||u>=1e4?(0>u?"-":"+")+G(6,0>u?-u:u):G(4,u))+"-"+G(2,c+1)+"-"+G(2,d)+"T"+G(2,v)+":"+G(2,y)+":"+G(2,_)+"."+G(3,A)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(l=g.call(a),l==C)return""+a;if(l==T)return a>-1/0&&1/0>a?""+a:"null";if(l==S)return B(""+a);if("object"==typeof a){for(R=s.length;R--;)if(s[R]===a)throw h();if(s.push(a),P=[],O=o,o+=i,l==k){for(E=0,R=a.length;R>E;E++)x=I(E,a,n,r,i,o,s),P.push(x===m?"null":x);L=P.length?i?"[\n"+o+P.join(",\n"+o)+"\n"+O+"]":"["+P.join(",")+"]":"[]"}else b(r||a,function(e){var t=I(e,a,n,r,i,o,s);t!==m&&P.push(B(e)+":"+(i?" ":"")+t)}),L=P.length?i?"{\n"+o+P.join(",\n"+o)+"\n"+O+"}":"{"+P.join(",")+"}":"{}";return s.pop(),L}};t.stringify=function(e,t,n){var r,i,s,a;if(o[typeof t]&&t)if((a=g.call(t))==A)i=t;else if(a==k){s={};for(var l,u=0,c=t.length;c>u;l=t[u++],a=g.call(l),(a==S||a==T)&&(s[l]=1));}if(n)if((a=g.call(n))==T){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==S&&(r=n.length<=10?n:n.slice(0,10));return I("",(l={},l[""]=e,l),i,s,r,"",[])}}if(!n("json-parse")){var L,D,H=s.fromCharCode,V={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},$=function(){throw L=D=null,c()},N=function(){for(var e,t,n,r,i,o=D,s=o.length;s>L;)switch(i=o.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=P?o.charAt(L):o[L],L++,e;case 34:for(e="@",L++;s>L;)if(i=o.charCodeAt(L),32>i)$();else if(92==i)switch(i=o.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=V[i],L++;break;case 117:for(t=++L,n=L+4;n>L;L++)i=o.charCodeAt(L),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||$();e+=H("0x"+o.slice(t,L));break;default:$()}else{if(34==i)break;for(i=o.charCodeAt(L),t=L;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++L);e+=o.slice(t,L)}if(34==o.charCodeAt(L))return L++,e;$();default:if(t=L,45==i&&(r=!0,i=o.charCodeAt(++L)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(L+1),i>=48&&57>=i)&&$(),r=!1;s>L&&(i=o.charCodeAt(L),i>=48&&57>=i);L++);if(46==o.charCodeAt(L)){for(n=++L;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==L&&$(),L=n}if(i=o.charCodeAt(L),101==i||69==i){for(i=o.charCodeAt(++L),(43==i||45==i)&&L++,n=L;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==L&&$(),L=n}return+o.slice(t,L)}if(r&&$(),"true"==o.slice(L,L+4))return L+=4,!0;if("false"==o.slice(L,L+5))return L+=5,!1;if("null"==o.slice(L,L+4))return L+=4,null;$()}return"$"},F=function(e){var t,n;if("$"==e&&$(),"string"==typeof e){if("@"==(P?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=N(),"]"!=e;n||(n=!0))n&&(","==e?(e=N(),"]"==e&&$()):$()),","==e&&$(),t.push(F(e));return t}if("{"==e){for(t={};e=N(),"}"!=e;n||(n=!0))n&&(","==e?(e=N(),"}"==e&&$()):$()),(","==e||"string"!=typeof e||"@"!=(P?e.charAt(0):e[0])||":"!=N())&&$(),t[e.slice(1)]=F(N());return t}$()}return e},q=function(e,t,n){var r=z(e,t,n);r===m?delete e[t]:e[t]=r},z=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(g.call(i)==k)for(r=i.length;r--;)q(i,r,n);else b(i,function(e){q(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return L=0,D=""+e,n=F(N()),"$"!=N()&&$(),L=D=null,t&&g.call(t)==A?z((r={},r[""]=n,r),"",t):n}}}return t.runInContext=r,t}var i="function"==typeof define&&define.amd,o={"function":!0,object:!0},s=o[typeof n]&&n&&!n.nodeType&&n,a=o[typeof window]&&window||this,l=s&&o[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(a=l),s&&!i)r(a,s);else{var u=a.JSON,c=a.JSON3,h=!1,d=r(a,a.JSON3={noConflict:function(){return h||(h=!0,a.JSON=u,a.JSON3=c,u=c=null),d}});a.JSON={parse:d.parse,stringify:d.stringify}}i&&define(function(){return d})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],333:[function(e,t,n){function r(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=r},{}],334:[function(e,t,n){"use strict";function r(e){if("undefined"!=typeof e&&"undefined"!=typeof e.min&&"undefined"!=typeof e.max&&e.min>e.max){var t=e.min;e.min=e.max,e.max=t}return e}function i(e){var t=arguments[1];return void 0===t&&(t=0),e.reduce(function(e,n){return e+n[t]},0)/e.length}var o=e("debug")("soundworks:sync"),s=function(){function e(e){var t=arguments[1];void 0===t&&(t={}),this.pingTimeoutDelay=t.pingTimeoutDelay||{min:1,max:30},r(this.pingTimeoutDelay),this.pingSeriesIterations=t.pingSeriesIterations||10,this.pingSeriesPeriod=t.pingSeriesPeriod||.25,this.pingSeriesDelay=t.pingSeriesDelay||{min:10,max:20},r(this.pingSeriesDelay),this.pingDelay=0,this.pingTimeoutId=0,this.pingId=0,this.pingSeriesCount=0,this.seriesData=[],this.seriesDataNextIndex=0,this.seriesDataLength=this.pingSeriesIterations,this.longTermDataTrainingDuration=t.longTermDataTrainingDuration||120,this.longTermDataDuration=t.longTermDataDuration||900,this.longTermDataLength=Math.max(2,this.longTermDataDuration/(.5*(this.pingSeriesDelay.min+this.pingSeriesDelay.max))),this.longTermData=[],this.longTermDataNextIndex=0,this.timeOffset=0,this.travelDuration=0,this.travelDurationMin=0,this.travelDurationMax=0,this.serverTimeReference=0,this.clientTimeReference=0,this.frequencyRatio=1,this.pingTimeoutDelay.current=this.pingTimeoutDelay.min,this.getTimeFunction=e,this.status="new",this.statusChangedTime=0,this.connectionStatus="offline",this.connectionStatusChangedTime=0}var t=(function(e,t){return e.__proto__={a:t},e.a===t}({},{}),Object.defineProperty),n=Object.getOwnPropertyDescriptor,s=function(e,r){for(var i in r)r.hasOwnProperty(i)&&t(e,i,n(r,i));return e},a={};return t(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),a.setStatus=function(e){return e!==this.status&&(this.status=e,this.statusChangedTime=this.getLocalTime()),this},a.getStatusDuration=function(){return Math.max(0,this.getLocalTime()-this.statusChangedTime)},a.setConnectionStatus=function(e){return e!==this.connectionStatus&&(this.connectionStatus=e,this.connectionStatusChangedTime=this.getLocalTime()),this},a.getConnectionStatusDuration=function(){return Math.max(0,this.getLocalTime()-this.connectionStatusChangedTime)},a.reportStatus=function(e){"undefined"!=typeof e&&e("sync:status",{status:this.status,statusDuration:this.getStatusDuration(),timeOffset:this.timeOffset,frequencyRatio:this.frequencyRatio,connection:this.connectionStatus,connectionDuration:this.getConnectionStatusDuration(),connectionTimeOut:this.pingTimeoutDelay.current,travelDuration:this.travelDuration,travelDurationMin:this.travelDurationMin,travelDurationMax:this.travelDurationMax})},a.__syncLoop=function(e,t){var n=this;clearTimeout(this.timeoutId),++this.pingId,e("sync:ping",this.pingId,this.getLocalTime()),this.timeoutId=setTimeout(function(){n.pingTimeoutDelay.current=Math.min(2*n.pingTimeoutDelay.current,n.pingTimeoutDelay.max),o("sync:ping timeout > %s",n.pingTimeoutDelay.current),n.setConnectionStatus("offline"),n.reportStatus(t),n.__syncLoop(e,t)},1e3*this.pingTimeoutDelay.current)},a.start=function(e,t,n){var r=this;this.setStatus("startup"),this.setConnectionStatus("offline"),this.seriesData=[],this.seriesDataNextIndex=0,this.longTermData=[],this.longTermDataNextIndex=0,t("sync:pong",function(t,s,a,l){if(t===r.pingId){++r.pingSeriesCount,clearTimeout(r.timeoutId),r.setConnectionStatus("online"),r.pingTimeoutDelay.current=Math.max(.75*r.pingTimeoutDelay.current,r.pingTimeoutDelay.min);var u=r.getLocalTime(),c=.5*(u+s),h=.5*(l+a),d=Math.max(0,u-s-(l-a)),f=h-c;if(r.seriesData[r.seriesDataNextIndex]=[d,f,c,h],r.seriesDataNextIndex=++r.seriesDataNextIndex%r.seriesDataLength,r.pingSeriesCount>=r.pingSeriesIterations&&r.seriesData.length>=r.seriesDataLength){r.pingDelay=r.pingSeriesDelay.min+Math.random()*(r.pingSeriesDelay.max-r.pingSeriesDelay.min),r.pingSeriesCount=0;for(var p=r.seriesData.slice(0).sort(),b=p[0][0],m=0;m<p.length&&p[m][0]<=1.01*b;)++m;m=Math.max(0,m-1);var v=Math.floor(m/2),g=p[v][2],y=p[v][3],_=g*g,A=g*y;r.longTermData[r.longTermDataNextIndex]=[b,g,y,_,A],r.longTermDataNextIndex=++r.longTermDataNextIndex%r.longTermDataLength;var w=p.slice(Math.max(0,v-1),Math.min(p.length,v+1));if(r.timeOffset=i(w,3)-i(w,2),("startup"===r.status||"training"===r.status&&r.getStatusDuration()<r.longTermDataTrainingDuration)&&(r.serverTimeReference=r.timeOffset,r.clientTimeReference=0,r.frequencyRatio=1,r.setStatus("training"),o("T = %s + %s * (%s - %s) = %s",r.serverTimeReference,r.frequencyRatio,g,r.clientTimeReference,r.getSyncTime(g))),"training"===r.status&&r.getStatusDuration()>=r.longTermDataTrainingDuration||"sync"===r.status){var T=i(r.longTermData,1),S=i(r.longTermData,2),k=i(r.longTermData,3),C=i(r.longTermData,4),P=C-T*S,M=k-T*T;M>0&&(r.frequencyRatio=P/M,r.clientTimeReference=T,r.serverTimeReference=S,r.frequencyRatio>.9995&&r.frequencyRatio<1.0005?r.setStatus("sync"):(o("clock frequency ratio out of sync: %s, training again",r.frequencyRatio),r.serverTimeReference=r.timeOffset,r.clientTimeReference=0,r.frequencyRatio=1,r.setStatus("training"),r.longTermData[0]=[b,g,y,_,A],r.longTermData.length=1,r.longTermDataNextIndex=1)),o("T = %s + %s * (%s - %s) = %s",r.serverTimeReference,r.frequencyRatio,g,r.clientTimeReference,r.getSyncTime(g))}r.travelDuration=i(p,0),r.travelDurationMin=p[0][0],r.travelDurationMax=p[p.length-1][0],r.reportStatus(n)}else r.pingDelay=r.pingSeriesPeriod;r.timeoutId=setTimeout(function(){r.__syncLoop(e,n)},1e3*r.pingDelay)}}),this.__syncLoop(e,n)},a.getLocalTime=function(e){return"undefined"!=typeof e?this.clientTimeReference+(e-this.serverTimeReference)/this.frequencyRatio:this.getTimeFunction()},a.getSyncTime=function(){var e=arguments[0];return void 0===e&&(e=this.getLocalTime()),this.serverTimeReference+this.frequencyRatio*(e-this.clientTimeReference)},s(e.prototype,a),a=void 0,e}();t.exports=s},{debug:184}],335:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=null,i=window.AudioContext||window.webkitAudioContext;if(i&&(r=new i,/(iPhone|iPad)/i.test(navigator.userAgent)&&r.sampleRate<44100)){var o=r.createBuffer(1,1,44100),s=r.createBufferSource();s.buffer=o,s.connect(r.destination),s.start(0),s.disconnect()}n["default"]=r},{}],336:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/inherits"),f=r(d),p=e("./time-engine"),b=r(p),m=e("./audio-context"),v=r(m),g=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?v["default"]:arguments[0];(0,a["default"])(this,t);var n=(0,h["default"])(this,(0,o["default"])(t).call(this));return n.audioContext=e,n.outputNode=null,n}return(0,f["default"])(t,e),(0,u["default"])(t,[{key:"connect",value:function(e){return this.outputNode.connect(e),this}},{key:"disconnect",value:function(e){return this.outputNode.disconnect(e),this}}]),t}(b["default"]);n["default"]=g},{"./audio-context":335,"./time-engine":337,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],337:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=r(i),s=e("babel-runtime/helpers/createClass"),a=r(s),l=function(){function e(){(0,o["default"])(this,e),this.master=null,this.outputNode=null}return(0,a["default"])(e,[{key:"resetTime",value:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this.master&&this.master.resetEngineTime(this,e)}},{key:"resetPosition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this.master&&this.master.resetEnginePosition(this,e)}},{key:"currentTime",get:function(){return this.master?this.master.currentTime:void 0}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:void 0}}],[{key:"implementsScheduled",value:function(e){return e.advanceTime&&e.advanceTime instanceof Function}},{key:"implementsTransported",value:function(e){return e.syncPosition&&e.syncPosition instanceof Function&&e.advancePosition&&e.advancePosition instanceof Function}},{key:"implementsSpeedControlled",value:function(e){return e.syncSpeed&&e.syncSpeed instanceof Function}}]),e}();n["default"]=l},{"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],338:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return void 0!==e?e:t}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=r(o),a=e("babel-runtime/helpers/classCallCheck"),l=r(a),u=e("babel-runtime/helpers/createClass"),c=r(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=r(h),f=e("babel-runtime/helpers/inherits"),p=r(f),b=e("../core/audio-time-engine"),m=r(b),v=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,l["default"])(this,t);var n=(0,d["default"])(this,(0,s["default"])(t).call(this,e.audioContext));return n.buffer=i(e.buffer,null),n.periodAbs=i(e.periodAbs,.01),n.periodRel=i(e.periodRel,0),n.periodVar=i(e.periodVar,0),n.position=i(e.position,0),n.positionVar=i(e.positionVar,.003),n.durationAbs=i(e.durationAbs,.1),n.durationRel=i(e.durationRel,0),n.attackAbs=i(e.attackAbs,0),n.attackRel=i(e.attackRel,.5),n.attackShape=i(e.attackShape,"lin"),n.releaseAbs=i(e.releaseAbs,0),n.releaseRel=i(e.releaseRel,.5),n.releaseShape=i(e.releaseShape,"lin"),n.expRampOffset=i(e.expRampOffset,1e-4),n.resampling=i(e.resampling,0),n.resamplingVar=i(e.resamplingVar,0),n.gain=i(e.gain,1),n.centered=i(e.centered,!0),n.cyclic=i(e.cyclic,!1),n.wrapAroundExtension=i(e.wrapAroundExtension,0),n.outputNode=n.audioContext.createGain(),n}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"advanceTime",value:function(e){return e=Math.max(e,this.audioContext.currentTime),e+this.trigger(e)}},{key:"trigger",value:function(e){var t=this.audioContext,n=e||t.currentTime,r=this.periodAbs,i=this.currentPosition,o=this.durationAbs;if(this.buffer){var s=1;if(0!==this.resampling||this.resamplingVar>0){var a=2*(Math.random()-.5)*this.resamplingVar;s=Math.pow(2,(this.resampling+a)/1200)}r+=this.periodRel*o,o+=this.durationRel*r,this.periodVar>0&&(r+=2*(Math.random()-.5)*this.periodVar*r),this.centered&&(i-=.5*o),this.positionVar>0&&(i+=(2*Math.random()-1)*this.positionVar);var l=this.bufferDuration;if(0>i||i>=l)if(this.cyclic){var u=i/l;i=(u-Math.floor(u))*l,i+o>this.buffer.duration&&(o=this.buffer.duration-i)}else 0>i&&(n-=i,o+=i,i=0),i+o>l&&(o=l-i);if(this.gain>0&&o>=.001){var c=t.createGain(),h=this.attackAbs+this.attackRel*o,d=this.releaseAbs+this.releaseRel*o;if(h+d>o){var f=o/(h+d);h*=f,d*=f}var p=n+h,b=n+o/s,m=b-d;c.gain.value=0,"lin"===this.attackShape?(c.gain.setValueAtTime(0,n),c.gain.linearRampToValueAtTime(this.gain,p)):(c.gain.setValueAtTime(this.expRampOffset,n),c.gain.exponentialRampToValueAtTime(this.gain,p)),m>p&&c.gain.setValueAtTime(this.gain,m),"lin"===this.releaseShape?c.gain.linearRampToValueAtTime(0,b):c.gain.exponentialRampToValueAtTime(this.expRampOffset,b),c.connect(this.outputNode);var v=t.createBufferSource();v.buffer=this.buffer,v.playbackRate.value=s,v.connect(c),v.start(n,i),v.stop(b)}}return r}},{key:"bufferDuration",get:function(){if(this.buffer){var e=this.buffer.duration;return this.wrapAroundExtension&&(e-=this.wrapAroundExtension),e}return 0}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:this.position}}]),t}(m["default"]);n["default"]=v},{"../core/audio-time-engine":336,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],339:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return void 0!==e?e:t}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=r(o),a=e("babel-runtime/helpers/classCallCheck"),l=r(a),u=e("babel-runtime/helpers/createClass"),c=r(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=r(h),f=e("babel-runtime/helpers/inherits"),p=r(f),b=e("../core/audio-time-engine"),m=r(b),v=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,l["default"])(this,t);var n=(0,d["default"])(this,(0,s["default"])(t).call(this,e.audioContext));return n.__period=i(e.period,1),n.clickFreq=i(e.clickFreq,600),n.clickAttack=i(e.clickAttack,.002),n.clickRelease=i(e.clickRelease,.098),n.__lastTime=0,n.__phase=0,n.__gainNode=n.audioContext.createGain(),n.__gainNode.gain.value=i(e.gain,1),n.outputNode=n.__gainNode,n}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"advanceTime",value:function(e){return this.trigger(e),this.__lastTime=e,
e+this.__period}},{key:"syncPosition",value:function(e,t,n){if(this.__period>0){var r=(Math.floor(t/this.__period)+this.__phase)*this.__period;return n>0&&t>r?r+=this.__period:0>n&&r>t&&(r-=this.__period),r}return 1/0}},{key:"advancePosition",value:function(e,t,n){return this.trigger(e),0>n?t-this.__period:t+this.__period}},{key:"trigger",value:function(e){var t=this.audioContext,n=this.clickAttack,r=this.clickRelease,i=t.createGain();i.gain.value=0,i.gain.setValueAtTime(0,e),i.gain.linearRampToValueAtTime(1,e+n),i.gain.exponentialRampToValueAtTime(1e-7,e+n+r),i.gain.setValueAtTime(0,e),i.connect(this.outputNode);var o=t.createOscillator();o.frequency.value=this.clickFreq,o.start(e),o.stop(e+n+r),o.connect(i)}},{key:"gain",set:function(e){this.__gainNode.gain.value=e},get:function(){return this.__gainNode.gain.value}},{key:"period",set:function(e){this.__period=e;var t=this.master;t&&(t.resetEngineTime?t.resetEngineTime(this,this.__lastTime+e):t.resetEnginePosition&&t.resetEnginePosition(this))},get:function(){return this.__period}},{key:"phase",set:function(e){this.__phase=e-Math.floor(e);var t=this.master;t&&void 0!==t.resetEnginePosition&&t.resetEnginePosition(this)},get:function(){return this.__phase}}]),t}(m["default"]);n["default"]=v},{"../core/audio-time-engine":336,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],340:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return void 0!==e?e:t}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=r(o),a=e("babel-runtime/helpers/classCallCheck"),l=r(a),u=e("babel-runtime/helpers/createClass"),c=r(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=r(h),f=e("babel-runtime/helpers/inherits"),p=r(f),b=e("../core/audio-time-engine"),m=r(b),v=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,l["default"])(this,t);var n=(0,d["default"])(this,(0,s["default"])(t).call(this,e.audioContext));return n.transport=null,n.buffer=i(e.buffer,null),n.fadeTime=i(e.fadeTime,.005),n.__time=0,n.__position=0,n.__speed=0,n.__bufferSource=null,n.__envNode=null,n.__gainNode=n.audioContext.createGain(),n.__gainNode.gain.value=i(e.gain,1),n.__cyclic=i(e.cyclic,!1),n.outputNode=n.__gainNode,n}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"__start",value:function(e,t,n){var r=this.audioContext;if(this.buffer){var i=this.buffer.duration;if(this.__cyclic&&(0>t||t>=i)){var o=t/i;t=(o-Math.floor(o))*i}t>=0&&i>t&&n>0&&(this.__envNode=r.createGain(),this.__envNode.gain.setValueAtTime(0,e),this.__envNode.gain.linearRampToValueAtTime(1,e+this.fadeTime),this.__envNode.connect(this.__gainNode),this.__bufferSource=r.createBufferSource(),this.__bufferSource.buffer=this.buffer,this.__bufferSource.playbackRate.value=n,this.__bufferSource.loop=this.__cyclic,this.__bufferSource.loopStart=0,this.__bufferSource.loopEnd=i,this.__bufferSource.start(e,t),this.__bufferSource.connect(this.__envNode))}}},{key:"__halt",value:function(e){this.__bufferSource&&(this.__envNode.gain.cancelScheduledValues(e),this.__envNode.gain.setValueAtTime(this.__envNode.gain.value,e),this.__envNode.gain.linearRampToValueAtTime(0,e+this.fadeTime),this.__bufferSource.stop(e+this.fadeTime),this.__bufferSource=null,this.__envNode=null)}},{key:"syncSpeed",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=this.__speed;(n!==i||r)&&(r||0>i*n?(this.__halt(e),this.__start(e,t,n)):0===i||r?this.__start(e,t,n):0===n?this.__halt(e):this.__bufferSource&&this.__bufferSource.playbackRate.setValueAtTime(n,e),this.__speed=n)}},{key:"cyclic",set:function(e){if(e!==this.__cyclic){var t=this.currentTime,n=this.currentosition;this.__halt(t),this.__cyclic=e,0!==this.__speed&&this.__start(t,n,this.__speed)}},get:function(){return this.__cyclic}},{key:"gain",set:function(e){var t=this.currentTime;this.__gainNode.cancelScheduledValues(t),this.__gainNode.setValueAtTime(this.__gainNode.gain.value,t),this.__gainNode.linearRampToValueAtTime(0,t+this.fadeTime)},get:function(){return this.__gainNode.gain.value}},{key:"bufferDuration",get:function(){return this.buffer?this.buffer.duration:0}}]),t}(m["default"]);n["default"]=v},{"../core/audio-time-engine":336,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],341:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return void 0!==e?e:t}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=e.length;if(r>0){var i=e[0],o=e[r-1];if(i>t)n=-1;else if(t>=o)n=r-1;else{for((0>n||n>=r)&&(n=Math.floor((r-1)*(t-i)/(o-i)));e[n]>t;)n--;for(;e[n+1]<=t;)n++}}return n}function s(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=e.length;if(r>0){var i=e[0],o=e[r-1];if(i>=t)n=0;else if(t>=o)n=r;else{for((0>n||n>=r)&&(n=Math.floor((r-1)*(t-i)/(o-i)));e[n]<t;)n++;for(;e[n+1]>=t;)n--}}return n}Object.defineProperty(n,"__esModule",{value:!0});var a=e("babel-runtime/core-js/object/get-prototype-of"),l=r(a),u=e("babel-runtime/helpers/classCallCheck"),c=r(u),h=e("babel-runtime/helpers/createClass"),d=r(h),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=r(f),b=e("babel-runtime/helpers/inherits"),m=r(b),v=e("../core/audio-time-engine"),g=r(v),y=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,c["default"])(this,t);var n=(0,p["default"])(this,(0,l["default"])(t).call(this,e.audioContext));return n.buffer=i(e.buffer,null),n.periodAbs=i(e.periodAbs,0),n.periodRel=i(e.periodRel,1),n.periodVar=i(e.periodVar,0),n.positionArray=i(e.positionArray,[0]),n.positionVar=i(e.positionVar,0),n.durationArray=i(e.durationArray,[0]),n.durationAbs=i(e.durationAbs,0),n.durationRel=i(e.durationRel,1),n.offsetArray=i(e.offsetArray,[0]),n.offsetAbs=i(e.offsetAbs,-.005),n.offsetRel=i(e.offsetRel,0),n.delay=i(e.delay,.005),n.attackAbs=i(e.attackAbs,.005),n.attackRel=i(e.attackRel,0),n.releaseAbs=i(e.releaseAbs,.005),n.releaseRel=i(e.releaseRel,0),n.resampling=i(e.resampling,0),n.resamplingVar=i(e.resamplingVar,0),n.gain=i(e.gain,1),n.segmentIndex=i(e.segmentIndex,0),n.cyclic=i(e.cyclic,!1),n.__cyclicOffset=0,n.wrapAroundExtension=i(e.wrapAroundExtension,0),n.outputNode=n.audioContext.createGain(),n}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"advanceTime",value:function(e){return e=Math.max(e,this.audioContext.currentTime),e+this.trigger(e)}},{key:"syncPosition",value:function(e,t,n){var r=this.segmentIndex,i=0,a=this.bufferDuration;if(this.cyclic){var l=t/a;i=Math.floor(l)*a,t-=i}if(n>0){if(r=s(this.positionArray,t),r>=this.positionArray.length&&(r=0,i+=a,!this.cyclic))return 1/0}else{if(!(0>n))return 1/0;if(r=o(this.positionArray,t),0>r&&(r=this.positionArray.length-1,i-=a,!this.cyclic))return-(1/0)}return this.segmentIndex=r,this.__cyclicOffset=i,i+this.positionArray[r]}},{key:"advancePosition",value:function(e,t,n){var r=this.segmentIndex,i=this.__cyclicOffset;if(this.trigger(e),n>0){if(r++,r>=this.positionArray.length&&(r=0,i+=this.bufferDuration,!this.cyclic))return 1/0}else if(r--,0>r&&(r=this.positionArray.length-1,i-=this.bufferDuration,!this.cyclic))return-(1/0);return this.segmentIndex=r,this.__cyclicOffset=i,i+this.positionArray[r]}},{key:"trigger",value:function(e){var t=this.audioContext,n=(e||t.currentTime)+this.delay,r=this.periodAbs,i=this.segmentIndex;if(this.buffer){var o=0,s=0,a=0,l=1,u=this.bufferDuration;if(this.cyclic?i%=this.positionArray.length:i=Math.max(0,Math.min(i,this.positionArray.length-1)),this.positionArray&&(o=this.positionArray[i]||0),this.durationArray&&(s=this.durationArray[i]||0),this.offsetArray&&(a=this.offsetArray[i]||0),0!==this.resampling||this.resamplingVar>0){var c=2*(Math.random()-.5)*this.resamplingVar;l=Math.pow(2,(this.resampling+c)/1200)}if(0===s||this.periodRel>0){var h,d,f=i+1;f===this.positionArray.length?this.cyclic?(h=this.positionArray[0]+u,d=this.offsetArray[0]):(h=u,d=0):(h=this.positionArray[f],d=this.offsetArray[f]);var p=h-o;a>0&&(p-=a),d>0&&(p+=d),0>p&&(p=0),0===s&&(s=p),r+=this.periodRel*p}if(s*=this.durationRel,s+=this.durationAbs,a*=this.offsetRel,a+=this.offsetAbs,0>a?(s-=a,o+=a,n+=a/l):n-=a/l,this.positionVar>0&&(o+=2*(Math.random()-.5)*this.positionVar),0>o&&(s+=o,o=0),o+s>this.buffer.duration&&(s=this.buffer.duration-o),this.gain>0&&s>0){var b=t.createGain(),m=this.attackAbs+this.attackRel*s,v=this.releaseAbs+this.releaseRel*s;if(m+v>s){var g=s/(m+v);m*=g,v*=g}var y=n+m,_=n+s,A=_-v;b.gain.setValueAtTime(0,n),b.gain.linearRampToValueAtTime(this.gain,y),A>y&&b.gain.setValueAtTime(this.gain,A),b.gain.linearRampToValueAtTime(0,_),b.connect(this.outputNode);var w=t.createBufferSource();w.buffer=this.buffer,w.playbackRate.value=l,w.connect(b),w.start(n,o),w.stop(n+s/l)}}return r}},{key:"bufferDuration",get:function(){if(this.buffer){var e=this.buffer.duration;return this.wrapAroundExtension&&(e-=this.wrapAroundExtension),e}return 0}}]),t}(g["default"]);n["default"]=y},{"../core/audio-time-engine":336,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],342:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./core/audio-context");Object.defineProperty(n,"audioContext",{enumerable:!0,get:function(){return r(i)["default"]}});var o=e("./core/time-engine");Object.defineProperty(n,"TimeEngine",{enumerable:!0,get:function(){return r(o)["default"]}});var s=e("./core/audio-time-engine");Object.defineProperty(n,"AudioTimeEngine",{enumerable:!0,get:function(){return r(s)["default"]}});var a=e("./engines/granular-engine");Object.defineProperty(n,"GranularEngine",{enumerable:!0,get:function(){return r(a)["default"]}});var l=e("./engines/metronome");Object.defineProperty(n,"Metronome",{enumerable:!0,get:function(){return r(l)["default"]}});var u=e("./engines/player-engine");Object.defineProperty(n,"PlayerEngine",{enumerable:!0,get:function(){return r(u)["default"]}});var c=e("./engines/segment-engine");Object.defineProperty(n,"SegmentEngine",{enumerable:!0,get:function(){return r(c)["default"]}});var h=e("./masters/play-control");Object.defineProperty(n,"PlayControl",{enumerable:!0,get:function(){return r(h)["default"]}});var d=e("./masters/transport");Object.defineProperty(n,"Transport",{enumerable:!0,get:function(){return r(d)["default"]}});var f=e("./masters/scheduler");Object.defineProperty(n,"Scheduler",{enumerable:!0,get:function(){return r(f)["default"]}});var p=e("./masters/simple-scheduler");Object.defineProperty(n,"SimpleScheduler",{enumerable:!0,get:function(){return r(p)["default"]}});var b=e("./utils/priority-queue");Object.defineProperty(n,"PriorityQueue",{enumerable:!0,get:function(){return r(b)["default"]}});var m=e("./utils/scheduling-queue");Object.defineProperty(n,"SchedulingQueue",{enumerable:!0,get:function(){return r(m)["default"]}});var v=e("./masters/factories");Object.defineProperty(n,"getScheduler",{enumerable:!0,get:function(){return v.getScheduler}}),Object.defineProperty(n,"getSimpleScheduler",{enumerable:!0,get:function(){return v.getSimpleScheduler}})},{"./core/audio-context":335,"./core/audio-time-engine":336,"./core/time-engine":337,"./engines/granular-engine":338,"./engines/metronome":339,"./engines/player-engine":340,"./engines/segment-engine":341,"./masters/factories":343,"./masters/play-control":344,"./masters/scheduler":345,"./masters/simple-scheduler":346,"./masters/transport":347,"./utils/priority-queue":348,"./utils/scheduling-queue":349}],343:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.getSimpleScheduler=n.getScheduler=void 0;var i=e("babel-runtime/core-js/weak-map"),o=r(i),s=e("../core/audio-context"),a=r(s),l=e("./scheduler"),u=r(l),c=e("./simple-scheduler"),h=r(c),d=new o["default"],f=new o["default"];n.getScheduler=function(){var e=arguments.length<=0||void 0===arguments[0]?a["default"]:arguments[0],t=d.get(e);return t||(t=new u["default"]({audioContext:e}),d.set(e,t)),t},n.getSimpleScheduler=function(){var e=arguments.length<=0||void 0===arguments[0]?a["default"]:arguments[0],t=f.get(e);return t||(t=new h["default"]({audioContext:e}),f.set(e,t)),t}},{"../core/audio-context":335,"./scheduler":345,"./simple-scheduler":346,"babel-runtime/core-js/weak-map":54}],344:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/get"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../core/audio-context"),v=r(m),g=e("../core/time-engine"),y=r(g),_=e("../utils/scheduling-queue"),A=r(_),w=e("./factories"),T=function(e){function t(e){(0,u["default"])(this,t);var n=(0,f["default"])(this,(0,a["default"])(t).call(this));return n.__playControl=e,n.lower=-(1/0),n.upper=1/0,n}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"advanceTime",value:function(e){var t=this.__playControl,n=t.speed,r=this.lower,i=this.upper;return n>0?(t.syncSpeed(e,r,n,!0),t.__getTimeAtPosition(i)):0>n?(t.syncSpeed(e,i,n,!0),t.__getTimeAtPosition(r)):1/0}},{key:"reschedule",value:function(e){var t=this.__playControl,n=Math.min(t.__loopStart,t.__loopEnd),r=Math.max(t.__loopStart,t.__loopEnd);this.speed=e,this.lower=n,this.upper=r,n===r&&(e=0),e>0?this.resetTime(t.__getTimeAtPosition(r-1e-6)):0>e?this.resetTime(t.__getTimeAtPosition(n+1e-6)):this.resetTime(1/0)}},{key:"applyLoopBoundaries",value:function(e,t){var n=this.lower,r=this.upper;return t>0&&e>=r?n+(e-n)%(r-n):0>t&&n>e?r-(r-e)%(r-n):e}}]),t}(y["default"]),S=function(){function e(t,n){(0,u["default"])(this,e),this.__playControl=t,n.master=this,this.__engine=n}return(0,h["default"])(e,[{key:"syncSpeed",value:function(e,t,n,r,i){this.__engine.syncSpeed(e,t,n,r)}},{key:"destroy",value:function(){this.__playControl=null,this.__engine.master=null,this.__engine=null}},{key:"currentTime",get:function(){return this.__playControl.currentTime}},{key:"currentPosition",get:function(){return this.__playControl.currentPosition}}]),e}(),k=function(e){function t(e,n){return(0,u["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,e,n))}return(0,b["default"])(t,e),t}(S),C=function(e){function t(e,n){(0,u["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,e,n));return r.__schedulerHook=new M(e,n),r}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"syncSpeed",value:function(e,t,n,r,i){if(n!==i||r&&0!==n){var o;r||0>n*i?o=this.__engine.syncPosition(e,t,n):0===i?o=this.__engine.syncPosition(e,t,n):0===n?(o=1/0,this.__engine.syncSpeed&&this.__engine.syncSpeed(e,t,0)):this.__engine.syncSpeed&&this.__engine.syncSpeed(e,t,n),this.__schedulerHook.resetPosition(o)}}},{key:"resetEnginePosition",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];if(void 0===t){var n=this.__playControl,r=n.__sync();t=this.__engine.syncPosition(r,n.__position,n.__speed)}this.__schedulerHook.resetPosition(t)}},{key:"destroy",value:function(){this.__schedulerHook.destroy(),this.__schedulerHook=null,(0,o["default"])((0,a["default"])(t.prototype),"destroy",this).call(this)}}]),t}(S),P=function(e){function t(e,n){(0,u["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,e,n));return n.master=null,r.__schedulingQueue=new x(e,n),r}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"syncSpeed",value:function(e,t,n,r,i){0===i&&0!==n?this.__engine.resetTime():0!==i&&0===n&&this.__engine.resetTime(1/0)}},{key:"destroy",value:function(){this.__schedulingQueue.destroy(),(0,o["default"])((0,a["default"])(t.prototype),"destroy",this).call(this)}}]),t}(S),M=function(e){function t(e,n){(0,u["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this));return r.__playControl=e,r.__engine=n,r.__nextPosition=1/0,e.__scheduler.add(r,1/0),r}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"advanceTime",value:function(e){for(var t=this.__playControl,n=this.__engine,r=this.__nextPosition,i=n.advancePosition(e,r,t.__speed),o=t.__getTimeAtPosition(i);e>=o;)i=n.advancePosition(e,r,t.__speed),o=t.__getTimeAtPosition(i);return this.__nextPosition=i,o}},{key:"resetPosition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.__nextPosition:arguments[0],t=this.__playControl.__getTimeAtPosition(e);this.__nextPosition=e,this.resetTime(t)}},{key:"destroy",value:function(){this.__playControl.__scheduler.remove(this),this.__playControl=null,this.__engine=null}},{key:"currentTime",get:function(){return this.__playControl.currentTime}},{key:"currentPosition",get:function(){return this.__playControl.currentPosition}}]),t}(y["default"]),x=function(e){function t(e,n){(0,u["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this));return r.__playControl=e,r.__engine=n,r.add(n,1/0),e.__scheduler.add(r,1/0),r}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"destroy",value:function(){this.__playControl.__scheduler.remove(this),this.remove(this.__engine),this.__playControl=null,this.__engine=null}},{key:"currentTime",get:function(){return this.__playControl.currentTime}},{key:"currentPosition",get:function(){return this.__playControl.currentPosition}}]),t}(A["default"]),j=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,u["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this));return r.audioContext=n.audioContext||v["default"],r.__scheduler=(0,w.getScheduler)(r.audioContext),r.__playControlled=null,r.__loopControl=null,r.__loopStart=0,r.__loopEnd=1/0,r.__time=0,r.__position=0,r.__speed=0,r.__playingSpeed=1,e&&r.__setEngine(e),r}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"__setEngine",value:function(e){if(e.master)throw new Error("object has already been added to a master");if(y["default"].implementsSpeedControlled(e))this.__playControlled=new k(this,e);else if(y["default"].implementsTransported(e))this.__playControlled=new C(this,e);else{if(!y["default"].implementsScheduled(e))throw new Error("object cannot be added to play control");this.__playControlled=new P(this,e)}}},{key:"__resetEngine",value:function(){this.__playControlled.destroy(),this.__playControlled=null}},{key:"__getTimeAtPosition",value:function(e){return this.__time+(e-this.__position)/this.__speed}},{key:"__getPositionAtTime",value:function(e){return this.__position+(e-this.__time)*this.__speed}},{key:"__sync",value:function(){var e=this.currentTime;return this.__position+=(e-this.__time)*this.__speed,this.__time=e,e}},{key:"set",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=this.__sync(),n=this.__speed;null!==this.__playControlled&&this.__playControlled.__engine!==e&&(this.syncSpeed(t,this.__position,0),this.__playControlled&&this.__resetEngine(),null===this.__playControlled&&null!==e&&(this.__setEngine(e),0!==n&&this.syncSpeed(t,this.__position,n)))}},{key:"setLoopBoundaries",value:function(e,t){this.__loopStart=e,this.__loopEnd=t,this.loop=this.loop}},{key:"syncSpeed",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=this.__speed;(n!==i||r)&&((r||0===i)&&this.__loopControl&&(t=this.__loopControl.applyLoopBoundaries(t,n)),this.__time=e,this.__position=t,this.__speed=n,this.__playControlled&&this.__playControlled.syncSpeed(e,t,n,r,i),this.__loopControl&&this.__loopControl.reschedule(n))}},{key:"start",value:function(){var e=this.__sync();this.syncSpeed(e,this.__position,this.__playingSpeed)}},{key:"pause",value:function(){var e=this.__sync();this.syncSpeed(e,this.__position,0)}},{key:"stop",value:function(){var e=this.__sync();this.syncSpeed(e,this.__position,0),this.seek(0)}},{key:"seek",value:function(e){if(e!==this.__position){var t=this.__sync();this.__position=e,this.syncSpeed(t,e,this.__speed,!0)}}},{key:"currentTime",get:function(){return this.__scheduler.currentTime}},{key:"currentPosition",get:function(){return this.__position+(this.__scheduler.currentTime-this.__time)*this.__speed}},{key:"loop",set:function(e){e&&this.__loopStart>-(1/0)&&this.__loopEnd<1/0?(this.__loopControl||(this.__loopControl=new T(this),this.__scheduler.add(this.__loopControl,1/0)),0!==this.__speed&&this.__loopControl.reschedule(this.__speed)):this.__loopControl&&(this.__scheduler.remove(this.__loopControl),this.__loopControl=null)},get:function(){return!!this.__loopControl}},{key:"loopStart",set:function(e){this.setLoopBoundaries(e,this.__loopEnd)},get:function(){return this.__loopStart}},{key:"loopEnd",set:function(e){this.setLoopBoundaries(this.__loopStart,e)},get:function(){return this.__loopEnd}},{key:"speed",set:function(e){var t=this.__sync();e>=0?.01>e?e=.01:e>100&&(e=100):-100>e?e=-100:e>-.01&&(e=-.01),this.__playingSpeed=e,0!==this.__speed&&this.syncSpeed(t,this.__position,e)},get:function(){return this.__playingSpeed}}]),t}(y["default"]);n["default"]=j},{"../core/audio-context":335,"../core/time-engine":337,"../utils/scheduling-queue":349,"./factories":343,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],345:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/inherits"),f=r(d),p=e("../core/audio-context"),b=r(p),m=e("../core/time-engine"),v=(r(m),e("../utils/priority-queue")),g=(r(v),e("../utils/scheduling-queue")),y=r(g),_=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,a["default"])(this,t);var n=(0,h["default"])(this,(0,o["default"])(t).call(this));return n.audioContext=e.audioContext||b["default"],n.__currentTime=null,n.__nextTime=1/0,n.__timeout=null,n.period=e.period||.025,n.lookahead=e.lookahead||.1,n}return(0,f["default"])(t,e),(0,u["default"])(t,[{key:"__tick",value:function(){var e=this.audioContext,t=this.__nextTime;for(this.__timeout=null;t<=e.currentTime+this.lookahead;)this.__currentTime=t,t=this.advanceTime(t);this.__currentTime=null,this.resetTime(t)}},{key:"resetTime",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.currentTime:arguments[0];if(this.master)this.master.reset(this,t);else{if(this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null),t!==1/0){this.__nextTime===1/0&&console.log("Scheduler Start");var n=Math.max(t-this.lookahead-this.audioContext.currentTime,this.period);this.__timeout=setTimeout(function(){e.__tick()},1e3*n)}else this.__nextTime!==1/0&&console.log("Scheduler Stop");this.__nextTime=t}}},{key:"currentTime",get:function(){return this.master?this.master.currentTime:this.__currentTime||this.audioContext.currentTime+this.lookahead}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:void 0}}]),t}(y["default"]);n["default"]=_},{"../core/audio-context":335,"../core/time-engine":337,"../utils/priority-queue":348,"../utils/scheduling-queue":349,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],346:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/set"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("../core/audio-context"),h=r(c),d=e("../core/time-engine"),f=r(d),p=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,a["default"])(this,e),this.audioContext=t.audioContext||h["default"],this.__engines=new o["default"],this.__schedEngines=[],this.__schedTimes=[],this.__currentTime=null,this.__timeout=null,this.period=t.period||.025,this.lookahead=t.lookahead||.1}return(0,u["default"])(e,[{key:"__scheduleEngine",value:function(e,t){this.__schedEngines.push(e),this.__schedTimes.push(t)}},{key:"__rescheduleEngine",value:function(e,t){var n=this.__schedEngines.indexOf(e);n>=0?t!==1/0?this.__schedTimes[n]=t:(this.__schedEngines.splice(n,1),this.__schedTimes.splice(n,1)):1/0>t&&(this.__schedEngines.push(e),this.__schedTimes.push(t))}},{key:"__unscheduleEngine",value:function(e){var t=this.__schedEngines.indexOf(e);t>=0&&(this.__schedEngines.splice(t,1),this.__schedTimes.splice(t,1))}},{key:"__resetTick",value:function(){this.__schedEngines.length>0?this.__timeout||(console.log("SimpleScheduler Start"),this.__tick()):this.__timeout&&(console.log("SimpleScheduler Stop"),clearTimeout(this.__timeout),this.__timeout=null)}},{key:"__tick",value:function(){for(var e=this,t=this.audioContext,n=0;n<this.__schedEngines.length;){for(var r=this.__schedEngines[n],i=this.__schedTimes[n];i&&i<=t.currentTime+this.lookahead;)i=Math.max(i,t.currentTime),this.__currentTime=i,i=r.advanceTime(i);i&&1/0>i?this.__schedTimes[n++]=i:(this.__unscheduleEngine(r),i||(r.master=null,this.__engines["delete"](r)))}this.__currentTime=null,this.__timeout=null,this.__schedEngines.length>0&&(this.__timeout=setTimeout(function(){e.__tick()},1e3*this.period))}},{key:"defer",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];if(!(e instanceof Function))throw new Error("object cannot be defered by scheduler");this.add({advanceTime:function(t){e(t)}},t)}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];if(!f["default"].implementsScheduled(e))throw new Error("object cannot be added to scheduler");if(e.master)throw new Error("object has already been added to a master");e.master=this,this.__engines.add(e),this.__scheduleEngine(e,t),this.__resetTick()}},{key:"remove",value:function(e){if(!e.master||e.master!==this)throw new Error("engine has not been added to this scheduler");e.master=null,this.__engines["delete"](e),this.__unscheduleEngine(e),this.__resetTick()}},{key:"resetEngineTime",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];this.__rescheduleEngine(e,t),this.__resetTick()}},{key:"has",value:function(e){return this.__engines.has(e)}},{key:"clear",value:function(){this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null),this.__schedEngines.length=0,this.__schedTimes.length=0}},{key:"currentTime",get:function(){return this.__currentTime||this.audioContext.currentTime+this.lookahead}},{key:"currentPosition",get:function(){return void 0}}]),e}();n["default"]=p},{"../core/audio-context":335,"../core/time-engine":337,"babel-runtime/core-js/set":51,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],347:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){e.push(n),t.push(r)}function o(e,t,n){var r=e.indexOf(n);if(r>=0){var i=t[r];return e.splice(r,1),t.splice(r,1),i}return null}Object.defineProperty(n,"__esModule",{value:!0});var s=e("babel-runtime/core-js/get-iterator"),a=r(s),l=e("babel-runtime/helpers/get"),u=r(l),c=e("babel-runtime/core-js/object/get-prototype-of"),h=r(c),d=e("babel-runtime/helpers/classCallCheck"),f=r(d),p=e("babel-runtime/helpers/createClass"),b=r(p),m=e("babel-runtime/helpers/possibleConstructorReturn"),v=r(m),g=e("babel-runtime/helpers/inherits"),y=r(g),_=e("../core/audio-context"),A=r(_),w=e("../core/time-engine"),T=r(w),S=e("../utils/priority-queue"),k=r(S),C=e("../utils/scheduling-queue"),P=r(C),M=e("./factories"),x=function(e){function t(e,n,r,i,o){var s=arguments.length<=5||void 0===arguments[5]?1:arguments[5];(0,f["default"])(this,t);var a=(0,v["default"])(this,(0,h["default"])(t).call(this));return a.master=e,a.__engine=n,n.master=a,a.__startPosition=r,a.__endPosition=isFinite(i)?r+i:1/0,a.__offsetPosition=r+o,a.__stretchPosition=s,a.__haltPosition=1/0,a}return(0,y["default"])(t,e),(0,b["default"])(t,[{key:"setBoundaries",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?1:arguments[3];this.__startPosition=e,this.__endPosition=e+t,this.__offsetPosition=e+n,this.__stretchPosition=r,this.resetPosition()}},{key:"start",value:function(e,t,n){}},{key:"stop",value:function(e,t){}},{key:"resetPosition",value:function(e){void 0!==e&&(e+=this.__offsetPosition),this.master.resetEnginePosition(this,e)}},{key:"syncPosition",value:function(e,t,n){if(n>0){if(t<this.__startPosition)return null===this.__haltPosition&&this.stop(e,t-this.__offsetPosition),this.__haltPosition=this.__endPosition,this.__startPosition;if(t<=this.__endPosition)return this.start(e,t-this.__offsetPosition,n),this.__haltPosition=null,this.__endPosition}else{if(t>=this.__endPosition)return null===this.__haltPosition&&this.stop(e,t-this.__offsetPosition),this.__haltPosition=this.__startPosition,this.__endPosition;if(t>this.__startPosition)return this.start(e,t-this.__offsetPosition,n),this.__haltPosition=null,this.__startPosition}return null===this.__haltPosition&&this.stop(e,t),this.__haltPosition=1/0,1/0}},{key:"advancePosition",value:function(e,t,n){var r=this.__haltPosition;return null!==r?(this.start(e,t-this.__offsetPosition,n),this.__haltPosition=null,r):(null===this.__haltPosition&&this.stop(e,t-this.__offsetPosition),this.__haltPosition=1/0,1/0)}},{key:"syncSpeed",value:function(e,t,n){0===n&&this.stop(e,t-this.__offsetPosition)}},{key:"destroy",value:function(){this.master=null,this.__engine.master=null,this.__engine=null}},{key:"currentTime",get:function(){return this.master.currentTime}},{key:"currentPosition",get:function(){return this.master.currentPosition-this.__offsetPosition}}]),t}(T["default"]),j=function(e){function t(e,n,r,i,o){return(0,f["default"])(this,t),(0,v["default"])(this,(0,h["default"])(t).call(this,e,n,r,i,o))}return(0,y["default"])(t,e),(0,b["default"])(t,[{key:"syncPosition",value:function(e,t,n){return n>0&&t<this.__endPosition?t=Math.max(t,this.__startPosition):0>n&&t>=this.__startPosition&&(t=Math.min(t,this.__endPosition)),this.__offsetPosition+this.__engine.syncPosition(e,t-this.__offsetPosition,n)}},{key:"advancePosition",value:function(e,t,n){return t=this.__offsetPosition+this.__engine.advancePosition(e,t-this.__offsetPosition,n),n>0&&t<this.__endPosition||0>n&&t>=this.__startPosition?t:1/0}},{key:"syncSpeed",value:function(e,t,n){this.__engine.syncSpeed&&this.__engine.syncSpeed(e,t,n)}},{key:"resetEnginePosition",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];void 0!==t&&(t+=this.__offsetPosition),this.resetPosition(t)}}]),t}(x),E=function(e){function t(e,n,r,i,o){return(0,f["default"])(this,t),(0,v["default"])(this,(0,h["default"])(t).call(this,e,n,r,i,o))}return(0,y["default"])(t,e),(0,b["default"])(t,[{key:"start",value:function(e,t,n){this.__engine.syncSpeed(e,t,n,!0);
}},{key:"stop",value:function(e,t){this.__engine.syncSpeed(e,t,0)}},{key:"syncSpeed",value:function(e,t,n){null===this.__haltPosition&&this.__engine.syncSpeed(e,t,n)}},{key:"destroy",value:function(){this.__engine.syncSpeed(this.master.currentTime,this.master.currentPosition-this.__offsetPosition,0),(0,u["default"])((0,h["default"])(t.prototype),"destroy",this).call(this)}}]),t}(x),R=function(e){function t(e,n,r,i,o){(0,f["default"])(this,t);var s=(0,v["default"])(this,(0,h["default"])(t).call(this,e,n,r,i,o));return n.master=null,e.__schedulingQueue.add(n,1/0),s}return(0,y["default"])(t,e),(0,b["default"])(t,[{key:"start",value:function(e,t,n){this.master.__schedulingQueue.resetEngineTime(this.__engine,e)}},{key:"stop",value:function(e,t){this.master.__schedulingQueue.resetEngineTime(this.__engine,1/0)}},{key:"destroy",value:function(){this.master.__schedulingQueue.remove(this.__engine),(0,u["default"])((0,h["default"])(t.prototype),"destroy",this).call(this)}}]),t}(x),G=function(e){function t(e){(0,f["default"])(this,t);var n=(0,v["default"])(this,(0,h["default"])(t).call(this));return n.__transport=e,n.__nextPosition=1/0,n.__nextTime=1/0,e.__scheduler.add(n,1/0),n}return(0,y["default"])(t,e),(0,b["default"])(t,[{key:"advanceTime",value:function(e){for(var t=this.__transport,n=this.__nextPosition,r=t.__speed,i=t.advancePosition(e,n,r),o=t.__getTimeAtPosition(i);e>=o;)i=t.advancePosition(o,i,r),o=t.__getTimeAtPosition(i);return this.__nextPosition=i,this.__nextTime=o,o}},{key:"resetPosition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.__nextPosition:arguments[0],t=this.__transport,n=t.__getTimeAtPosition(e);this.__nextPosition=e,this.__nextTime=n,this.resetTime(n)}},{key:"destroy",value:function(){this.__transport.__scheduler.remove(this),this.__transport=null}}]),t}(T["default"]),O=function(e){function t(e){(0,f["default"])(this,t);var n=(0,v["default"])(this,(0,h["default"])(t).call(this));return n.__transport=e,e.__scheduler.add(n,1/0),n}return(0,y["default"])(t,e),(0,b["default"])(t,[{key:"destroy",value:function(){this.__transport.__scheduler.remove(this),this.__transport=null}},{key:"currentTime",get:function(){return this.__transport.currentTime}},{key:"currentPosition",get:function(){return this.__transport.currentPosition}}]),t}(P["default"]),B=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,f["default"])(this,t);var n=(0,v["default"])(this,(0,h["default"])(t).call(this));return n.audioContext=e.audioContext||A["default"],n.__engines=[],n.__transported=[],n.__scheduler=(0,M.getScheduler)(n.audioContext),n.__schedulerHook=new G(n),n.__transportedQueue=new k["default"],n.__schedulingQueue=new O(n),n.__time=0,n.__position=0,n.__speed=0,n}return(0,y["default"])(t,e),(0,b["default"])(t,[{key:"__getTimeAtPosition",value:function(e){return this.__time+(e-this.__position)/this.__speed}},{key:"__getPositionAtTime",value:function(e){return this.__position+(e-this.__time)*this.__speed}},{key:"__syncTransportedPosition",value:function(e,t,n){var r=this.__transported.length,i=1/0;if(r>0){var o,s;this.__transportedQueue.clear(),this.__transportedQueue.reverse=0>n;for(var a=r-1;a>0;a--)o=this.__transported[a],s=o.syncPosition(e,t,n),this.__transportedQueue.insert(o,s,!1);o=this.__transported[0],s=o.syncPosition(e,t,n),i=this.__transportedQueue.insert(o,s,!0)}return i}},{key:"__syncTransportedSpeed",value:function(e,t,n){var r=!0,i=!1,o=void 0;try{for(var s,l=(0,a["default"])(this.__transported);!(r=(s=l.next()).done);r=!0){var u=s.value;u.syncSpeed(e,t,n)}}catch(c){i=!0,o=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}}},{key:"resetPosition",value:function(e){var t=this.master;t&&void 0!==t.resetEnginePosition?t.resetEnginePosition(this,e):this.__schedulerHook.resetPosition(e)}},{key:"syncPosition",value:function(e,t,n){return this.__time=e,this.__position=t,this.__speed=n,this.__syncTransportedPosition(e,t,n)}},{key:"advancePosition",value:function(e,t,n){for(var r=this.__transportedQueue.time;r===t;){var i=this.__transportedQueue.head,o=i.advancePosition(e,t,n);r=(n>0&&o>t||0>n&&t>o)&&1/0>o&&o>-(1/0)?this.__transportedQueue.move(i,o):this.__transportedQueue.remove(i)}return r}},{key:"syncSpeed",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=this.__speed;if(this.__time=e,this.__position=t,this.__speed=n,n!==i||r&&0!==n){var o;r||0>n*i?o=this.__syncTransportedPosition(e,t,n):0===i?o=this.__syncTransportedPosition(e,t,n):0===n?(o=1/0,this.__syncTransportedSpeed(e,t,0)):this.__syncTransportedSpeed(e,t,n),this.resetPosition(o)}}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?1/0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],o=null;if(r===-(1/0)&&(r=0),e.master)throw new Error("object has already been added to a master");if(T["default"].implementsTransported(e))o=new j(this,e,t,n,r);else if(T["default"].implementsSpeedControlled(e))o=new E(this,e,t,n,r);else{if(!T["default"].implementsScheduled(e))throw new Error("object cannot be added to a transport");o=new R(this,e,t,n,r)}if(o){var s=this.__speed;if(i(this.__engines,this.__transported,e,o),0!==s){var a=o.syncPosition(this.currentTime,this.currentPosition,s),l=this.__transportedQueue.insert(o,a);this.resetPosition(l)}}return o}},{key:"remove",value:function(e){var t=e,n=o(this.__engines,this.__transported,e);if(n||(t=o(this.__transported,this.__engines,e),n=e),!t||!n)throw new Error("object has not been added to this transport");var r=this.__transportedQueue.remove(n);n.destroy(),0!==this.__speed&&this.resetPosition(r)}},{key:"resetEnginePosition",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=this.__speed;if(0!==n){void 0===t&&(t=e.syncPosition(this.currentTime,this.currentPosition,n));var r=this.__transportedQueue.move(e,t);this.resetPosition(r)}}},{key:"clear",value:function(){this.syncSpeed(this.currentTime,this.currentPosition,0);var e=!0,t=!1,n=void 0;try{for(var r,i=(0,a["default"])(this.__transported);!(e=(r=i.next()).done);e=!0){var o=r.value;o.destroy()}}catch(s){t=!0,n=s}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}}},{key:"currentTime",get:function(){return this.__scheduler.currentTime}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:this.__position+(this.__scheduler.currentTime-this.__time)*this.__speed}}]),t}(T["default"]);n["default"]=B},{"../core/audio-context":335,"../core/time-engine":337,"../utils/priority-queue":348,"../utils/scheduling-queue":349,"./factories":343,"babel-runtime/core-js/get-iterator":40,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],348:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=r(i),s=e("babel-runtime/helpers/createClass"),a=r(s),l=function(){function e(){(0,o["default"])(this,e),this.__objects=[],this.reverse=!1}return(0,a["default"])(e,[{key:"__objectIndex",value:function(e){for(var t=0;t<this.__objects.length;t++)if(e===this.__objects[t][0])return t;return-1}},{key:"__removeObject",value:function(e){var t=this.__objectIndex(e);return t>=0&&this.__objects.splice(t,1),this.__objects.length>0?this.__objects[0][1]:1/0}},{key:"__sortObjects",value:function(){this.reverse?this.__objects.sort(function(e,t){return t[1]-e[1]}):this.__objects.sort(function(e,t){return e[1]-t[1]})}},{key:"insert",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];return t!==1/0&&t!=-(1/0)?(this.__objects.push([e,t]),n&&this.__sortObjects(),this.__objects[0][1]):this.__removeObject(e)}},{key:"move",value:function(e,t){if(t!==1/0&&t!=-(1/0)){var n=this.__objectIndex(e);return 0>n?this.__objects.push([e,t]):this.__objects[n][1]=t,this.__sortObjects(),this.__objects[0][1]}return this.__removeObject(e)}},{key:"remove",value:function(e){return this.__removeObject(e)}},{key:"clear",value:function(){return this.__objects.length=0,1/0}},{key:"head",get:function(){return this.__objects.length>0?this.__objects[0][0]:null}},{key:"time",get:function(){return this.__objects.length>0?this.__objects[0][1]:1/0}}]),e}();n["default"]=l},{"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],349:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/set"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("../utils/priority-queue"),v=r(m),g=e("../core/time-engine"),y=r(g),_=e("../core/audio-context"),A=(r(_),function(e){function t(){(0,u["default"])(this,t);var e=(0,f["default"])(this,(0,a["default"])(t).call(this));return e.__queue=new v["default"],e.__engines=new o["default"],e}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"advanceTime",value:function(e){for(var t=this.__queue.time;e>=t;){var n=this.__queue.head,r=n.advanceTime(e);if(r){if(!(r>e&&1/0>=r))throw new Error("engine did not advance time");t=this.__queue.move(n,r)}else n.master=null,this.__engines["delete"](n),t=this.__queue.remove(n)}return t}},{key:"defer",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];if(!(e instanceof Function))throw new Error("object cannot be defered by scheduler");this.add({advanceTime:function(t){e(t)}},t)}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];if(!y["default"].implementsScheduled(e))throw new Error("object cannot be added to scheduler");if(e.master)throw new Error("object has already been added to a master");e.master=this,this.__engines.add(e);var n=this.__queue.insert(e,t);this.resetTime(n)}},{key:"remove",value:function(e){if(e.master!==this)throw new Error("object has not been added to this scheduler");e.master=null,this.__engines["delete"](e);var t=this.__queue.remove(e);this.resetTime(t)}},{key:"resetEngineTime",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];if(e.master!==this)throw new Error("object has not been added to this scheduler");var n=this.__queue.move(e,t);this.resetTime(n)}},{key:"has",value:function(e){return this.__engines.has(e)}},{key:"clear",value:function(){this.__queue.clear(),this.__engines.clear,this.resetTime(1/0)}},{key:"currentTime",get:function(){return 0}}]),t}(y["default"]));n["default"]=A},{"../core/audio-context":335,"../core/time-engine":337,"../utils/priority-queue":348,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/set":51,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],350:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=i(o),a=e("babel-runtime/helpers/classCallCheck"),l=i(a),u=e("babel-runtime/helpers/createClass"),c=i(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=i(h),f=e("babel-runtime/helpers/inherits"),p=i(f),b=e("babel-runtime/core-js/set"),m=i(b),v=e("events"),g=i(v),y=e("../utils/styles"),_=r(y),A=new m["default"],w="light";window.addEventListener("resize",function(){A.forEach(function(e){return e.onResize()})});var T=function(e){function t(){(0,l["default"])(this,t);var e=(0,d["default"])(this,(0,s["default"])(t).call(this));return 0===A.size&&_.insertStyleSheet(),A.add(e),e}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"_applyOptionnalParameters",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];e&&("string"==typeof e&&(e=document.querySelector(e)),e.appendChild(this.render()),this.onRender()),t&&this.on("change",t)}},{key:"render",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return this.$el=document.createElement("label"),this.$el.classList.add(_.ns,w),null!==e&&this.$el.classList.add(e),this.$el}},{key:"onRender",value:function(){var e=this;setTimeout(function(){return e.onResize()},0)}},{key:"onResize",value:function(){var e=this.$el.getBoundingClientRect(),t=e.width,n=t>600?"remove":"add";this.$el.classList[n]("small")}},{key:"bindEvents",value:function(){}}],[{key:"theme",set:function(e){A.forEach(function(e){return e.$el.classList.remove(w)}),w=e,A.forEach(function(e){return e.$el.classList.add(w)})},get:function(){return w}}]),t}(g["default"].EventEmitter);n["default"]=T},{"../utils/styles":362,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/set":51,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,events:465}],351:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/array/from"),o=r(i),s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("babel-runtime/helpers/get"),v=r(m),g=e("./base-controller"),y=r(g),_=function(e){function t(e,n){var r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3];(0,u["default"])(this,t);var o=(0,f["default"])(this,(0,a["default"])(t).call(this));return o.type="buttons",o.legend=e||"&nbsp",o.labels=n,o._index=null,(0,v["default"])((0,a["default"])(t.prototype),"_applyOptionnalParameters",o).call(o,r,i),o}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        '+this.labels.map(function(e,t){return'\n            <a href="#" class="btn">\n              '+e+"\n            </a>"}).join("")+"\n      </div>";return this.$el=(0,v["default"])((0,a["default"])(t.prototype),"render",this).call(this,this.type),this.$el.innerHTML=e,this.$buttons=(0,o["default"])(this.$el.querySelectorAll(".btn")),this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$buttons.forEach(function(t,n){var r=e.labels[n];t.addEventListener("click",function(t){e.emit("change",r),t.preventDefault()})})}},{key:"value",set:function(e){},get:function(){}}]),t}(y["default"]);n["default"]=_},{"./base-controller":350,"babel-runtime/core-js/array/from":39,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],352:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=i(o),a=e("babel-runtime/helpers/classCallCheck"),l=i(a),u=e("babel-runtime/helpers/createClass"),c=i(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=i(h),f=e("babel-runtime/helpers/inherits"),p=i(f),b=e("babel-runtime/helpers/get"),m=i(b),v=e("./base-controller"),g=i(v),y=e("../utils/elements"),_=r(y),A=function(e){function t(e){var n=(arguments.length<=1||void 0===arguments[1]?0:arguments[1],arguments.length<=2||void 0===arguments[2]?1:arguments[2]),r=arguments.length<=3||void 0===arguments[3]?.01:arguments[3],i=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments.length<=5||void 0===arguments[5]?null:arguments[5],a=arguments.length<=6||void 0===arguments[6]?null:arguments[6];(0,l["default"])(this,t);var u=(0,d["default"])(this,(0,s["default"])(t).call(this));return u.type="number-box",u.legend=e,u.min=0,u.max=n,u.step=r,u._value=i,u._isIntStep=r%1===0,(0,m["default"])((0,s["default"])(t.prototype),"_applyOptionnalParameters",u).call(u,o,a),u}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        '+_.arrowLeft+'\n        <input class="number" type="number" min="'+this.min+'" max="'+this.max+'" step="'+this.step+'" value="'+this._value+'" />\n        '+_.arrowRight+"\n      </div>\n    ";return this.$el=(0,m["default"])((0,s["default"])(t.prototype),"render",this).call(this,this.type),this.$el.classList.add("align-small"),this.$el.innerHTML=e,this.$prev=this.$el.querySelector(".arrow-left"),this.$next=this.$el.querySelector(".arrow-right"),this.$number=this.$el.querySelector('input[type="number"]'),this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$prev.addEventListener("click",function(t){var n=e.step.toString().split(".")[1],r=n?n.length:0,i=Math.pow(10,r),o=Math.floor(e.value*i+.5),s=Math.floor(e.step*i+.5),a=(o-s)/i;e.propagate(a)},!1),this.$next.addEventListener("click",function(t){var n=e.step.toString().split(".")[1],r=n?n.length:0,i=Math.pow(10,r),o=Math.floor(e.value*i+.5),s=Math.floor(e.step*i+.5),a=(o+s)/i;e.propagate(a)},!1),this.$number.addEventListener("change",function(t){var n=e.$number.value;n=e._isIntStep?parseInt(n,10):parseFloat(n),n=Math.min(e.max,Math.max(e.min,n)),e.propagate(n)},!1)}},{key:"propagate",value:function(e){e!==this._value&&(this._value=e,this.$number.value=e,this.emit("change",this._value))}},{key:"value",get:function(){return this._value},set:function(e){e=this._isIntStep?parseInt(e,10):parseFloat(e),e=Math.min(this.max,Math.max(this.min,e)),this.$number.value=e,this._value=e}}]),t}(g["default"]);n["default"]=A},{"../utils/elements":361,"./base-controller":350,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],353:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/array/from"),s=i(o),a=e("babel-runtime/core-js/object/get-prototype-of"),l=i(a),u=e("babel-runtime/helpers/classCallCheck"),c=i(u),h=e("babel-runtime/helpers/createClass"),d=i(h),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=i(f),b=e("babel-runtime/helpers/inherits"),m=i(b),v=e("babel-runtime/helpers/get"),g=i(v),y=e("./base-controller"),_=i(y),A=e("../utils/elements"),w=r(A),T=function(e){function t(e,n,r){var i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],o=arguments.length<=4||void 0===arguments[4]?null:arguments[4];(0,c["default"])(this,t);var s=(0,p["default"])(this,(0,l["default"])(t).call(this));s.type="select-buttons",s.legend=e,s.options=n,s._value=r;var a=s.options.indexOf(s._value);return s._currentIndex=-1===a?0:a,s._maxIndex=s.options.length-1,(0,g["default"])((0,l["default"])(t.prototype),"_applyOptionnalParameters",s).call(s,i,o),s}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        '+w.arrowLeft+"\n        "+this.options.map(function(e,t){return'\n            <a href="#" class="btn" data-index="'+t+'" data-value="'+e+'">\n              '+e+"\n            </a>"}).join("")+"\n        "+w.arrowRight+"\n      </div>\n    ";return this.$el=(0,g["default"])((0,l["default"])(t.prototype),"render",this).call(this,this.type),this.$el.innerHTML=e,this.$prev=this.$el.querySelector(".arrow-left"),this.$next=this.$el.querySelector(".arrow-right"),this.$btns=(0,s["default"])(this.$el.querySelectorAll(".btn")),this._highlightBtn(this._currentIndex),this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$prev.addEventListener("click",function(){var t=e._currentIndex-1;e.propagate(t)}),this.$next.addEventListener("click",function(){var t=e._currentIndex+1;e.propagate(t)}),this.$btns.forEach(function(t,n){t.addEventListener("click",function(t){t.preventDefault(),e.propagate(n)})})}},{key:"propagate",value:function(e){0>e||e>this._maxIndex||(this._currentIndex=e,this._value=this.options[e],this._highlightBtn(this._currentIndex),this.emit("change",this._value))}},{key:"_highlightBtn",value:function(e){this.$btns.forEach(function(t,n){t.classList.remove("active"),e===n&&t.classList.add("active")})}},{key:"value",get:function(){return this._value},set:function(e){}}]),t}(_["default"]);n["default"]=T},{"../utils/elements":361,"./base-controller":350,"babel-runtime/core-js/array/from":39,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],354:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=i(o),a=e("babel-runtime/helpers/classCallCheck"),l=i(a),u=e("babel-runtime/helpers/createClass"),c=i(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=i(h),f=e("babel-runtime/helpers/inherits"),p=i(f),b=e("babel-runtime/helpers/get"),m=i(b),v=e("./base-controller"),g=i(v),y=e("../utils/elements"),_=r(y),A=function(e){function t(e,n,r){var i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],o=arguments.length<=4||void 0===arguments[4]?null:arguments[4];(0,l["default"])(this,t);var a=(0,d["default"])(this,(0,s["default"])(t).call(this));a.type="select-list",a.legend=e,a.options=n,a._value=r;var u=a.options.indexOf(a._value);return a._currentIndex=-1===u?0:u,a._maxIndex=a.options.length-1,(0,m["default"])((0,s["default"])(t.prototype),"_applyOptionnalParameters",a).call(a,i,o),a}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        '+_.arrowLeft+"\n        <select>\n        "+this.options.map(function(e,t){return'<option value="'+e+'">'+e+"</option>"}).join("")+"\n        <select>\n        "+_.arrowRight+"\n      </div>\n    ";return this.$el=(0,m["default"])((0,s["default"])(t.prototype),"render",this).call(this,this.type),this.$el.classList.add("align-small"),this.$el.innerHTML=e,this.$prev=this.$el.querySelector(".arrow-left"),this.$next=this.$el.querySelector(".arrow-right"),this.$select=this.$el.querySelector("select"),this.$select.value=this.options[this._currentIndex],this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$prev.addEventListener("click",function(){var t=e._currentIndex-1;e.propagate(t)},!1),this.$next.addEventListener("click",function(){var t=e._currentIndex+1;e.propagate(t)},!1),this.$select.addEventListener("change",function(){var t=e.$select.value,n=e.options.indexOf(t);e.propagate(n)})}},{key:"propagate",value:function(e){if(!(0>e||e>this._maxIndex)){var t=this.options[e];this._currentIndex=e,this.$select.value=t,this.emit("change",t)}}},{key:"value",get:function(){return this._value},set:function(e){this.$select.value=e,this._value=e,this._currentIndex=this.options.indexOf(e)}}]),t}(g["default"]);n["default"]=A},{"../utils/elements":361,"./base-controller":350,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],355:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/inherits"),f=r(d),p=e("babel-runtime/helpers/get"),b=r(p),m=e("./base-controller"),v=r(m),g=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?1:arguments[2],i=arguments.length<=3||void 0===arguments[3]?.01:arguments[3],s=arguments.length<=4||void 0===arguments[4]?0:arguments[4],l=arguments.length<=5||void 0===arguments[5]?"":arguments[5],u=arguments.length<=6||void 0===arguments[6]?"default":arguments[6],c=arguments.length<=7||void 0===arguments[7]?null:arguments[7],d=arguments.length<=8||void 0===arguments[8]?null:arguments[8];(0,a["default"])(this,t);var f=(0,h["default"])(this,(0,o["default"])(t).call(this));return f.type="slider",f.legend=e,f.min=n,f.max=r,f.step=i,f.unit=l,f.size=u,f._value=s,(0,b["default"])((0,o["default"])(t.prototype),"_applyOptionnalParameters",f).call(f,c,d),f}return(0,f["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        <input class="range" type="range" min="'+this.min+'" max="'+this.max+'" step="'+this.step+'" value="'+this.value+'" />\n        <div class="number-wrapper">\n          <input type="number" class="number" min="'+this.min+'" max="'+this.max+'" step="'+this.step+'" value="'+this.value+'" />\n          <span class="unit">'+this.unit+"</span>\n        </div>\n      </div>";return this.$el=(0,b["default"])((0,o["default"])(t.prototype),"render",this).call(this,this.type),this.$el.innerHTML=e,this.$el.classList.add("slider-"+this.size),this.$range=this.$el.querySelector('input[type="range"]'),this.$number=this.$el.querySelector('input[type="number"]'),this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$range.addEventListener("input",function(){var t=parseFloat(e.$range.value);e.$number.value=t,e.value=t,e.emit("change",t)},!1),this.$number.addEventListener("change",function(){var t=parseFloat(e.$number.value);e.$range.value=t,e.value=t,e.emit("change",t)},!1)}},{key:"value",set:function(e){this._value=e,this.$number&&this.$range&&(this.$number.value=this.value,this.$range.value=this.value)},get:function(){return this._value}}]),t}(v["default"]);n["default"]=g},{"./base-controller":350,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],356:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/get"),f=r(d),p=e("babel-runtime/helpers/inherits"),b=r(p),m=e("./base-controller"),v=r(m),g=function(e){function t(e,n){var r=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],s=arguments.length<=4||void 0===arguments[4]?null:arguments[4];(0,a["default"])(this,t);var l=(0,h["default"])(this,(0,o["default"])(t).call(this));return l.type="text",l.legend=e,l._readonly=r,l._value=n,l._applyOptionnalParameters(i,s),l}return(0,b["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this._readonly?"readonly":"",n='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        <input class="text" type="text" value="'+this._value+'" '+e+" />\n      </div>\n    ";return this.$el=(0,f["default"])((0,o["default"])(t.prototype),"render",this).call(this,this.type),this.$el.innerHTML=n,this.$input=this.$el.querySelector(".text"),this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$input.addEventListener("keyup",function(){e._value=e.$input.value,e.emit("change",e._value)},!1)}},{key:"value",get:function(){return this._value},set:function(e){this.$input.value=e,this._value=e}}]),t}(v["default"]);n["default"]=g},{"./base-controller":350,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],357:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),h=r(c),d=e("babel-runtime/helpers/inherits"),f=r(d),p=e("babel-runtime/helpers/get"),b=r(p),m=e("./base-controller"),v=r(m),g=e("../utils/styles"),y=(r(g),function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];(0,a["default"])(this,t);var r=(0,h["default"])(this,(0,o["default"])(t).call(this));return r.type="title",r.legend=e,(0,b["default"])((0,o["default"])(t.prototype),"_applyOptionnalParameters",r).call(r,n),r}return(0,f["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e='<span class="legend">'+this.legend+"</span>";return this.$el=(0,b["default"])((0,o["default"])(t.prototype),"render",this).call(this,this.type),this.$el.innerHTML=e,this.$el}}]),t}(v["default"]));n["default"]=y},{"../utils/styles":362,"./base-controller":350,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],358:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),s=i(o),a=e("babel-runtime/helpers/classCallCheck"),l=i(a),u=e("babel-runtime/helpers/createClass"),c=i(u),h=e("babel-runtime/helpers/possibleConstructorReturn"),d=i(h),f=e("babel-runtime/helpers/inherits"),p=i(f),b=e("babel-runtime/helpers/get"),m=i(b),v=e("./base-controller"),g=i(v),y=e("../utils/elements"),_=r(y),A=function(e){function t(e){
var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3];(0,l["default"])(this,t);var o=(0,d["default"])(this,(0,s["default"])(t).call(this));return o.type="toggle",o.legend=e,o._active=n,(0,m["default"])((0,s["default"])(t.prototype),"_applyOptionnalParameters",o).call(o,r,i),o}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"_updateBtn",value:function(){var e=this.active?"add":"remove";this.$toggle.classList[e]("active")}},{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        '+_.toggle+"\n      </div>";return this.$el=(0,m["default"])((0,s["default"])(t.prototype),"render",this).call(this,this.type),this.$el.classList.add("align-small"),this.$el.innerHTML=e,this.$toggle=this.$el.querySelector(".toggle-element"),this.bindEvents(),this.active=this._active,this.$el}},{key:"bindEvents",value:function(){var e=this;this.$toggle.addEventListener("click",function(t){t.preventDefault(),e.active=!e.active,e.emit("change",e.active)})}},{key:"active",set:function(e){this._active=e,this._updateBtn()},get:function(){return this._active}}]),t}(g["default"]);n["default"]=A},{"../utils/elements":361,"./base-controller":350,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],359:[function(e,t,n){t.exports=" .waves-basic-controllers { width: 100%; max-width: 800px; height: 30px; padding: 3px; margin: 4px 0; background-color: #efefef; border: 1px solid #aaaaaa; box-sizing: border-box; border-radius: 2px; display: block; color: #464646; } .waves-basic-controllers .legend { font: italic bold 12px arial; line-height: 22px; overflow: hidden; text-align: right; padding: 0 8px 0 0; display: block; box-sizing: border-box; width: 24%; float: left; white-space: nowrap; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none; user-select: none; } .waves-basic-controllers .inner-wrapper { display: -webkit-inline-flex; display: inline-flex; -webkit-flex-wrap: no-wrap; flex-wrap: no-wrap; width: 76%; float: left; } .waves-basic-controllers.small:not(.align-small) { height: auto; } .waves-basic-controllers.small:not(.align-small) .legend { width: 100%; float: none; text-align: left; } .waves-basic-controllers.small:not(.align-small) .inner-wrapper { width: 100%; float: none; } .waves-basic-controllers.small.align-small .legend { display: block; margin-right: 20px; text-align: left; } .waves-basic-controllers.small.align-small .inner-wrapper { display: inline-block; width: auto; } .waves-basic-controllers .arrow-right, .waves-basic-controllers .arrow-left { border-radius: 2px; width: 14px; height: 22px; cursor: pointer; background-color: #464646; } .waves-basic-controllers .arrow-right line, .waves-basic-controllers .arrow-left line { stroke-width: 3px; stroke: #ffffff; } .waves-basic-controllers .arrow-right:hover, .waves-basic-controllers .arrow-left:hover { background-color: #686868; } .waves-basic-controllers .arrow-right:active, .waves-basic-controllers .arrow-left:active { background-color: #909090; } .waves-basic-controllers .toggle-element { width: 22px; height: 22px; border-radius: 2px; background-color: #464646; cursor: pointer; } .waves-basic-controllers .toggle-element:hover { background-color: #686868; } .waves-basic-controllers .toggle-element line { stroke-width: 3px; } .waves-basic-controllers .toggle-element .x { display: none; } .waves-basic-controllers .toggle-element.active .x { display: block; } .waves-basic-controllers .btn { display: block; text-align: center; font: normal normal 12px arial; text-decoration: none; height: 22px; line-height: 22px; background-color: #464646; border: none; color: #ffffff; margin: 0 4px 0 0; padding: 0; box-sizing: border-box; border-radius: 2px; cursor: pointer; -webkit-flex-grow: 1; flex-grow: 1; } .waves-basic-controllers .btn:last-child { margin: 0; } .waves-basic-controllers .btn:hover { background-color: #686868; } .waves-basic-controllers .btn:active, .waves-basic-controllers .btn.active { background-color: #909090; } .waves-basic-controllers .btn:focus { outline: none; } .waves-basic-controllers .number { height: 22px; display: inline-block; position: relative; font: normal normal 12px arial; vertical-align: top; border: none; background: none; color: #464646; padding: 0 4px; margin: 0; background-color: #f9f9f9; border-radius: 2px; box-sizing: border-box; } .waves-basic-controllers .number:focus { outline: none; } .waves-basic-controllers select { height: 22px; line-height: 22px; background-color: #f9f9f9; border-radius: 2px; border: none; vertical-align: top; padding: 0; margin: 0; } .waves-basic-controllers select:focus { outline: none; } .waves-basic-controllers input[type=text] { width: 100%; height: 22px; line-height: 22px; border: 0; padding: 0 4px; background-color: #f9f9f9; border-radius: 2px; color: #565656; } .waves-basic-controllers.title { border: none !important; margin-bottom: 0; margin-top: 8px; padding-top: 8px; padding-bottom: 0; background-color: transparent !important; height: 25px; } .waves-basic-controllers.title .legend { font: normal bold 13px arial; height: 100%; overflow: hidden; text-align: left; padding: 0; width: 100%; box-sizing: border-box; -webkit-flex-grow: 1; flex-grow: 1; } .waves-basic-controllers.slider .range { height: 22px; display: inline-block; margin: 0; -webkit-flex-grow: 4; flex-grow: 4; } .waves-basic-controllers.slider .number-wrapper { display: inline; height: 22px; text-align: right; -webkit-flex-grow: 3; flex-grow: 3; } .waves-basic-controllers.slider .number-wrapper .number { left: 5px; width: 54px; text-align: right; } .waves-basic-controllers.slider .number-wrapper .unit { font: italic normal 12px arial; line-height: 22px; height: 22px; width: 30px; display: inline-block; position: relative; padding-left: 5px; padding-right: 5px; color: #565656; } .waves-basic-controllers.slider .number-wrapper .unit sup { line-height: 7px; } .waves-basic-controllers.slider.slider-large .range { -webkit-flex-grow: 50; flex-grow: 50; } .waves-basic-controllers.slider.slider-large .number-wrapper { -webkit-flex-grow: 1; flex-grow: 1; } .waves-basic-controllers.slider.slider-small .range { -webkit-flex-grow: 1; flex-grow: 1; } .waves-basic-controllers.slider.slider-small .number-wrapper { -webkit-flex-grow: 7; flex-grow: 7; } .waves-basic-controllers.number-box .number { width: 120px; margin: 0 10px; vertical-align: top; } .waves-basic-controllers.select-list select { margin: 0 10px; width: 120px; font: normal normal 12px arial; color: #464646; } .waves-basic-controllers.select-buttons .btn:first-of-type { margin-left: 4px; } .waves-basic-controllers.info input[type=text] { font: normal normal 12px arial; color: #464646; } .waves-basic-controllers.dark { background-color: #363636; border: 1px solid #585858; color: rgba(255, 255, 255, 0.95); } .waves-basic-controllers.dark .toggle-element { background-color: #efefef; } .waves-basic-controllers.dark .toggle-element line { stroke: #363636; } .waves-basic-controllers.dark .toggle-element:hover { background-color: #cdcdcd; } .waves-basic-controllers.dark .arrow-right, .waves-basic-controllers.dark .arrow-left { height: 22px; background-color: #efefef; } .waves-basic-controllers.dark .arrow-right line, .waves-basic-controllers.dark .arrow-left line { stroke: #363636; } .waves-basic-controllers.dark .arrow-right:hover, .waves-basic-controllers.dark .arrow-left:hover { background-color: #cdcdcd; } .waves-basic-controllers.dark .arrow-right:active, .waves-basic-controllers.dark .arrow-left:active { background-color: #ababab; } .waves-basic-controllers.dark .number, .waves-basic-controllers.dark select, .waves-basic-controllers.dark input[type=text] { color: rgba(255, 255, 255, 0.95); background-color: #454545; } .waves-basic-controllers.dark .btn { background-color: #efefef; color: #363636; } .waves-basic-controllers.dark .btn:hover { background-color: #cdcdcd; } .waves-basic-controllers.dark .btn:active, .waves-basic-controllers.dark .btn.active { background-color: #ababab; } .waves-basic-controllers.dark.slider .inner-wrapper .number-wrapper .unit { color: #bcbcbc; } "},{}],360:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){g["default"].theme=e}function s(){m.disable()}Object.defineProperty(n,"__esModule",{value:!0}),n.Toggle=n.Title=n.Slider=n.SelectList=n.SelectButtons=n.NumberBox=n.Text=n.Buttons=n.BaseController=n.styles=void 0;var a=e("./components/buttons");Object.defineProperty(n,"Buttons",{enumerable:!0,get:function(){return i(a)["default"]}});var l=e("./components/text");Object.defineProperty(n,"Text",{enumerable:!0,get:function(){return i(l)["default"]}});var u=e("./components/number-box");Object.defineProperty(n,"NumberBox",{enumerable:!0,get:function(){return i(u)["default"]}});var c=e("./components/select-buttons");Object.defineProperty(n,"SelectButtons",{enumerable:!0,get:function(){return i(c)["default"]}});var h=e("./components/select-list");Object.defineProperty(n,"SelectList",{enumerable:!0,get:function(){return i(h)["default"]}});var d=e("./components/slider");Object.defineProperty(n,"Slider",{enumerable:!0,get:function(){return i(d)["default"]}});var f=e("./components/title");Object.defineProperty(n,"Title",{enumerable:!0,get:function(){return i(f)["default"]}});var p=e("./components/toggle");Object.defineProperty(n,"Toggle",{enumerable:!0,get:function(){return i(p)["default"]}}),n.setTheme=o,n.disableStyles=s;var b=e("./utils/styles"),m=r(b),v=e("./components/base-controller"),g=i(v);n.styles=m,n.BaseController=g["default"]},{"./components/base-controller":350,"./components/buttons":351,"./components/number-box":352,"./components/select-buttons":353,"./components/select-list":354,"./components/slider":355,"./components/text":356,"./components/title":357,"./components/toggle":358,"./utils/styles":362}],361:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.toggle='\n  <svg xmlns="http://www.w3.org/2000/svg" class="toggle-element" version="1.1" viewBox="0 0 50 50" preserveAspectRatio="none">\n      <g class="x">\n        <line x1="8" y1="8" x2="42" y2="42" stroke="white" />\n        <line x1="8" y1="42" x2="42" y2="8" stroke="white" />\n      </g>\n  </svg>\n',n.arrowRight='\n  <svg xmlns="http://www.w3.org/2000/svg" class="arrow-right" version="1.1" viewBox="0 0 50 50" preserveAspectRatio="none">\n    <line x1="10" y1="10" x2="40" y2="25" />\n    <line x1="10" y1="40" x2="40" y2="25" />\n  </svg>\n',n.arrowLeft='\n  <svg xmlns="http://www.w3.org/2000/svg" class="arrow-left" version="1.1" viewBox="0 0 50 50" preserveAspectRatio="none">\n    <line x1="40" y1="10" x2="10" y2="25" />\n    <line x1="40" y1="40" x2="10" y2="25" />\n  </svg>\n'},{}],362:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){h=!0}function o(){if(!h){var e=document.createElement("style");e.setAttribute("data-namespace",c),e.innerHTML=u["default"],document.body.appendChild(e)}}Object.defineProperty(n,"__esModule",{value:!0}),n.ns=void 0,n.disable=i,n.insertStyleSheet=o;var s=e("../../package.json"),a=r(s),l=e("../css/styles.js"),u=r(l),c=n.ns=a["default"].name,h=!1},{"../../package.json":363,"../css/styles.js":359}],363:[function(e,t,n){t.exports={name:"waves-basic-controllers",version:"0.6.0",description:"basic-controllers for rapid prototyping",main:"dist/index.js",standalone:"wavesBasicControllers",scripts:{bundle:"node ./bin/runner --bundle",transpile:"node ./bin/runner --transpile",watch:"node ./bin/runner --watch"},license:"BSD-3",repository:{type:"git",url:"git+https://github.com/wavesjs/basic-controllers.git"},jshintConfig:{esnext:!0,browser:!0,node:!0,devel:!0},dependencies:{"babel-runtime":"^6.6.1"},devDependencies:{"babel-core":"^6.6.5","babel-plugin-transform-es2015-modules-commonjs":"^6.6.5","babel-plugin-transform-runtime":"^6.6.0","babel-preset-es2015":"^6.6.0",benchmark:"^1.0.0",browserify:"^13.0.0",colors:"^1.1.2","fs-extra":"^0.26.5",ora:"^0.2.0","uglify-js":"^2.6.2",watch:"^0.17.1"},gitHead:"9486d2f74925dd3dc4c84aad703e7ccc4738cc87",readme:"# WAVESJS - BasicControllers\n\nA set of basic controllers for rapid prototyping\n\n## Documentation\n\n### Themes\n\nTwo themes are available: `'light'` _(default)_ and `'dark'`.\nThe theme can be switched via the `setTheme` method of the namespace\n\n```js\nimport * as basicControllers from 'waves-basic-controller';\nbasicControllers.setTheme('dark');\n```\n\n### Title\n\n```js\nimport { Title } from 'waves-basic-controllers';\nconst $container  = document.querySelector('#container');\n\nconst title = new Title(legend);\n$container.appendChild(title.render());\n\n// ... or simply\n\nnew Title(legend, $container);\n```\n\n### Buttons\n\n```js\nimport { Buttons } from 'waves-basic-controllers';\nconst $container  = document.querySelector('#container');\n\nconst buttons = new Buttons(legend, [...ids]);\n$container.appendChild(buttons.render());\n\nbuttons.on('change', (id) => {\n  switch (id) {\n    // ...do stuff\n  }\n});\n\n// ... or simply\n\nnew Buttons(legend, [...ids], $container, (id) => {\n  switch (id) {\n    // ...do stuff\n  }\n})\n```\n\n### Toggle\n\n```js\nimport { Toggle } from 'waves-basic-controllers';\nconst $container  = document.querySelector('#container');\n\nconst toggle = new Toggle(legend, defaultState);\n$container.appendChild(toggle.render());\n\ntoggle.on('change', function(active) {\n  // ...do stuff\n});\n\n// ... or simply\n\nnew Toggle(legend, defaultValue, $container, () => {\n  // ...do stuff\n});\n```\n\n### Slider\n\n```js\nimport { Slider } from 'waves-basic-controllers';\nconst $container = document.querySelector('#container');\n\nconst slider = new Slider(legend, min, max, step, defaultValue, unit, size);\n$container.appendChild(slider.render());\n\nslider.on('change', (value) => {\n  // ...do stuff\n});\n\n// ... or simply\n\nnew Slider(legend, min, max, step, defaultValue, unit, size, $container, () => {\n  //do stuff\n});\n```\n\n_`size` can be 'large', 'medium' or 'small' ('medium' is the default value)_\n\n\n### Conventions\n\n- `$container` can be a `DOMElement` or a css selector\n\n## Contributing\n\nThis module relies on `babel` and `browserify`, these modules should be installed globally.\n\n```\nsudo npm install -g babel\nsudo npm install -g browserify\n```\n\nand linked into your development folder\n\n```\nnpm link babel\nnpm link browserify\n```\n\n\n\n\n\n\n\n",readmeFilename:"README.md",bugs:{url:"https://github.com/wavesjs/basic-controllers/issues"},homepage:"https://github.com/wavesjs/basic-controllers#readme",_id:"waves-basic-controllers@0.6.0",_shasum:"3d72665a4dc24fd7cfa1b9014096ae97af25625b",_from:"wavesjs/basic-controllers#v0.6.0",_resolved:"git://github.com/wavesjs/basic-controllers.git#9486d2f74925dd3dc4c84aad703e7ccc4738cc87"}},{}],364:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){throw new Error("Missing parameter")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/promise"),s=r(o),a=e("babel-runtime/core-js/object/get-prototype-of"),l=r(a),u=e("babel-runtime/helpers/classCallCheck"),c=r(u),h=e("babel-runtime/helpers/createClass"),d=r(h),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=r(f),b=e("babel-runtime/helpers/get"),m=r(b),v=e("babel-runtime/helpers/inherits"),g=r(v),y=e("./loader"),_=r(y),A=void 0;window.AudioContext=window.AudioContext||window.webkitAudioContext;try{A=new window.AudioContext}catch(w){}var T=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"arraybuffer":arguments[0];(0,c["default"])(this,t);var n=(0,p["default"])(this,(0,l["default"])(t).call(this,e));return n.options={wrapAroundExtension:0},n.responseType=e,n.audioContext=A,n}return(0,g["default"])(t,e),(0,d["default"])(t,[{key:"setAudioContext",value:function(e){this.audioContext=e}},{key:"load",value:function(){var e=arguments.length<=0||void 0===arguments[0]?i():arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.options=n,this.options.wrapAroundExtension=this.options.wrapAroundExtension||0,(0,m["default"])((0,l["default"])(t.prototype),"load",this).call(this,e)}},{key:"loadOne",value:function(e){return(0,m["default"])((0,l["default"])(t.prototype),"loadOne",this).call(this,e).then(this.decodeAudioData.bind(this),function(e){throw e})}},{key:"loadAll",value:function(e){var n=this;return(0,m["default"])((0,l["default"])(t.prototype),"loadAll",this).call(this,e).then(function(e){return s["default"].all(e.map(function(e){return n.decodeAudioData.bind(n)(e)}))},function(e){throw e})}},{key:"decodeAudioData",value:function(e){var t=this;return e instanceof ArrayBuffer?new s["default"](function(n,r){t.audioContext.decodeAudioData(e,function(e){n(0===t.options.wrapAroundExtension?e:t.__wrapAround(e))},function(e){r(new Error("DecodeAudioData error"))})}):new s["default"](function(t,n){t(e)})}},{key:"__wrapAround",value:function(e){for(var t,n,r=e.length+this.options.wrapAroundExtension*e.sampleRate,i=this.audioContext.createBuffer(e.numberOfChannels,r,e.sampleRate),o=0;o<e.numberOfChannels;o++)t=e.getChannelData(o),n=i.getChannelData(o),n.forEach(function(r,i){i<e.length?n[i]=t[i]:n[i]=t[i-e.length]});return i}}]),t}(_["default"]);n["default"]=T},{"./loader":366,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/core-js/promise":50,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],365:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./loader");Object.defineProperty(n,"Loader",{enumerable:!0,get:function(){return r(i)["default"]}});var o=e("./audio-buffer-loader");Object.defineProperty(n,"AudioBufferLoader",{enumerable:!0,get:function(){return r(o)["default"]}});var s=e("./super-loader");Object.defineProperty(n,"SuperLoader",{enumerable:!0,get:function(){return r(s)["default"]}})},{"./audio-buffer-loader":364,"./loader":366,"./super-loader":367}],366:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){throw new Error("Missing parameter")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("babel-runtime/core-js/promise"),s=r(o),a=e("babel-runtime/helpers/classCallCheck"),l=r(a),u=e("babel-runtime/helpers/createClass"),c=r(u),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];(0,l["default"])(this,e),this.responseType=t,this.progressCb=void 0}return(0,c["default"])(e,[{key:"load",value:function(){var e=arguments.length<=0||void 0===arguments[0]?i():arguments[0];if(void 0===e)throw new Error("load needs at least a url to load");return Array.isArray(e)?this.loadAll(e):this.loadOne(e)}},{key:"loadOne",value:function(e){return this.fileLoadingRequest(e)}},{key:"loadAll",value:function(e){for(var t=e.length,n=[],r=0;t>r;++r)n.push(this.fileLoadingRequest(e[r],r));return s["default"].all(n)}},{key:"fileLoadingRequest",value:function(e,t){var n=this,r=new s["default"](function(r,i){var o=new XMLHttpRequest;if(o.open("GET",e,!0),o.index=t,n.responseType)o.responseType=n.responseType;else{var s=".json";-1!==e.indexOf(s,n.length-s.length)?o.responseType="json":o.responseType="arraybuffer"}o.addEventListener("load",function(){200===o.status||304===o.status||0===o.status?("json"===this.responseType&&"string"==typeof o.response&&(o.response=JSON.parse(o.response)),r(o.response)):i(new Error(o.statusText))}),o.addEventListener("progress",function(e){n.progressCallback&&(void 0!==t?n.progressCallback({index:t,value:e.loaded/e.total,loaded:e.loaded,total:e.total}):n.progressCallback({value:e.loaded/e.total,loaded:e.loaded,total:e.total}))}),o.addEventListener("error",function(){i(new Error("Network Error"))}),o.send()});return r}},{key:"progressCallback",get:function(){return this.progressCb},set:function(e){this.progressCb=e}}]),e}();n["default"]=h},{"babel-runtime/core-js/promise":50,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/createClass":56}],367:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/possibleConstructorReturn"),u=r(l),c=e("babel-runtime/helpers/inherits"),h=r(c),d=e("./audio-buffer-loader"),f=r(d),p=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(0,o["default"])(t).call(this,null))}return(0,h["default"])(t,e),t}(f["default"]);n["default"]=p},{"./audio-buffer-loader":364,"babel-runtime/core-js/object/get-prototype-of":47,"babel-runtime/helpers/classCallCheck":55,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],368:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){return Math.min(Math.max(e,0),1)}function s(e){var t=arguments.length<=1||void 0===arguments[1]?"exponential":arguments[1];switch(t){case"quadratic":return 1-e*e;case"cubic":return 1-e*e*e;default:return 0===e?1:1-Math.pow(2,10*(e-1))}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("babel-runtime/core-js/object/get-prototype-of"),l=i(a),u=e("babel-runtime/helpers/classCallCheck"),c=i(u),h=e("babel-runtime/helpers/createClass"),d=i(h),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=i(f),b=e("babel-runtime/helpers/get"),m=i(b),v=e("babel-runtime/helpers/inherits"),g=i(v),y=e("soundworks/client"),_=r(y),A=e("./PlayerRenderer"),w=i(A),T=e("./SimpleSegmentEngine"),S=i(T),k=e("events"),C=_.audioContext,P=[0,16,18,19,20,21,22,23,47,56.5],M=function(e){function t(e,n){(0,c["default"])(this,t);var r=(0,p["default"])(this,(0,l["default"])(t).call(this,!1));return r.platform=r.require("platform",{features:["web-audio","mobile-device","wake-lock"]}),r.loader=r.require("loader",{assetsDomain:e,files:n}),r.motionInput=r.require("motion-input",{descriptors:["acceleration"]}),r.emitter=new k.EventEmitter,r.scheduler=_.audio.getSimpleScheduler(),r.energy={},r.energy.value=0,r.energy.period=void 0,r.gauge={},r.gauge.value=0,r.gauge.chargingDuration=48,r.gauge.unchargingDuration=8,r.gauge.incrVal=void 0,r.gauge.charging=!1,r.organ=C.createBufferSource(),r.organ.loopStart=P[0],r.organ.loopEnd=P[1],r.organ.loop=!0,r.organGain=C.createGain(),r.organGain.gain.value=0,r.organ.connect(r.organGain),r.organGain.connect(C.destination),r.rythm=C.createBufferSource(),r.rythm.loopStart=P[1],r.rythm.loopEnd=P[2],r.rythm.loop=!0,r.rythmGain=C.createGain(),r.rythmGain.gain.value=4,r.rythmLowpass=C.createBiquadFilter(),r.rythmLowpass.type="lowpass",r.rythmLowpass.frequency.value=0,r.rythmLowpass.Q.value=6,r.rythmLowpassParams={},r.rythmLowpassParams.minCutoff=10,r.rythmLowpassParams.maxCutoff=2e4,r.rythmLowpassParams.logCutoffRatio=Math.log(r.rythmLowpassParams.maxCutoff/r.rythmLowpassParams.minCutoff),r.rythmLowpassParams.timeConstant=2,r.rythmAnalyser=C.createAnalyser(),r.rythm.connect(r.rythmLowpass),r.rythmLowpass.connect(r.rythmGain),r.rythmLowpass.connect(r.rythmAnalyser),r.rythmGain.connect(C.destination),r.segmentEngine=new S["default"](r,{period:.125,resamplingVar:15}),r.segmentEngine.positionArray=P,r.segmentEngine.connect(C.destination),r.renderer=new w["default"](r),r._accelerationListener=r._accelerationListener.bind(r),r}return(0,g["default"])(t,e),(0,d["default"])(t,[{key:"init",value:function(){this.viewOptions={ratios:{".section-top":.2,".section-center":.7,".section-bottom":.1},preservePixelRatio:!0},this.viewCtor=_.CanvasView,this.view=this.createView(),this.organ.buffer=this.loader.buffers[0],this.rythm.buffer=this.loader.buffers[0],this.segmentEngine.buffer=this.loader.buffers[0]}},{key:"start",value:function(){(0,m["default"])((0,l["default"])(t.prototype),"start",this).call(this),this.hasStarted||this.init(),this.show(),this.startTime=C.currentTime,this.motionInput.isAvailable("acceleration")?(this.energy.period=this.motionInput.getPeriod("acceleration"),this.gauge.incrVal=this.energy.period/this.gauge.chargingDuration,this.motionInput.addListener("acceleration",this._accelerationListener)):console.log("acceleration not available"),this.view.addRenderer(this.renderer),this.scheduler.add(this.segmentEngine,C.currentTime,!1),this.organ.start(C.currentTime,this.organ.loopStart),this.organGain.gain.setValueAtTime(0,C.currentTime),this.organGain.gain.linearRampToValueAtTime(1,C.currentTime+4),this.rythm.start(C.currentTime,this.rythm.loopStart)}},{key:"_accelerationListener",value:function(e){var t=Math.min(e[0],9.81),n=Math.min(e[1],9.81),r=Math.min(e[2],9.81),i=Math.min(Math.sqrt(t*t+n*n+r*r),10)/10,a=this.gauge.charging,l=this.gauge.value;if(this.gauge.charging=i>.3,this.energy.value=i,this.gauge.charging)1>l&&(this.gauge.value=o(this.gauge.value+this.gauge.incrVal),1===this.gauge.value&&this.emitter.emit("gauge:1"));else if(this.gauge.charging!==a&&(this.gauge.unchargingStartTime=C.currentTime,this.gauge.unchargingStartValue=l),this.gauge.value>0){var u=(C.currentTime-this.gauge.unchargingStartTime)/this.gauge.unchargingDuration;this.gauge.value=o(this.gauge.unchargingStartValue*s(u)),0===this.gauge.value&&this.emitter.emit("gauge:0")}var c=this._rythmLowpassDecay,h=this.rythmLowpass.frequency.value,d=this.rythmLowpassParams.minCutoff*Math.exp(this.rythmLowpassParams.logCutoffRatio*this.energy.value);this.rythmLowpass.frequency.value=c*h+(1-c)*d}},{key:"_rythmLowpassDecay",get:function(){return Math.exp(-2*Math.PI*this.energy.period/this.rythmLowpassParams.timeConstant)}}]),t}(_.Experience);n["default"]=M},{"./PlayerRenderer":369,"./SimpleSegmentEngine":370,"babel-runtime/core-js/object/get-prototype-of":377,"babel-runtime/helpers/classCallCheck":381,"babel-runtime/helpers/createClass":382,"babel-runtime/helpers/get":383,"babel-runtime/helpers/inherits":384,"babel-runtime/helpers/possibleConstructorReturn":385,events:465,"soundworks/client":11}],369:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){for(var t=0,n=0;n<e.length;n++){var r=(e[n]-128)/128;t+=r*r}return Math.sqrt(t/e.length)}function o(e){return Math.min(Math.max(e,0),1)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/get-prototype-of"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),h=r(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=r(d),p=e("babel-runtime/helpers/get"),b=r(p),m=e("babel-runtime/helpers/inherits"),v=r(m),g=e("soundworks/client"),y=function(e){function t(e){(0,u["default"])(this,t);var n=(0,f["default"])(this,(0,a["default"])(t).call(this,0));return n.playerExperience=e,n.startTime=void 0,n.color=null,n.colors=["orange","blue","yellow","grey"],n.colorParams={orange:{r:233,g:93,b:15,hex:"#e95d0f"},blue:{r:6,g:104,b:174,hex:"#0668ae"},yellow:{r:232,g:217,b:0,hex:"#e8d900"},grey:{r:19,g:4,b:1,hex:"#130401"}},n.colorCount=0,n.pYellow=.2,n.logo={},n.logo.scalingMin=.5,n.logo.scalingMax=.8,n.synthFadeoutTimeConstant=4,n.synthJustPlayed=!1,n.synthIntensity=0,n.rythmAnalyser=n.playerExperience.rythmAnalyser,n.rythmDataArray=void 0,n.rythmIntensity=0,n.gauge=n.playerExperience.gauge,n.segmentEngine=n.playerExperience.segmentEngine,n._onSynthPlayed=n._onSynthPlayed.bind(n),n._onSynthHighnote=n._onSynthHighnote.bind(n),n._workCtx=n._createImage(),n.time=0,n}return(0,v["default"])(t,e),(0,h["default"])(t,[{key:"init",value:function(){this.color="orange",this.rythmDataArray=new Uint8Array(this.rythmAnalyser.frequencyBinCount),this.startTime=this.playerExperience.startTime,this.segmentEngine.emitter.on("synth:played",this._onSynthPlayed),this.segmentEngine.emitter.on("synth:highnote",this._onSynthHighnote)}},{key:"update",value:function(e){if(this.synthJustPlayed)this.synthIntensity=1,this.synthJustPlayed=!1;else{var t=Math.exp(-2*Math.PI*e/this.synthFadeoutTimeConstant);this.synthIntensity=t*this.synthIntensity}this.rythmAnalyser.getByteTimeDomainData(this.rythmDataArray);var n=i(this.rythmDataArray),r=Math.max(0,(n-.01)/.99),o=Math.log(r)/Math.log(10);this.rythmIntensity=(Math.max(-80,20*o)+80)/80}},{key:"render",value:function(e){e.clearRect(0,0,this.canvasWidth,this.canvasHeight);var t=this.colorParams[this.color];e.save(),e.fillStyle="rgba("+t.r+", "+t.g+", "+t.b+", "+this.synthIntensity+")",e.fillRect(0,0,this.canvasWidth,this.canvasHeight),e.restore(),this._drawLogoBackground(e),this._drawGaugeCircle(e),this._drawGauge(e)}},{key:"onResize",value:function(e,n){(0,b["default"])((0,a["default"])(t.prototype),"onResize",this).call(this,e,n),this._workCtx.width=this.canvasWidth,this._workCtx.height=this.canvasHeight}},{key:"_drawLogoCharge",value:function(e){this._drawHalfLogoCharge(e,0),this._drawHalfLogoCharge(e,Math.PI)}},{key:"_drawLogoBackground",value:function(e){e.save(),e.fillStyle="rgba(255, 255, 255, "+this.logoFillIntensity+")",e.translate(this.logoTranslateX,this.logoTranslateY),e.scale(this.logoScaling,this.logoScaling),this._outlineHalfLogoShape(e),e.fill(),e.rotate(Math.PI),this._outlineHalfLogoShape(e),e.fill(),e.restore()}},{key:"_drawHalfLogoCharge",value:function(e,t){this._workCtx.ctx.save(),this._workCtx.ctx.globalCompositeOperation="source-over",this._workCtx.ctx.clearRect(0,0,this._workCtx.width,this._workCtx.height),this._workCtx.ctx.translate(this.logoTranslateX,this.logoTranslateY),this._workCtx.ctx.scale(this.logoScaling,this.logoScaling),this._workCtx.ctx.rotate(t),this._drawHalfLogoChargeLine(this._workCtx.ctx,this.gauge.value),this._workCtx.ctx.globalCompositeOperation="destination-in",this._outlineHalfLogoShape(this._workCtx.ctx),this._workCtx.ctx.fill(),e.drawImage(this._workCtx,0,0),this._workCtx.ctx.restore()}},{key:"_outlineHalfLogoShape",value:function(e){e.beginPath(),e.arc(.313816-.5,0,.10213,7*Math.PI/4,Math.PI/4,!0),e.lineTo(.421733-.5,.53615-.5),e.arc(0,.614267-.5,.11023,5*Math.PI/4,7*Math.PI/4),e.lineTo(.613778-.5,.072299),e.lineTo(.49968-.5,.686397-.5),e.arc(.313816-.5,0,.263305,Math.PI/4,3*Math.PI/2+.277),e.closePath()}},{key:"_drawHalfLogoChargeLine",value:function(e,t){e.beginPath(),e.arc(.313816-.5,0,.1827175,7*Math.PI/4,(7-8*t)*Math.PI/4,!0),e.strokeStyle="rgba(255, 255, 255, "+t+")",e.lineWidth=.161175,e.lineCap="round",e.stroke(),e.closePath()}},{key:"_onSynthHighnote",value:function(){var e=Math.random(),t=e<this.pYellow?2:this.colorCount%2;this.color=this.colors[t],this.colorCount++}},{key:"_onSynthPlayed",value:function(){this.synthJustPlayed=!0}},{key:"_createImage",value:function(){var e=document.createElement("canvas");return e.width=this.canvasWidth,e.height=this.canvasHeight,e.ctx=e.getContext("2d"),e}},{key:"_drawGaugeCircle",value:function(e){e.save(),e.beginPath(),e.arc(this.canvasWidth/2,this.canvasHeight/2,.45*this.canvasWidth,0,2*Math.PI),e.strokeStyle="rgba(255, 255, 255, 0.1)",e.lineWidth=5,e.lineCap="round",e.stroke(),e.closePath(),e.restore()}},{key:"_drawGauge",value:function(e){e.save(),e.beginPath(),e.arc(this.canvasWidth/2,this.canvasHeight/2,.45*this.canvasWidth,-Math.PI/2,-Math.PI/2+2*Math.PI*this.gauge.value,!1),e.strokeStyle="rgba(255, 255, 255, 1)",
e.lineWidth=5,e.lineCap="round",e.stroke(),e.closePath(),e.restore()}},{key:"waveModulation",get:function(){return Math.sin(-Math.PI/2+2*Math.PI*(g.audioContext.currentTime-this.startTime)/8)}},{key:"logoFillIntensity",get:function(){return o(.1+this.rythmIntensity+.9*(this.gauge.value+.03*this.waveModulation))}},{key:"logoScalingFactor",get:function(){return this.logo.scalingMin+(this.gauge.value+.05*this.waveModulation*(this.rythmIntensity-.5))*(this.logo.scalingMax-this.logo.scalingMin)}},{key:"logoScaling",get:function(){return Math.min(this.canvasWidth,this.canvasHeight)*this.logoScalingFactor}},{key:"logoTranslateX",get:function(){var e=Math.min(this.canvasWidth,this.canvasHeight),t=this.canvasWidth<this.canvasHeight?0:(this.canvasWidth-this.canvasHeight)/2;return e/2+t}},{key:"logoTranslateY",get:function(){var e=Math.min(this.canvasWidth,this.canvasHeight),t=this.canvasWidth<this.canvasHeight?(this.canvasHeight-this.canvasWidth)/2:0;return e/2+t}}]),t}(g.Renderer);n["default"]=y},{"babel-runtime/core-js/object/get-prototype-of":377,"babel-runtime/helpers/classCallCheck":381,"babel-runtime/helpers/createClass":382,"babel-runtime/helpers/get":383,"babel-runtime/helpers/inherits":384,"babel-runtime/helpers/possibleConstructorReturn":385,"soundworks/client":11}],370:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return void 0!==e?e:t}Object.defineProperty(n,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/get-prototype-of"),a=i(s),l=e("babel-runtime/helpers/classCallCheck"),u=i(l),c=e("babel-runtime/helpers/createClass"),h=i(c),d=e("babel-runtime/helpers/possibleConstructorReturn"),f=i(d),p=e("babel-runtime/helpers/inherits"),b=i(p),m=e("soundworks/client"),v=r(m),g=e("events"),y={A:2,C:3,D:4,E:5,G:6},_=["A","G","A","D",null,null,"C",null,"A","G","A","E",null,null,"D",null,"A","G","A","D",null,null,"C",null,"A","G","A","D",null,null,"D",null],A=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,u["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,n.audioContext));return r.playerExperience=e,r.buffer=o(n.buffer,null),r.period=o(n.period,0),r.periodVar=o(n.periodVar,0),r.positionArray=o(n.positionArray,[0]),r.resampling=o(n.resampling,0),r.resamplingVar=o(n.resamplingVar,0),r.gain=o(n.gain,1),r.segmentIndex=o(n.segmentIndex,0),r.beat=0,r.pBrass=0,r.triggerSiren=!1,r.sirenPlayed=!1,r.outputNode=r.audioContext.createGain(),r._reset=r._reset.bind(r),r._sirenReady=r._sirenReady.bind(r),r.emitter=new g.EventEmitter,r.playerExperience.emitter.on("gauge:0",r._reset),r.playerExperience.emitter.on("gauge:1",r._sirenReady),r}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"_getSynthVolume",value:function(){return this.beat%8===3?this.highVol:this.beat%8===6?this.midVol:this.lowVol}},{key:"_getSegmentIndex",value:function(){return y[_[this.beat%32]]}},{key:"_reset",value:function(){console.log("gauge:0"),this.pBrass=0,this.sirenPlayed=!1,this.triggerSiren=!1}},{key:"_sirenReady",value:function(){console.log("gauge:1"),this.triggerSiren=!0}},{key:"advanceTime",value:function(e){var t=this.period,n=Math.random(),r=Math.random(),i=Math.max(e,this.audioContext.currentTime);if(this.beat%128===0&&0!==this.beat&&this.pBrass<1&&0!==this.playerExperience.gauge.value&&(this.pBrass+=16/this.playerExperience.gauge.chargingDuration),this.beat%128===96&&this.triggerSiren&&!this.sirenPlayed&&(this.segmentIndex=7,this.gain=this.auxVol,this.trigger(i),this.sirenPlayed=!0),this.beat%64===0&&r<this.pBrass&&this.playerExperience.energy.value>.5&&(this.segmentIndex=this.beat%128===64?9:8,this.gain=this.auxVol,this.trigger(i)),n<this.pSynth&&this.playerExperience.energy.value>.5){if(_[this.beat%32]){this.segmentIndex=this._getSegmentIndex(),this.gain=this._getSynthVolume();var o=Math.max(e,this.audioContext.currentTime);this.trigger(o),this.emitter.emit("synth:played")}this.beat%8===3&&this.emitter.emit("synth:highnote")}return this.beat++,e+t}},{key:"trigger",value:function(e){var t=this.audioContext,n=e||t.currentTime,r=this.segmentIndex;if(this.buffer){var i=0,o=0,s=1;if(r=Math.max(0,Math.min(r,this.positionArray.length-1)),i=this.positionArray[r]||0,0!==this.resampling||this.resamplingVar>0){var a=2*(Math.random()-.5)*this.resamplingVar;s=Math.pow(2,(this.resampling+a)/1200)}var l=r+1,u=l===this.positionArray.length?this.buffer.duration:this.positionArray[l];if(o=u-i,this.gain>0&&o>0){var c=t.createBufferSource(),h=t.createGain();c.buffer=this.buffer,c.playbackRate.value=s,h.gain.value=this.gain,c.connect(h),h.connect(this.outputNode),c.start(n,i),c.stop(n+o/s)}}}},{key:"pSynth",get:function(){return.1+.9*this.playerExperience.gauge.value}},{key:"overdrive",get:function(){return 2+14*this.playerExperience.gauge.value}},{key:"lowVol",get:function(){return.8*this.overdrive}},{key:"midVol",get:function(){return 1.4*this.overdrive}},{key:"highVol",get:function(){return 2*this.overdrive}},{key:"auxVol",get:function(){return 1*this.overdrive}}]),t}(v.audio.AudioTimeEngine);n["default"]=A},{"babel-runtime/core-js/object/get-prototype-of":377,"babel-runtime/helpers/classCallCheck":381,"babel-runtime/helpers/createClass":382,"babel-runtime/helpers/inherits":384,"babel-runtime/helpers/possibleConstructorReturn":385,events:465,"soundworks/client":11}],371:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=e("soundworks/client"),s=i(o),a=e("./PlayerExperience.js"),l=r(a),u=e("../shared/viewTemplates"),c=r(u),h=e("../shared/viewContent"),d=r(h),f=["sounds/audio.mp3"];window.addEventListener("load",function(){var e=window.soundworksConfig,t=e.appName,n=e.clientType,r=e.socketIO,i=e.assetsDomain;s.client.init(n,{appName:t,socketIO:r}),s.client.setViewContentDefinitions(d["default"]),s.client.setViewTemplateDefinitions(c["default"]);new l["default"](i,f);s.client.start()})},{"../shared/viewContent":372,"../shared/viewTemplates":373,"./PlayerExperience.js":368,"soundworks/client":11}],372:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={"service:platform":{isCompatible:null,errorMessage:'<p class="big">Désolé&hellip;</p>\n    <p class="small">Cette application fonctionne uniquement sur des appareils mobiles équippés d\'iOS&nbsp;7+ ou Android&nbsp;4.2+.</p>\n    <p class="small">Participez avec votre voisin&nbsp;!</p>',intro:"Ricard S.A Live Music vous propose<br>\n            une expérience live interactive<br>\n            en association avec Cotton&nbsp;Claw,<br>\n            IRCAM&nbsp;&ndash;&nbsp;Centre Pompidou &amp; le&nbsp;fair",instruction1:"Désactivez le mode&nbsp;silencieux",instruction2:"Mettez le volume à&nbsp;fond",instruction3:"Poussez la luminosité au&nbsp;max",instruction4:"Touchez&nbsp;l'écran pour&nbsp;commencer",img:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 296.9 100"><path d="M186.9 11.9c-0.8-0.1-1.7-0.1-2.6-0.1h-12.1v22.9l0 0L186.9 11.9z"/><path class="st0" d="M192.3 32.5c-0.8 3.1-3.3 4.9-7.1 4.9h-0.3v-4.1l-12.7 1.4 0 0v13.8h14.2c5.8 0 10.5-1.9 13.9-5.6L192.3 32.5z"/><path class="st1" d="M184.9 33.3V22.5l0.3 0c5.1 0.2 7.4 2.6 7.4 7.6 0 0.8-0.1 1.6-0.3 2.3l12.3-1.4c0-0.1 0-0.3 0-0.4 0-6.2-1.8-10.9-5.3-14.1 -3-2.7-7.1-4.3-12.4-4.7l-14.8 22.8L184.9 33.3z"/><path d="M204.6 31.1l-12.3 1.4c0 0 0 0 0 0l7.9 10.4 0 0C203 39.8 204.5 35.6 204.6 31.1z"/><path class="st0" d="M89.4 33.7l-1.6 1.5c-1.2 1.1-2.7 1.8-4.1 2 -0.2 0-0.3 0-0.5 0 -1.4 0-2.9-0.5-4.1-1.3l-12.3 5c0.6 0.9 1.2 1.8 2 2.6 2.5 2.7 5.8 4.6 9.5 5.4 1.4 0.3 2.9 0.5 4.4 0.5 5.2 0 9.8-1.9 13.3-5.6l1.5-1.5L89.4 33.7z"/><path class="st1" d="M82.7 23.9c2.1 0 3.3 0.3 5 1.7l1.7 1.5 8-8.9 -1.5-1.5c-3.3-3.4-7.7-5.1-13-5.1 -5.5 0-10.4 2.2-13.8 5.9l9.5 8.1C79.6 24.5 81.2 23.9 82.7 23.9z"/><path d="M78.1 35.1c-1.2-1.3-1.9-2.9-1.9-4.7 0-2 0.9-3.7 2.1-4.8L69 17.5c-3.1 3.3-5 7.8-5 12.8 0 4 1 7.6 2.9 10.6l12.3-5C78.8 35.7 78.4 35.4 78.1 35.1z"/><polygon points="48.5 11.8 48.5 48.4 61.2 43.2 61.2 11.8 "/><polygon class="st0" points="48.5 48.5 61.2 48.5 61.2 43.2 48.5 48.4 "/><path class="st0" d="M45.1 48.5l-6.9-13c0 0 0.1-0.1 0.8-0.4C40.7 34.2 45 31 45 24.4c0-4-1.4-7.2-3.9-9.3l-8.8 33.4H45.1z"/><polygon class="st1" points="26.5 48.5 26.5 36.2 14.6 11.8 14.6 48.5 "/><path d="M26.5 36.2l5.8 12.3h0l8.8-33.4c-2.5-2.1-6.3-3.3-11-3.3H14.6l0 0L26.5 36.2 26.5 36.2zM26.2 21.1h2.6c3.9 0 4.2 2.5 4.2 3.3 0 1.1-0.4 3.7-4.2 3.7h-2.6V21.1z"/><path d="M266.1 73.6c-0.6-1-0.9-2.1-0.9-3.3 0-3.8 3.2-6.2 6.1-6.2 2 0 3.3 0.3 4.8 1.6l1.6 1.5 7.7-8.6 -1.4-1.5c-3.2-3.3-7.5-5-12.6-5 -6.8 0-12.5 3.5-15.7 8.8l8.7 13.4L266.1 73.6z"/><path class="st0" d="M255.8 61c-1.6 2.7-2.5 5.9-2.5 9.3 0 3.2 0.7 6.2 2 8.8l9.2-4.7L255.8 61z"/><path class="st1" d="M277.9 73.5l-1.6 1.5c-1.3 1.2-2.9 1.9-4.4 1.9 -1.8 0-3.7-0.8-4.9-2.1 -0.3-0.4-0.6-0.8-0.9-1.2l-1.7 0.8 -9.2 4.7c0.7 1.4 1.6 2.7 2.7 3.9 3.4 3.7 8.1 5.7 13.5 5.7 0.7 0 1.4 0 2.1-0.1 4.2-0.5 7.9-2.2 10.8-5.3l1.5-1.5L277.9 73.5z"/><polygon points="14.6 87.8 35.4 87.8 35.4 76.1 26.1 76.1 14.6 87.8 "/><polygon class="st1" points="26.1 52.3 14.6 52.3 26.1 60 "/><polygon class="st0" points="26.1 60 14.6 52.3 14.6 52.3 14.6 87.8 26.1 76.1 26.1 76.1 "/><polygon class="st1" points="37.6 52.3 37.6 67.8 49.2 75.5 49.2 52.3 "/><polygon points="37.6 87.8 49.2 87.8 49.2 75.5 37.6 67.8 "/><polygon points="90.2 52.3 90.2 63.2 114.7 52.4 114.7 52.3 "/><polygon class="st0" points="90.2 87.8 111.1 87.8 90.2 63.2 "/><polygon class="st1" points="90.2 63.2 111.1 87.8 114.7 87.8 114.7 76.7 101.7 76.7 101.7 74.4 110 74.4 110 65.5 101.7 65.5 101.7 63.3 114.7 63.3 114.7 52.4 90.2 63.2 "/><path d="M193.7 73.3c0 4.2-1.3 4.6-2.9 4.6 -1.5 0-3.3-0.5-3.3-4.6v-9.5l-11.8 10.9c0.2 2 0.7 4.6 2.2 7.1 1.8 2.9 5.4 6.5 12.8 6.5 7.3 0 10.8-3.5 12.6-6.5 0.4-0.6 0.7-1.2 0.9-1.9l-10.5-10.2V73.3z"/><path class="st1" d="M205.6 52.3h-11.8v17.5L204.2 80c1.1-2.7 1.3-5.4 1.3-6.9V52.3z"/><path class="st0" d="M187.6 63.9l-11.8-11.6V73c0 0.5 0 1.1 0.1 1.8L187.6 63.9 187.6 63.9z"/><polygon class="st1" points="187.6 52.3 175.7 52.3 175.7 52.3 187.6 63.9 "/><polygon points="161.8 87.8 173.2 87.8 173.2 77.2 161.8 87.8 "/><polygon points="145.4 52.3 132.4 52.3 132.4 67.1 151.6 71.3 152.8 68.5 "/><polygon class="st0" points="160.3 52.3 152.8 68.5 152.8 68.5 151.6 71.3 151.6 71.3 147.1 80.9 150.2 87.9 155.5 87.9 161.8 73.5 161.8 87.8 173.2 77.2 173.2 52.3 "/><polygon class="st1" points="132.4 67.1 132.4 87.8 143.9 87.8 143.9 73.5 147.1 80.9 151.6 71.3 "/><polygon class="st1" points="71.8 71.2 69.8 67 69.8 67 63 52.3 50.8 52.3 67.6 87.8 72.1 87.8 75.8 79.9 71.8 71.2 "/><polygon class="st0" points="75.8 79.9 82 66.7 71.8 71.2 "/><polygon points="76.6 52.3 69.8 67 71.8 71.2 82 66.7 88.8 52.3 "/><polygon points="238 52.3 238 65.2 250.3 52.3 "/><polygon points="238 87.8 250.4 87.8 250.4 81.6 238 87.8 "/><polygon class="st0" points="250.3 52.3 238 65.2 238 87.8 250.4 81.6 250.4 52.3 "/><path class="st1" d="M219.2 14.5c-1.9 1.9-2.9 4.4-3 7.4 -0.1 3.1 0.6 5.5 2.5 7.7l9.8-1.1L219.2 14.5z"/><path class="st0" d="M236.5 27.6c-0.3-0.2-0.6-0.4-0.9-0.6l-0.4-0.2c-3.5-1.8-5.8-3.1-6.9-3.7 -0.8-0.5-0.7-1-0.5-1.4 0.2-0.5 0.8-0.6 1.4-0.4 0.9 0.4 4.6 2.3 5.7 2.9l0 0 5.4-9.1 -0.8-0.5c-2.9-1.7-6.2-3.2-10.7-3.4l-0.7 0c-3.4 0-6.2 1-8.4 2.9 -0.2 0.2-0.3 0.3-0.5 0.5l9.3 14L236.5 27.6z"/><path d="M236.5 27.6l-7.9 0.9 -9.8 1.1c1 1.1 2.4 2.1 4.1 3.1l6.5 3.8c0.8 0.5 1.7 1.1 1.3 2 -0.2 0.4-0.5 0.6-1 0.6 -0.3 0-0.7-0.1-1.3-0.4 -0.4-0.2-6.8-3.6-6.8-3.6l-5.7 8.9 1.1 0.8c3.7 2.7 7.5 4 11.6 4.1h0.6c4.2 0 7.6-1 9.9-3 0.3-0.2 0.5-0.5 0.7-0.8 0 0 0 0 0-0.1 1.9-2.3 2.6-5 2.8-6.2 0-0.1 0-0.3 0-0.4 0-0.1 0-0.2 0-0.2C242.8 33.9 241 30.6 236.5 27.6z"/><path class="st1" d="M210.4 56.4c-0.9 1.6-1.4 3.4-1.5 5.4 -0.2 4.7 1.5 7.9 6.6 10.8l6.5 3.8c0.8 0.5 1.7 1.1 1.3 2 -0.2 0.4-0.5 0.6-1 0.6 -0.3 0-0.7-0.1-1.3-0.4 -0.4-0.2-2.7-1.4-6.8-3.6l0 0 -5.7 9 1.1 0.8c2.2 1.6 4.4 2.7 6.7 3.4l10.1-10.7L210.4 56.4z"/><path d="M228.2 67l-0.4-0.2c-3.4-1.9-5.8-3.1-6.9-3.7 -0.8-0.4-0.7-1-0.5-1.4 0.2-0.5 0.8-0.7 1.4-0.4 0.9 0.3 4.6 2.3 5.7 2.9l0 0L233 55l-0.8-0.5c-2.9-1.7-6.2-3.2-10.7-3.4l-0.7 0c-3.4 0-6.2 1-8.4 2.8 -0.8 0.7-1.5 1.5-2 2.4l16 21.1 6.4-6.8C231.7 69.4 230.2 68.2 228.2 67z"/><path class="st0" d="M226.3 77.5l-10.1 10.7c1.6 0.5 3.2 0.7 4.9 0.8h0.6c4.2 0 7.6-1 9.9-3 2.5-2.4 3.3-5.7 3.5-7 0-0.2 0-0.4 0.1-0.7 0.2-3-0.6-5.4-2.4-7.6L226.3 77.5 226.3 77.5z"/><path class="st0" d="M113.6 36l0.4-1 7.3-16.4 -13.7 5.6L96.5 48.4h11.7c0.1-0.1 0.1-0.3 0.2-0.5l1.8-4.2 0 0C111.2 41.6 112.4 38.9 113.6 36L113.6 36z"/><path d="M121.4 18.7L115.9 31l2.2 5.1h-4.5c-1.2 2.9-2.4 5.5-3.4 7.7h11.3l2.1 4.7 11.7 0L121.4 18.7z"/><polygon class="st1" points="118.1 11.7 113.6 11.7 107.7 24.3 121.4 18.7 "/><polygon class="st1" points="149.3 48.5 149.3 36.2 137.4 11.8 137.4 48.5 "/><path d="M160.9 35.5L160.9 35.5c0 0 0.1-0.1 0.8-0.4 1.8-0.9 6.1-4.1 6.1-10.7 0-8-5.4-12.6-14.9-12.6h-15.5l11.9 24.4L160.9 35.5zM149 21.1h2.6c3.9 0 4.2 2.5 4.2 3.3 0 1.1-0.4 3.7-4.2 3.7H149V21.1z"/><polygon class="st0" points="155.1 48.5 167.9 48.5 160.9 35.5 149.3 36.2 "/><path class="st0" d="M245 48.4L245 48.4l11.7 0 2.1-4.7h11.3c-1-2.2-2.1-4.8-3.4-7.7h-4.5l2.3-5.1 1.8 4.1c-2.6-5.8-5.4-12.2-7.3-16.5l-10.3 22.1c0.5 0.8 0.8 1.7 0.8 2.8C249.5 46 247.5 48.1 245 48.4z"/><path d="M266.7 36L266.7 36c1.2 2.9 2.4 5.5 3.4 7.7l0 0 1.8 4.2c0.1 0.2 0.2 0.4 0.2 0.5h11.7l-17.1-36.7h-4.6l-3.2 6.8c1.9 4.3 4.7 10.7 7.3 16.5L266.7 36z"/><path class="st2" d="M248.7 40.6c-0.9-1.4-2.5-2.4-4.3-2.4 -0.7 0-1.3 0.1-1.9 0.4 0 0.1 0 0.3 0 0.4 -0.2 1.2-0.8 4-2.8 6.2 0 0 0 0 0 0.1 0.3 0.7 0.7 1.3 1.3 1.9 0.9 0.8 2.1 1.3 3.4 1.3 0.2 0 0.4 0 0.6 0 2.5-0.3 4.5-2.5 4.5-5.1C249.5 42.3 249.2 41.4 248.7 40.6z"/></svg>'},experience:{instructions:"Secouez !",footer:"Crédits",credits:'<div>\n      <p class="separator"><span class="orange">&#9660;</span></p>\n      <p class="small">Cette expérience live interactive vous est proposée par Ricard S.A Live Music, en collaboration avec Cotton Claw, l\'IRCAM&nbsp;&ndash;&nbsp;Centre Pompidou et le fair.</p>\n      <p class="separator"><span class="blue">&#9650;</span></p>\n      <ul class="credits-list">\n        <li>Création musicale&nbsp;: Cotton Claw</li>\n        <li>Développement et conception IRCAM&nbsp;&ndash;&nbsp;Centre Pompidou&nbsp;: Sébastien Robaszkiewicz, Norbert Schnell, Benjamin Matuszewski</li>\n        <li>Les technologies Web Audio utilisées dans cette expérience sont développées dans le cadre du projet de recherche CoSiMa (Collaborative Situated Media) soutenu par l’Agence nationale de la recherche, et coordonné par l’IRCAM&nbsp;&ndash;&nbsp;Centre Pompidou.</li>\n      </ul>\n      <p class="separator"><span class="yellow">&bull;</span></p>\n      <ul class="logos">\n        <li class="partner ricardsa">\n          <a href="http://www.ricardsa-livemusic.com/" target="_blank">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 271.2 76"><path d="M172.3 0.1C171.4 0 170.6 0 169.7 0h-12.1v22.9l0 0L172.3 0.1z"/><path class="st0" d="M177.7 20.7c-0.8 3.1-3.3 4.9-7.1 4.9h-0.3v-4.1l-12.7 1.4 0 0v13.8h14.2c5.8 0 10.5-1.9 13.9-5.6L177.7 20.7z"/><path class="st1" d="M170.2 21.5V10.7l0.3 0c5.1 0.2 7.4 2.6 7.4 7.6 0 0.8-0.1 1.6-0.3 2.3l12.3-1.4c0-0.1 0-0.3 0-0.4 0-6.2-1.8-10.9-5.3-14.1 -3-2.7-7.1-4.3-12.4-4.7l-14.8 22.8L170.2 21.5z"/><path d="M190 19.3l-12.3 1.4c0 0 0 0 0 0l7.9 10.4 0 0C188.3 28 189.9 23.8 190 19.3z"/><path class="st0" d="M74.8 21.9l-1.6 1.5c-1.2 1.1-2.7 1.8-4.1 2 -0.2 0-0.3 0-0.5 0 -1.4 0-2.9-0.5-4.1-1.3l-12.3 5c0.6 0.9 1.2 1.8 2 2.6 2.5 2.7 5.8 4.6 9.5 5.4 1.4 0.3 2.9 0.5 4.4 0.5 5.2 0 9.8-1.9 13.3-5.6l1.5-1.5L74.8 21.9z"/><path class="st1" d="M68 12.1c2.1 0 3.3 0.3 5 1.7l1.7 1.5 8-8.9L81.2 5c-3.3-3.4-7.7-5.1-13-5.1 -5.5 0-10.4 2.2-13.8 5.9l9.5 8.1C65 12.7 66.5 12.1 68 12.1z"/><path d="M63.5 23.3c-1.2-1.3-1.9-2.9-1.9-4.7 0-2 0.9-3.7 2.1-4.8l-9.5-8.1c-3.1 3.3-5 7.8-5 12.8 0 4 1 7.6 2.9 10.6l12.3-5C64.1 23.9 63.8 23.6 63.5 23.3z"/><polygon points="33.9 0 33.9 36.6 46.6 31.4 46.6 0 "/><polygon class="st0" points="33.9 36.7 46.6 36.7 46.6 31.4 33.9 36.6 "/><path class="st0" d="M30.5 36.7l-6.9-13c0 0 0.1-0.1 0.8-0.4 1.7-0.9 6.1-4.1 6.1-10.7 0-4-1.4-7.2-3.9-9.3l-8.8 33.4H30.5z"/><polygon class="st1" points="11.9 36.7 11.9 24.4 0 0 0 36.7 "/><path d="M11.9 24.4l5.8 12.3h0l8.8-33.4C23.9 1.1 20.2 0 15.5 0H0l0 0L11.9 24.4 11.9 24.4zM11.6 9.3h2.6c3.9 0 4.2 2.5 4.2 3.3 0 1.1-0.4 3.7-4.2 3.7h-2.6V9.3z"/><path d="M251.5 61.8c-0.6-1-0.9-2.1-0.9-3.3 0-3.8 3.2-6.2 6.1-6.2 2 0 3.3 0.3 4.8 1.6l1.6 1.5 7.7-8.6 -1.4-1.5c-3.2-3.3-7.5-5-12.6-5 -6.8 0-12.5 3.5-15.7 8.8l8.7 13.4L251.5 61.8z"/><path class="st0" d="M241.2 49.2c-1.6 2.7-2.5 5.9-2.5 9.3 0 3.2 0.7 6.2 2 8.8l9.2-4.7L241.2 49.2z"/><path class="st1" d="M263.3 61.7l-1.6 1.5c-1.3 1.2-2.9 1.9-4.4 1.9 -1.8 0-3.7-0.8-4.9-2.1 -0.3-0.4-0.6-0.8-0.9-1.2l-1.7 0.8 -9.2 4.7c0.7 1.4 1.6 2.7 2.7 3.9 3.4 3.7 8.1 5.7 13.5 5.7 0.7 0 1.4 0 2.1-0.1 4.2-0.5 7.9-2.2 10.8-5.3l1.5-1.5L263.3 61.7z"/><polygon points="0 76 20.7 76 20.7 64.3 11.5 64.3 0 76 "/><polygon class="st1" points="11.5 40.5 0 40.5 11.5 48.2 "/><polygon class="st0" points="11.5 48.2 0 40.5 0 40.5 0 76 11.5 64.3 11.5 64.3 "/><polygon class="st1" points="23 40.5 23 56 34.6 63.7 34.6 40.5 "/><polygon points="23 76 34.6 76 34.6 63.7 23 56 "/><polygon points="75.6 40.5 75.6 51.4 100.1 40.6 100.1 40.5 "/><polygon class="st0" points="75.6 76 96.5 76 75.6 51.4 "/><polygon class="st1" points="75.6 51.4 96.5 76 100.1 76 100.1 64.9 87.1 64.9 87.1 62.6 95.3 62.6 95.3 53.7 87.1 53.7 87.1 51.5 100.1 51.5 100.1 40.6 75.6 51.4 "/><path d="M179.1 61.5c0 4.2-1.3 4.6-2.9 4.6 -1.5 0-3.3-0.5-3.3-4.6v-9.5L161.2 63c0.2 2 0.7 4.6 2.2 7.1 1.8 2.9 5.4 6.5 12.8 6.5 7.3 0 10.8-3.5 12.6-6.5 0.4-0.6 0.7-1.2 0.9-1.9L179.1 58V61.5z"/><path class="st1" d="M190.9 40.5h-11.8V58l10.5 10.2c1.1-2.7 1.3-5.4 1.3-6.9V40.5z"/><path class="st0" d="M172.9 52.1l-11.8-11.6v20.7c0 0.5 0 1.1 0.1 1.8L172.9 52.1 172.9 52.1z"/><polygon class="st1" points="172.9 40.5 161.1 40.5 161.1 40.5 172.9 52.1 "/><polygon points="147.2 76 158.6 76 158.6 65.4 147.2 76 "/><polygon points="130.7 40.5 117.8 40.5 117.8 55.3 136.9 59.5 138.2 56.7 "/><polygon class="st0" points="145.7 40.5 138.2 56.7 138.2 56.7 136.9 59.5 136.9 59.5 132.5 69.1 135.5 76.1 140.9 76.1 147.2 61.7 147.2 76 158.6 65.4 158.6 40.5 "/><polygon class="st1" points="117.8 55.3 117.8 76 129.2 76 129.3 61.7 132.5 69.1 136.9 59.5 "/><polygon class="st1" points="57.2 59.4 55.2 55.2 55.2 55.2 48.4 40.5 36.2 40.5 52.9 76 57.5 76 61.2 68.1 57.2 59.4 "/><polygon class="st0" points="61.2 68.1 67.4 54.9 57.2 59.4 "/><polygon points="62 40.5 55.2 55.2 57.2 59.4 67.4 54.9 74.2 40.5 "/><polygon points="223.4 40.5 223.4 53.4 235.6 40.5 "/><polygon points="223.4 76 235.7 76 235.7 69.8 223.4 76 "/><polygon class="st0" points="235.6 40.5 223.4 53.4 223.4 76 235.7 69.8 235.7 40.5 "/><path class="st1" d="M204.6 2.7c-1.9 1.9-2.9 4.4-3 7.4 -0.1 3.1 0.6 5.5 2.5 7.7l9.8-1.1L204.6 2.7z"/><path class="st0" d="M221.8 15.8c-0.3-0.2-0.6-0.4-0.9-0.6l-0.4-0.2c-3.5-1.8-5.8-3.1-6.9-3.7 -0.8-0.5-0.7-1-0.5-1.4 0.2-0.5 0.8-0.6 1.4-0.4 0.9 0.4 4.6 2.3 5.7 2.9l0 0 5.4-9.1 -0.8-0.5c-2.9-1.7-6.2-3.2-10.7-3.4l-0.7 0c-3.4 0-6.2 1-8.4 2.9 -0.2 0.2-0.3 0.3-0.5 0.5l9.3 14L221.8 15.8z"/><path d="M221.8 15.8l-7.9 0.9 -9.8 1.1c1 1.1 2.4 2.1 4.1 3.1l6.5 3.8c0.8 0.5 1.7 1.1 1.3 2 -0.2 0.4-0.5 0.6-1 0.6 -0.3 0-0.7-0.1-1.3-0.4 -0.4-0.2-6.8-3.6-6.8-3.6l-5.7 8.9 1.1 0.8c3.7 2.7 7.5 4 11.6 4.1h0.6c4.2 0 7.6-1 9.9-3 0.3-0.2 0.5-0.5 0.7-0.8 0 0 0 0 0-0.1 1.9-2.3 2.6-5 2.8-6.2 0-0.1 0-0.3 0-0.4 0-0.1 0-0.2 0-0.2C228.2 22.1 226.4 18.8 221.8 15.8z"/><path class="st1" d="M195.8 44.6c-0.9 1.6-1.4 3.4-1.5 5.4 -0.2 4.7 1.5 7.9 6.6 10.8l6.5 3.8c0.8 0.5 1.7 1.1 1.3 2 -0.2 0.4-0.5 0.6-1 0.6 -0.3 0-0.7-0.1-1.3-0.4 -0.4-0.2-2.7-1.4-6.8-3.6l0 0 -5.7 9 1.1 0.8c2.2 1.6 4.4 2.7 6.7 3.4l10.1-10.7L195.8 44.6z"/><path d="M213.6 55.2l-0.4-0.2c-3.4-1.9-5.8-3.1-6.9-3.7 -0.8-0.4-0.7-1-0.5-1.4 0.2-0.5 0.8-0.7 1.4-0.4 0.9 0.3 4.6 2.3 5.7 2.9l0 0 5.4-9.1 -0.8-0.5c-2.9-1.7-6.2-3.2-10.7-3.4l-0.7 0c-3.4 0-6.2 1-8.4 2.8 -0.8 0.7-1.5 1.5-2 2.4l16 21.1 6.4-6.8C217.1 57.6 215.5 56.4 213.6 55.2z"/><path class="st0" d="M211.7 65.7l-10.1 10.7c1.6 0.5 3.2 0.7 4.9 0.8h0.6c4.2 0 7.6-1 9.9-3 2.5-2.4 3.3-5.7 3.5-7 0-0.2 0-0.4 0.1-0.7 0.2-3-0.6-5.4-2.4-7.6L211.7 65.7 211.7 65.7z"/><path class="st0" d="M99 24.2l0.4-1 7.3-16.4 -13.7 5.6L81.8 36.6h11.7c0.1-0.1 0.1-0.3 0.2-0.5l1.8-4.2 0 0C96.6 29.8 97.7 27.1 99 24.2L99 24.2z"/><path d="M106.8 6.9l-5.5 12.3 2.2 5.1H99c-1.2 2.9-2.4 5.5-3.4 7.7h11.3l2.1 4.7 11.7 0L106.8 6.9z"/><polygon class="st1" points="103.5 -0.1 98.9 -0.1 93.1 12.5 106.8 6.9 "/><polygon class="st1" points="134.6 36.7 134.6 24.4 122.8 0 122.8 36.7 "/><path d="M146.3 23.7L146.3 23.7c0 0 0.1-0.1 0.8-0.4 1.8-0.9 6.1-4.1 6.1-10.7 0-8-5.4-12.6-14.9-12.6h-15.5l11.9 24.4L146.3 23.7zM134.3 9.3h2.6c3.9 0 4.2 2.5 4.2 3.3 0 1.1-0.4 3.7-4.2 3.7h-2.6V9.3z"/><polygon class="st0" points="140.4 36.7 153.3 36.7 146.3 23.7 134.6 24.4 "/><path class="st0" d="M230.4 36.6L230.4 36.6l11.7 0 2.1-4.7h11.3c-1-2.2-2.1-4.8-3.4-7.7h-4.5l2.3-5.1 1.8 4.1c-2.6-5.8-5.4-12.2-7.3-16.5l-10.3 22.1c0.5 0.8 0.8 1.7 0.8 2.8C234.9 34.2 232.9 36.3 230.4 36.6z"/><path d="M252.1 24.2L252.1 24.2c1.2 2.9 2.4 5.5 3.4 7.7l0 0 1.8 4.2c0.1 0.2 0.2 0.4 0.2 0.5h11.7L252.1-0.1h-4.6l-3.2 6.8c1.9 4.3 4.7 10.7 7.3 16.5L252.1 24.2z"/><path class="st2" d="M234.1 28.8c-0.9-1.4-2.5-2.4-4.3-2.4 -0.7 0-1.3 0.1-1.9 0.4 0 0.1 0 0.3 0 0.4 -0.2 1.2-0.8 4-2.8 6.2 0 0 0 0 0 0.1 0.3 0.7 0.7 1.3 1.3 1.9 0.9 0.8 2.1 1.3 3.4 1.3 0.2 0 0.4 0 0.6 0 2.5-0.3 4.5-2.5 4.5-5.1C234.9 30.5 234.6 29.6 234.1 28.8z"/></svg>\n          </a>\n        </li>\n        <li class="partner ircam">\n          <a href="http://www.ircam.fr/" target="_blank">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="-168 205 175 103"><path d="M-100.6 256.6v-1.4c0-3.2-2.2-5.4-5.2-5.4 -3.1 0-5.4 2.2-5.4 5.2v12.2c0 5 4.1 5.4 5.4 5.4 2.8 0 5.1-2.4 5.1-5.2v-0.2h-0.1v-1.3h-3.5v1.3c0 1.9-1.4 2-1.9 2 -1.2 0-1.8-0.7-1.8-2.2v-11.4c0-1.7 0.6-2.5 1.9-2.5 1.3 0 1.9 1.1 1.9 2.1v1.2H-100.6z"/><path d="M-92.4 267.6l0 0.1c-0.1 0.7-0.3 1.5-1.5 1.5 -0.9 0-1.5-0.5-1.5-1.5v-2h6.1v0h0.1v-4.4c0-3-2-5-4.8-5 -1.9 0-3.5 0.9-4.3 2.4 -0.4 0.8-0.6 1.9-0.6 3.3v5.2c0 1.4 0.2 2.5 0.6 3.3 0.8 1.5 2.3 2.4 4.3 2.4 1.5 0 2.6-0.5 3.6-1.4 0.8-0.8 1.3-2.2 1.3-3.5v-0.2H-92.4zM-95.3 261.2c0-1 0.5-1.5 1.4-1.5 0.9 0 1.5 0.6 1.5 1.7v1.6h-2.8L-95.3 261.2 -95.3 261.2z"/><path d="M-80.4 256.2c-1.5 0-2.3 0.7-3 1.5v-1.3h-3.5v16.1h3.5v-10.8c0-1.4 0.4-2 1.5-2 0.9 0 1.5 0.6 1.5 1.8v11.1h3.5v-12.3C-76.9 257.3-78.7 256.2-80.4 256.2z"/><path d="M-68.4 259.2v-2.8h-2v-4.8H-74v4.9h-1.6v2.8h1.6v9.4c0 1.9 1 3.9 4 3.9h1.6v-3.3h-0.2c-1.4 0-1.8-0.1-1.8-1.4v-8.7H-68.4z"/><path d="M-59 256.2c-1.7 0-2.8 0.6-4 1.7v-1.5h-3.5v16.1h3.5V263c0-2.6 1.9-3.2 3-3.2 0.4 0 0.7 0.1 1 0.2l0.2 0.1v-3.8H-59z"/><path d="M-51.9 267.6l0 0.1c-0.1 0.7-0.3 1.5-1.5 1.5 -0.9 0-1.4-0.5-1.4-1.5v-2h6.1v0h0.2v-4.4c0-3-2-5-4.9-5 -1.9 0-3.5 0.9-4.3 2.4 -0.4 0.8-0.6 1.9-0.6 3.3v5.2c0 1.4 0.2 2.5 0.6 3.3 0.8 1.5 2.3 2.4 4.3 2.4 1.5 0 2.6-0.5 3.6-1.4 0.8-0.8 1.3-2.2 1.3-3.5v-0.2H-51.9zM-52 263h-2.9v-1.6c0-1.1 0.5-1.7 1.4-1.7 0.9 0 1.5 0.6 1.5 1.7V263z"/><path d="M-77.7 280.2c-1.1-1.1-2.5-1.6-4.2-1.6h-5v22.6h3.5v-8.7h1.5c2.2 0 3.7-0.8 4.7-2.4 0.8-1.3 0.9-2.7 0.9-4.6C-76.2 282.6-76.6 281.3-77.7 280.2zM-79.6 285.6c0 2.2 0 3.7-2.4 3.7h-1.4V282h1.5C-79.6 282-79.6 283.5-79.6 285.6z"/><path d="M-66.3 287.2c-0.8-1.5-2.3-2.4-4.3-2.4 -1.9 0-3.5 0.9-4.3 2.4 -0.4 0.8-0.6 1.9-0.6 3.3v5.2c0 1.3 0.2 2.4 0.6 3.3 0.8 1.5 2.3 2.4 4.3 2.4 1.9 0 3.5-0.9 4.3-2.4 0.4-0.8 0.6-1.9 0.6-3.3v-5.2C-65.6 289.2-65.9 288-66.3 287.2zM-69.2 296.2c0 1.1-0.5 1.6-1.4 1.6 -0.9 0-1.5-0.6-1.5-1.6V290c0-1.1 0.5-1.6 1.5-1.6 0.9 0 1.4 0.6 1.4 1.6V296.2z"/><path d="M-51.2 284.8c-1.7 0-2.5 0.7-3.3 1.5 -0.4-0.6-1.3-1.5-2.8-1.5 -1.5 0-2.3 0.7-3 1.5V285h-3.6v16.1h3.5v-10.8c0-1.4 0.4-2 1.4-2 0.9 0 1.5 0.6 1.5 1.7v11.1h3.5v-10.8c0-1.4 0.4-2 1.4-2 0.9 0 1.4 0.6 1.4 1.7v11.1h3.5v-12.2C-47.5 285.9-49.5 284.8-51.2 284.8z"/><path d="M-36 286.5c-0.6-1.1-1.6-1.6-2.9-1.6 -1.5 0-2.1 0.6-2.8 1.4v-1.2h-3.5v22.4h3.5v-7.6c0.7 0.9 1.7 1.4 2.8 1.4 1.4 0 2.3-0.5 2.9-1.5 0.4-0.7 0.5-1.6 0.5-3.9v-6C-35.4 288.5-35.6 287.4-36 286.5zM-39 290.4v5.7c0 1.2-0.4 1.8-1.5 1.8 -0.8 0-1.4-0.7-1.4-1.5v-6.1c0-1.1 0.6-1.8 1.4-1.8C-39.1 288.4-39 289.6-39 290.4z"/><rect x="-33.2" y="285" width="3.5" height="16.1"/><rect x="-33.2" y="278.6" width="3.5" height="3.5"/><path d="M-21.1 278.6v7.6c-0.7-0.9-1.7-1.4-2.8-1.4 -1.4 0-2.3 0.5-2.9 1.5 -0.4 0.7-0.5 1.6-0.5 3.9v6c0 1.5 0.2 2.6 0.5 3.5 0.6 1.1 1.6 1.6 2.9 1.6 1.5 0 2.1-0.6 2.8-1.4v1.3h3.5v-22.5H-21.1zM-21 289.9v6.1c0 1.1-0.6 1.8-1.5 1.8 -1.3 0-1.4-1.3-1.4-2v-5.7c0-1.2 0.4-1.7 1.4-1.7C-21.6 288.4-21 289-21 289.9z"/><path d="M-6.2 287.2c-0.8-1.5-2.3-2.4-4.3-2.4 -1.9 0-3.5 0.9-4.3 2.4 -0.4 0.8-0.6 1.9-0.6 3.3v5.2c0 1.3 0.2 2.4 0.6 3.3 0.8 1.5 2.3 2.4 4.3 2.4 1.9 0 3.5-0.9 4.3-2.4 0.4-0.8 0.6-1.9 0.6-3.3v-5.2C-5.5 289.2-5.8 288-6.2 287.2zM-12 290c0-1.1 0.5-1.6 1.5-1.6 0.9 0 1.4 0.6 1.4 1.6v6.2c0 1.1-0.5 1.6-1.4 1.6 -0.9 0-1.5-0.6-1.5-1.6V290z"/><path d="M2.6 285v10.8c0 1.4-0.4 2-1.4 2 -0.9 0-1.5-0.6-1.5-1.8v-11h-3.5v12.2c0 3 1.8 4.1 3.5 4.1 1.5 0 2.3-0.7 2.9-1.5v1.3h3.5V285H2.6z"/><path d="M-123 253.9h-5.5c-1.5 1.4-3.3 2.4-4.7 3.8h-5l-4.8 3.6h-5.1l-4.6 3.7h-5.1l-4.7 3.8h-5v-1.9h4.3c0.6-0.5 1.5-1.2 2.2-1.9h-6.5v-1.9h14.1l2.2-1.8h-16.2v-1.9h23.7c0.6-0.7 1.7-1.1 2.2-1.9h-25.9v-1.9h33.5c0.7-0.7 1.5-1 2.2-1.8l-35.7 0.2v-2h44.4V253.9"/><path d="M-123 257.6h-4.2c-0.7 0.6-1.5 1.1-2.2 1.8h6.4v1.9h-14l-2.2 1.7h16.2v1.9h-23.7c-0.8 0.7-1.5 1.1-2.3 1.9h26v1.9h-33.5l-2.3 1.8h35.7v1.9h-44.4v-1.9h5.6l4.7-3.7h5c1.7-1.3 3.1-2.4 4.8-3.7 1.7 0 3.6 0 5.2-0.1l4.4-3.5h5.1l4.7-3.8h5V257.6"/><rect x="-86.9" y="216.1" width="5.7" height="27.3"/><rect x="-86.9" y="205.1" width="5.7" height="5.7"/><path d="M-63.7 215.9c-3 0-4.9 1.1-7 3v-2.7h-5.7v27.4h5.7v-16.1c0-5.6 4.8-5.8 5.3-5.8 0.6 0 1.2 0.1 1.6 0.3l0.2 0.1v-6.2H-63.7z"/><path d="M-45.5 224.6v-0.1c0-5.2-3.3-8.8-8.2-8.8 -3.2 0-5.8 1.4-7.2 4 -0.7 1.3-1 3.2-1 5.6v8.9c0 2.3 0.3 4.2 1 5.6 1.4 2.5 4 4 7.2 4 2.4 0 4.5-0.8 6-2.4 1.4-1.4 2.2-3.5 2.2-5.8v-0.1h-5.7l0 0.1c-0.1 1.7-1 2.6-2.6 2.6 -1.6 0-2.5-0.9-2.5-2.6v-11.1c0-1.8 1-3 2.5-3 1.7 0 2.5 1 2.5 3.1v0.1H-45.5z"/><path d="M-34.3 215.9c-2.3 0-4.5 0.9-6 2.3 -1.5 1.5-2.3 3.5-2.5 5.9l0 0.2h5.6l0-0.1c0.3-1.7 1.7-2.6 3-2.6 1.7 0 2.5 1 2.5 3.1v2.6c-0.2 0-0.4 0-0.6-0.1 -0.7-0.1-1.3-0.1-1.9-0.1 -5.4 0-8.8 1.6-8.8 9.3 0 6.4 3.8 7.4 6 7.4 2.5 0 3.8-1 5.2-2.9v2.6h5.8v-18.9C-25.9 219.2-29.2 215.9-34.3 215.9zM-31.6 231.8v3.3h-0.1v0.1c0 2.1-1 3.4-2.8 3.4 -1.7 0-2.6-1.3-2.6-3.4 0-2.5 1.4-3.6 4.1-3.6 0.4 0 0.7 0.1 1.1 0.1C-31.7 231.8-31.6 231.8-31.6 231.8z"/><path d="M0.1 215.9c-2.8 0-4.4 1.2-5.6 2.6 -1.4-1.7-3.1-2.6-4.9-2.6 -2.2 0-3.8 0.9-5 2.7v-2.4h-5.7v27.3h5.7v-18.3c0-2.5 0.8-3.6 2.5-3.6 1.6 0 2.5 1.1 2.5 3.1v18.8h5.7v-18.3c0-2.5 0.8-3.6 2.5-3.6 1.6 0 2.5 1.1 2.5 3.1v18.8h5.7v-20.8C6.2 217.9 3.1 215.9 0.1 215.9z"/></svg>\n          </a>\n        </li>\n        <li class="partner cottonclaw">\n          <a href="http://cottonclaw.com/" target="_blank">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100"><path d="M141.4 56.6c-7.8 7.8-18.9 10.3-28.8 7.5V43.9c4.4 4.4 11.6 4.4 16.1 0 4.4-4.4 4.4-11.6 0-16.1 -4.4-4.4-11.6-4.4-16.1 0l-4.3 4.2c-1.1 1.1-2.4 1.9-3.8 2.5 -1.4 0.6-3 0.9-4.6 0.9 -1.5 0-3-0.3-4.4-0.9 -1.4-0.5-2.6-1.3-3.6-2.3l-4.6-4.5L100 15.1c11.4-11.4 30-11.4 41.4 0C152.9 26.5 152.9 45.1 141.4 56.6zM58.6 56.6C70 68 88.6 68 100 56.6l12.7-12.7 -4.6-4.5c-1.1-1-2.3-1.7-3.6-2.3 -1.4-0.5-2.8-0.8-4.4-0.9 -1.6 0-3.2 0.3-4.6 0.9 -1.4 0.6-2.7 1.4-3.8 2.5l-4.3 4.2c-4.4 4.4-11.6 4.4-16.1 0 -4.4-4.4-4.4-11.6 0-16.1 4.4-4.4 11.6-4.4 16.1 0V7.7c-9.9-2.8-21-0.3-28.8 7.5C47.1 26.5 47.1 45.1 58.6 56.6z"/><path d="M26.3 97.1c0.2-0.1 0.4-0.1 0.6 0 0.2 0.2 0.1 0.4-0.1 0.6 -2.1 1.5-4.3 2.3-6.8 2.3 -3 0-5.6-1.1-7.7-3.2C10.1 94.7 9 92.2 9 89.3c0-2.9 1.1-5.4 3.2-7.5 2.1-2.1 4.7-3.1 7.7-3.1 2.5 0 4.8 0.8 6.8 2.3 0.2 0.2 0.3 0.4 0.1 0.5 -0.2 0.2-0.4 0.2-0.6 0.1 -1.8-1.4-4-2.1-6.4-2.1 -2.8 0-5.2 1-7.1 2.9s-3 4.2-3 7c0 2.7 1 5.1 3 7s4.4 2.9 7.1 2.9C22.3 99.2 24.4 98.5 26.3 97.1z"/><path d="M34.1 87.4c1.4-1.4 3-2.2 4.9-2.2 1.9 0 3.6 0.7 4.9 2.2 1.4 1.4 2 3.2 2 5.2 0 2-0.7 3.8-2 5.2 -1.4 1.4-3 2.2-4.9 2.2 -1.9 0-3.6-0.7-4.9-2.2 -1.4-1.4-2-3.2-2-5.2C32.1 90.6 32.8 88.9 34.1 87.4zM34.6 97.3c1.2 1.3 2.7 1.9 4.4 1.9s3.2-0.6 4.4-1.9c1.2-1.3 1.8-2.8 1.8-4.7 0-1.8-0.6-3.4-1.8-4.7C42.2 86.7 40.7 86 39 86s-3.2 0.6-4.4 1.9c-1.2 1.3-1.8 2.8-1.8 4.7C32.8 94.4 33.4 96 34.6 97.3z"/><path d="M56 85.3c0.3 0 0.4 0.1 0.4 0.4 0 0.3-0.1 0.4-0.4 0.4h-2.4v11.7c0 0.4 0.1 0.8 0.5 1.1 0.3 0.3 0.6 0.5 1 0.5 0.3 0 0.5 0.1 0.5 0.4s-0.1 0.4-0.4 0.4c-0.6 0-1.2-0.2-1.6-0.7 -0.5-0.5-0.7-1-0.7-1.6V86h-2.5c-0.3 0-0.4-0.1-0.4-0.4 0-0.2 0.1-0.4 0.4-0.4h2.5v-5.9c0-0.3 0.1-0.4 0.4-0.4s0.4 0.1 0.4 0.4v5.9H56z"/><path d="M68 85.3c0.3 0 0.4 0.1 0.4 0.4 0 0.3-0.1 0.4-0.4 0.4h-2.4v11.7c0 0.4 0.1 0.8 0.5 1.1 0.3 0.3 0.6 0.5 1 0.5 0.3 0 0.5 0.1 0.5 0.4s-0.1 0.4-0.4 0.4c-0.6 0-1.2-0.2-1.6-0.7 -0.5-0.5-0.7-1-0.7-1.6V86h-2.5c-0.3 0-0.4-0.1-0.4-0.4 0-0.2 0.1-0.4 0.4-0.4h2.5v-5.9c0-0.3 0.1-0.4 0.4-0.4s0.4 0.1 0.4 0.4v5.9H68z"/><path d="M76.9 87.4c1.4-1.4 3-2.2 4.9-2.2 1.9 0 3.6 0.7 4.9 2.2 1.4 1.4 2 3.2 2 5.2 0 2-0.7 3.8-2 5.2 -1.4 1.4-3 2.2-4.9 2.2 -1.9 0-3.6-0.7-4.9-2.2 -1.4-1.4-2-3.2-2-5.2C74.8 90.6 75.5 88.9 76.9 87.4zM77.4 97.3c1.2 1.3 2.7 1.9 4.4 1.9s3.2-0.6 4.4-1.9c1.2-1.3 1.8-2.8 1.8-4.7 0-1.8-0.6-3.4-1.8-4.7 -1.2-1.3-2.7-1.9-4.4-1.9s-3.2 0.6-4.4 1.9c-1.2 1.3-1.8 2.8-1.8 4.7C75.6 94.4 76.2 96 77.4 97.3z"/><path d="M94.5 100c0 0-0.1-0.1-0.1-0.1s-0.1 0-0.1-0.1c0 0-0.1-0.1-0.1-0.2v-14c0-0.2 0.1-0.4 0.4-0.4 0.2 0 0.4 0.1 0.4 0.4v2.7c0.5-0.9 1.2-1.7 2.2-2.2 0.9-0.6 1.9-0.8 3-0.8 1.6 0 3 0.6 4.2 1.7 1.2 1.2 1.7 2.6 1.7 4.2v8.4c0 0.3-0.1 0.4-0.4 0.4 -0.3 0-0.4-0.1-0.4-0.4v-8.4c0-1.4-0.5-2.7-1.5-3.7 -1-1-2.2-1.5-3.6-1.5 -1.4 0-2.6 0.5-3.7 1.5S95 89.8 95 91.2v8.4c0 0.3-0.1 0.4-0.4 0.4H94.5z"/><path d="M138.3 97.1c0.2-0.1 0.4-0.1 0.6 0 0.2 0.2 0.1 0.4-0.1 0.6 -2.1 1.5-4.3 2.3-6.8 2.3 -3 0-5.6-1.1-7.7-3.2 -2.1-2.1-3.2-4.6-3.2-7.5 0-2.9 1.1-5.4 3.2-7.5 2.1-2.1 4.7-3.1 7.7-3.1 2.5 0 4.8 0.8 6.8 2.3 0.2 0.2 0.3 0.4 0.1 0.5 -0.2 0.2-0.4 0.2-0.6 0.1 -1.8-1.4-4-2.1-6.4-2.1 -2.8 0-5.2 1-7.1 2.9s-3 4.2-3 7c0 2.7 1 5.1 3 7s4.4 2.9 7.1 2.9C134.3 99.2 136.4 98.5 138.3 97.1z"/><path d="M145 79.4c0-0.3 0.1-0.4 0.4-0.4s0.4 0.1 0.4 0.4v20.2c0 0.3-0.1 0.4-0.4 0.4s-0.4-0.1-0.4-0.4V79.4z"/><path d="M163.8 85.7c0-0.3 0.1-0.4 0.4-0.4s0.4 0.1 0.4 0.4v13.9c0 0.3-0.1 0.4-0.4 0.4s-0.4-0.1-0.4-0.4v-3.7c-0.6 1.2-1.4 2.2-2.5 2.9 -1.1 0.7-2.3 1.1-3.6 1.1 -1.9 0-3.6-0.7-4.9-2.2 -1.3-1.4-2-3.2-2-5.2 0-2 0.7-3.8 2-5.2 1.4-1.4 3-2.2 4.9-2.2 1.3 0 2.5 0.4 3.6 1.1 1.1 0.7 2 1.7 2.5 2.9V85.7zM153.2 97.3c1.2 1.3 2.7 1.9 4.4 1.9s3.2-0.6 4.4-1.9 1.8-2.8 1.8-4.7c0-1.8-0.6-3.4-1.8-4.7 -1.2-1.3-2.7-1.9-4.4-1.9s-3.2 0.6-4.4 1.9c-1.2 1.3-1.8 2.8-1.8 4.7C151.4 94.4 152 96 153.2 97.3z"/><path d="M185.1 99.7c0 0.1 0 0.1-0.1 0.2 -0.1 0.1-0.2 0.1-0.2 0.1 -0.1 0-0.1 0-0.2 0 -0.1 0-0.2 0-0.2-0.1 0 0 0 0 0 0v0l-4-9.4 -4 9.4c-0.1 0.1-0.2 0.2-0.3 0.2H176c-0.1 0-0.1 0-0.2-0.1 -0.1-0.1-0.1-0.1-0.1-0.2l-5.8-13.8c-0.1-0.2 0-0.4 0.2-0.5 0.2-0.1 0.4-0.1 0.5 0.2l5.5 13.1 3.9-9.4c0.1-0.2 0.2-0.3 0.4-0.2 0.2 0 0.3 0.1 0.4 0.2l3.9 9.4 5.5-13.1c0-0.1 0.1-0.2 0.3-0.2 0.1 0 0.3 0 0.4 0.1 0.1 0.1 0.1 0.2 0 0.4L185.1 99.7z"/></svg>\n          </a>\n        </li>\n        <li class="partner fair">\n          <a href="http://www.lefair.org/" target="_blank">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1040.6 389.5"><path d="M198.7 0c0.7 0.1 1.4 0.3 2.1 0.4 14.1 0.7 28.3 1.2 42.4 2.2 13.2 0.9 26.3 2.5 39.3 4.7 0.5 0.1 1.1 0.3 1.7 0.4 0 24.7 0 49.4 0 74.3-0.9 0-1.7 0-2.5 0-11.8-0.3-23.5-0.7-35.3-0.9-5-0.1-10.1 0.3-15 1.6-1.7 0.4-3.4 1-5 1.7-6.5 2.8-10.6 7.7-11.2 14.7-0.6 6.4-0.3 12.9-0.5 19.7 20.7 0 41 0 61.5 0 0 26 0 51.6 0 77.6-3.4 0-6.8 0-10.2 0-3.4 0-6.7 0-10.1 0-3.4 0-6.9 0-10.3 0-3.4 0-6.7 0-10.1 0-3.4 0-6.9 0-10.3 0-3.3 0-6.7 0-10.3 0 0 61.8 0 123.4 0 185.2-58.5 0-116.7 0-174.9 0 0 0-0.1-0.1-0.2-0.1-0.1-0.1-0.1-0.1-0.1-0.2 0-0.1-0.1-0.1-0.1-0.2 0-0.2 0-0.3-0.1-0.5 0-0.1 0-0.2 0-0.2s0-0.2 0-0.2c0-0.2 0-0.5 0-0.7 0-60.5 0-120.9 0-181.4 0-0.1 0-0.2 0-0.2 0-0.2 0-0.3 0-0.5 0-0.1 0-0.2-0.1-0.2 0-0.1 0-0.2-0.1-0.5-0.8 0-1.6-0.1-2.5-0.1-11.3 0-22.6 0-33.8 0-1 0-2-0.2-3.1-0.4 0-25.6 0-51.2 0-76.8 1-0.1 2-0.4 3-0.4 11.3 0 22.6 0 33.8 0 0.8 0 1.7 0 2.7 0 0-1.3 0-2.3 0-3.2 0-8.4 0-16.8 0.1-25.2 0.3-17.4 6.2-32.7 17.4-45.9 8.5-10 18.9-17.6 30.5-23.6 19.7-10.2 40.9-15.6 62.7-18.2 8.8-1.1 17.7-1.4 26.5-2.1 0.5 0 1.1-0.2 1.6-0.4C185.3 0 192 0 198.7 0z"/><path d="M1040.6 217.9c-1.4-0.2-2.8-0.4-4.2-0.7-16.6-4-33.5-6.3-50.6-6.4-4.8 0-9.6 0.4-14.2 1.7-11.4 3.3-18.2 10.9-20.6 22.4-0.7 3.2-1 6.5-1 9.8-0.1 44.5 0 89 0 133.4 0 1 0 2.1 0 3.1-1.8 0.6-129.1 0.8-134.1 0.3-0.5-1.7-0.6-260-0.1-262.7 43.5 0 87.1 0 130.9 0 1.1 9.3 2.2 18.6 3.3 28.4 0.8-0.9 1.4-1.5 2-2.1 5-5.8 10.3-11.1 16.4-15.8 8-6.2 16.8-10.9 26.8-12.8 4.5-0.9 9-1 13.6-0.9 10 0.2 19.7 1.9 28.9 5.9 1 0.4 2 1 3 1.4C1040.6 154.6 1040.6 186.2 1040.6 217.9z"/><path d="M305.3 196.6c0.2-4.6 0.8-8.8 1.7-13 4.7-22.7 17.4-39.4 37.2-51.1 11.5-6.8 24-11.2 37-14.3 12.3-3 24.8-4.7 37.4-5.9 17.9-1.6 35.8-1.7 53.7-1.2 17.8 0.5 35.4 2 52.9 5.6 12.6 2.6 24.8 6.2 36.3 12.1 12.2 6.2 22.5 14.7 29.7 26.4 5.5 8.9 8.7 18.7 10.3 28.9 1.1 6.7 1.5 13.5 1.5 20.3 0 57.9 0 115.8 0 173.7 0 1 0 2.1 0 3-2 0.5-120.2 0.6-122.8 0.1-1.1-8-2.2-16-3.4-24.4-0.5 0.4-0.8 0.6-1.1 0.9-12.7 14.3-28.7 23-47 27.7-12.4 3.2-25 4.2-37.8 4-14.7-0.2-29.2-2.2-43.2-6.9-9.3-3.1-18-7.4-25.9-13.3-14.9-11.2-24.1-26.1-27.3-44.5-2.3-12.9-1.8-25.8 1.5-38.5 4.6-17.6 15-31.1 29.9-41.2 10.7-7.3 22.6-12.2 35-16 12.3-3.7 24.8-6.1 37.5-7.8 17.5-2.3 35.2-3.3 52.9-3.5 7.5-0.1 15-0.1 22.6-0.1 0.9 0 1.7 0 2.8 0 0.1-0.9 0.1-1.6 0.1-2.3 0-8.5 0.1-17 0-25.4 0-2.1-0.4-4.1-0.8-6.2-1.2-5-4.2-8.5-8.7-10.9-3.8-2-8-2.8-12.2-3.1-5.8-0.5-11.7-0.4-17.4 1.1-6.3 1.6-10.7 5.5-13.2 11.5-1.5 3.6-2.3 7.3-2.8 11.1-0.1 1-0.3 2-0.4 3.2C382.4 196.6 344 196.6 305.3 196.6zM476.6 267.1c-0.6-0.1-0.9-0.2-1.2-0.2-9.6 0.2-19.2 0.1-28.8 0.6-6 0.3-11.8 1.7-17.4 4.1-9.9 4.3-15.7 11.5-16.7 22.4-1.2 12.7 3.7 24.7 19.1 28.9 7.8 2.1 15.8 2.3 23.7 0.5 9.3-2.1 15.7-7.6 18.7-16.8 1-3.2 1.7-6.5 2-9.8 0.4-3.7 0.4-7.5 0.5-11.2C476.6 279.5 476.6 273.4 476.6 267.1z"/><path d="M779.5 118.7c0 87.7 0 175.1 0 262.7-46.6 0-93.1 0-139.7 0 0 0-0.1-0.1-0.1-0.1-0.1-0.1-0.1-0.1-0.1-0.2 0-0.6-0.1-1.1-0.1-1.7 0-86.7 0-173.4 0.1-260.2 0-0.1 0.1-0.3 0.3-0.6C686.2 118.7 732.7 118.7 779.5 118.7z"/><path d="M639.5 83.7c0-26.7 0-53.3 0-80 1.8-0.5 137.1-0.6 139.9-0.1 0 26.7 0 53.3 0 80C777.6 84.1 642.2 84.2 639.5 83.7z"/></svg>\n          </a>\n        </li>\n      </ul>\n      <p class="separator"><span class="blue">&#9658;</span></p>\n      <h5>Conditions Générales d\'Utilisation</h5>\n      <ol class="cgu">\n        <li>\n          <h6>Éditeur</h6>\n          <p>Cette application est éditée par la Société RICARD (l’Éditeur), société anonyme au capital de 54&nbsp;000&nbsp;000&nbsp;Euros, ayant son siège social 4/6 rue Berthelot &ndash; 13014&nbsp;Marseille, immatriculée au RCS  de Marseille sous le numéro&nbsp;: B&nbsp;303&nbsp;656&nbsp;375, dans le cadre de son activité de mécénat culturel qu’est le Ricard&nbsp;S.A&nbsp;Live&nbsp;Music.</p>\n          <ul>\n            <li>N° de téléphone&nbsp;: 01.44.43.99.46</li>\n            <li>E-mail&nbsp;: clement.grau@pernod-ricard.com</li>\n            <li>Directeur de la publication&nbsp;: Philippe Savinel</li>\n          </ul>\n        </li>\n        <li>\n          <h6>Propriété intellectuelle</h6>\n          <p>Cette application et toutes les données, sons, et autres éléments ou contenus qui y sont reproduits sont protégés par les lois en vigueur au titre de la propriété intellectuelle. Toute utilisation ou reproduction d’un quelconque élément de celle-ci est strictement interdite.</p>\n        </li>\n        <li>\n          <h6>Reponsabilités</h6>\n          <p>Pour la bonne gestion de l’application, l’Éditeur  se réserve la possibilité, à tout moment, de suspendre, d\'interrompre ou de limiter sans avis préalable, l\'accès à tout ou partie de l’application, de supprimer toute information pouvant perturber le fonctionnement de l’application ou entrant en contravention avec les lois nationales, ou encore de suspendre l’application afin de procéder à des mises à jour.</p>\n          <p>La responsabilité de l’Éditeur ne peut être engagée pour tous les inconvénients ou dommages inhérents à l’utilisation du réseau Internet, notamment en cas de défaillance, panne, difficulté ou interruption de fonctionnement, empêchant l\'accès à l’application ou à l’une de ses fonctionnalités.</p>\n          <p>L\'utilisateur de l’application reconnaît que son matériel de connexion à l’application est sous son entière responsabilité et qu\'il doit prendre toutes les mesures appropriées visant à protéger ses propres données notamment d\'attaques virales par Internet.</p>\n          <p>L’Éditeur ne pourra être tenu responsable en cas de poursuites judiciaires à l\'encontre de l\'utilisateur du fait de l\'usage de l’application ou de tout service accessible via Internet.</p>\n          <p>Enfin, l\'utilisateur de l’application reconnaît qu\'il demeure responsable de tout dommage causé à lui-même, à des tiers et/ou à son équipement du fait de sa connexion ou de l\'utilisation de l’application.</p>\n        </li>\n        <li>\n          <h6>Loi applicable</h6>\n          <p>Les présentes Conditions d\'Utilisation de l’application sont régies par la loi française.</p>\n        </li>\n      </ol>\n    </div>'
}}},{}],373:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={"service:platform":'\n    <% if (!isCompatible) { %>\n      <div class="triangle triangle-upleft"></div>\n      <div class="triangle triangle-downright"></div>\n      <div class="section-top"></div>\n      <div class="section-center flex-center">\n        <div class="error"><%= errorMessage %></div>\n      </div>\n      <div class="section-bottom flex-middle footer"><div><%= img %></div></div>\n    <% } else { %>\n      <div class="triangle triangle-upleft"></div>\n      <div class="triangle triangle-downright"></div>\n      <div class="section-top flex-middle">\n        <p class="tiny"><%= intro %></p>\n      </div>\n      <div class="section-center flex-center">\n        <div class="container">\n          <ol class="instructions clearfix">\n            <li><b><%= instruction1 %></b></li>\n            <li><b><%= instruction2 %></b></li>\n            <li><b><%= instruction3 %></b></li>\n            <li><b><%= instruction4 %></b></li>\n          </ol>\n        </div>\n      </div>\n      <div class="section-bottom flex-middle">\n        <div><%= img %></div>\n      </div>\n    <% } %>\n  ',experience:'\n    <canvas class="background"></canvas>\n    <div class="foreground">\n      <div class="section-top flex-middle">\n        <p class="instructions"><%= instructions %></p>\n      </div>\n      <div class="section-center flex-center"></div>\n      <div class="section-bottom flex-middle">\n        <div><label for="toggle-overlay"><%= footer %></label></div>\n      </div>\n    </div>\n    <input type="checkbox" id="toggle-overlay"></input>\n    <div class="overlay">\n      <label for="toggle-overlay">&times;</label>\n      <div class="content-wrapper">\n        <%= credits %>\n      </div>\n    </div>\n  '}},{}],374:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{"core-js/library/fn/object/create":387,dup:44}],375:[function(e,t,n){arguments[4][45][0].apply(n,arguments)},{"core-js/library/fn/object/define-property":388,dup:45}],376:[function(e,t,n){arguments[4][46][0].apply(n,arguments)},{"core-js/library/fn/object/get-own-property-descriptor":389,dup:46}],377:[function(e,t,n){arguments[4][47][0].apply(n,arguments)},{"core-js/library/fn/object/get-prototype-of":390,dup:47}],378:[function(e,t,n){arguments[4][49][0].apply(n,arguments)},{"core-js/library/fn/object/set-prototype-of":391,dup:49}],379:[function(e,t,n){arguments[4][52][0].apply(n,arguments)},{"core-js/library/fn/symbol":392,dup:52}],380:[function(e,t,n){arguments[4][53][0].apply(n,arguments)},{"core-js/library/fn/symbol/iterator":393,dup:53}],381:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],382:[function(e,t,n){arguments[4][56][0].apply(n,arguments)},{"../core-js/object/define-property":375,dup:56}],383:[function(e,t,n){arguments[4][58][0].apply(n,arguments)},{"../core-js/object/get-own-property-descriptor":376,"../core-js/object/get-prototype-of":377,dup:58}],384:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{"../core-js/object/create":374,"../core-js/object/set-prototype-of":378,"../helpers/typeof":386,dup:59}],385:[function(e,t,n){arguments[4][60][0].apply(n,arguments)},{"../helpers/typeof":386,dup:60}],386:[function(e,t,n){arguments[4][63][0].apply(n,arguments)},{"../core-js/symbol":379,"../core-js/symbol/iterator":380,dup:63}],387:[function(e,t,n){arguments[4][69][0].apply(n,arguments)},{"../../modules/_core":399,"../../modules/es6.object.create":453,dup:69}],388:[function(e,t,n){arguments[4][70][0].apply(n,arguments)},{"../../modules/_core":399,"../../modules/es6.object.define-property":454,dup:70}],389:[function(e,t,n){arguments[4][71][0].apply(n,arguments)},{"../../modules/_core":399,"../../modules/es6.object.get-own-property-descriptor":455,dup:71}],390:[function(e,t,n){arguments[4][72][0].apply(n,arguments)},{"../../modules/_core":399,"../../modules/es6.object.get-prototype-of":456,dup:72}],391:[function(e,t,n){arguments[4][74][0].apply(n,arguments)},{"../../modules/_core":399,"../../modules/es6.object.set-prototype-of":457,dup:74}],392:[function(e,t,n){arguments[4][77][0].apply(n,arguments)},{"../../modules/_core":399,"../../modules/es6.object.to-string":458,"../../modules/es6.symbol":460,"../../modules/es7.symbol.async-iterator":461,"../../modules/es7.symbol.observable":462,dup:77}],393:[function(e,t,n){arguments[4][78][0].apply(n,arguments)},{"../../modules/_wks-ext":450,"../../modules/es6.string.iterator":459,"../../modules/web.dom.iterable":463,dup:78}],394:[function(e,t,n){arguments[4][80][0].apply(n,arguments)},{dup:80}],395:[function(e,t,n){arguments[4][81][0].apply(n,arguments)},{dup:81}],396:[function(e,t,n){arguments[4][83][0].apply(n,arguments)},{"./_is-object":415,dup:83}],397:[function(e,t,n){arguments[4][85][0].apply(n,arguments)},{"./_to-index":442,"./_to-iobject":444,"./_to-length":445,dup:85}],398:[function(e,t,n){arguments[4][90][0].apply(n,arguments)},{dup:90}],399:[function(e,t,n){arguments[4][95][0].apply(n,arguments)},{dup:95}],400:[function(e,t,n){arguments[4][97][0].apply(n,arguments)},{"./_a-function":394,dup:97}],401:[function(e,t,n){arguments[4][98][0].apply(n,arguments)},{dup:98}],402:[function(e,t,n){arguments[4][99][0].apply(n,arguments)},{"./_fails":407,dup:99}],403:[function(e,t,n){arguments[4][100][0].apply(n,arguments)},{"./_global":408,"./_is-object":415,dup:100}],404:[function(e,t,n){arguments[4][101][0].apply(n,arguments)},{dup:101}],405:[function(e,t,n){arguments[4][102][0].apply(n,arguments)},{"./_object-gops":429,"./_object-keys":432,"./_object-pie":433,dup:102}],406:[function(e,t,n){arguments[4][103][0].apply(n,arguments)},{"./_core":399,"./_ctx":400,"./_global":408,"./_hide":410,dup:103}],407:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],408:[function(e,t,n){arguments[4][106][0].apply(n,arguments)},{dup:106}],409:[function(e,t,n){arguments[4][107][0].apply(n,arguments)},{dup:107}],410:[function(e,t,n){arguments[4][108][0].apply(n,arguments)},{"./_descriptors":402,"./_object-dp":424,"./_property-desc":435,dup:108}],411:[function(e,t,n){arguments[4][109][0].apply(n,arguments)},{"./_global":408,dup:109}],412:[function(e,t,n){arguments[4][110][0].apply(n,arguments)},{"./_descriptors":402,"./_dom-create":403,"./_fails":407,dup:110}],413:[function(e,t,n){arguments[4][112][0].apply(n,arguments)},{"./_cof":398,dup:112}],414:[function(e,t,n){arguments[4][114][0].apply(n,arguments)},{"./_cof":398,dup:114}],415:[function(e,t,n){arguments[4][115][0].apply(n,arguments)},{dup:115}],416:[function(e,t,n){arguments[4][117][0].apply(n,arguments)},{"./_hide":410,"./_object-create":423,"./_property-desc":435,"./_set-to-string-tag":438,"./_wks":451,dup:117}],417:[function(e,t,n){arguments[4][118][0].apply(n,arguments)},{"./_export":406,"./_has":409,"./_hide":410,"./_iter-create":416,"./_iterators":419,"./_library":421,"./_object-gpo":430,"./_redefine":436,"./_set-to-string-tag":438,"./_wks":451,dup:118}],418:[function(e,t,n){arguments[4][120][0].apply(n,arguments)},{dup:120}],419:[function(e,t,n){arguments[4][121][0].apply(n,arguments)},{dup:121}],420:[function(e,t,n){arguments[4][122][0].apply(n,arguments)},{"./_object-keys":432,"./_to-iobject":444,dup:122}],421:[function(e,t,n){arguments[4][123][0].apply(n,arguments)},{dup:123}],422:[function(e,t,n){arguments[4][124][0].apply(n,arguments)},{"./_fails":407,"./_has":409,"./_is-object":415,"./_object-dp":424,"./_uid":448,dup:124}],423:[function(e,t,n){arguments[4][127][0].apply(n,arguments)},{"./_an-object":396,"./_dom-create":403,"./_enum-bug-keys":404,"./_html":411,"./_object-dps":425,"./_shared-key":439,dup:127}],424:[function(e,t,n){arguments[4][128][0].apply(n,arguments)},{"./_an-object":396,"./_descriptors":402,"./_ie8-dom-define":412,"./_to-primitive":447,dup:128}],425:[function(e,t,n){arguments[4][129][0].apply(n,arguments)},{"./_an-object":396,"./_descriptors":402,"./_object-dp":424,"./_object-keys":432,dup:129}],426:[function(e,t,n){arguments[4][130][0].apply(n,arguments)},{"./_descriptors":402,"./_has":409,"./_ie8-dom-define":412,"./_object-pie":433,"./_property-desc":435,"./_to-iobject":444,"./_to-primitive":447,dup:130}],427:[function(e,t,n){arguments[4][131][0].apply(n,arguments)},{"./_object-gopn":428,"./_to-iobject":444,dup:131}],428:[function(e,t,n){arguments[4][132][0].apply(n,arguments)},{"./_enum-bug-keys":404,"./_object-keys-internal":431,dup:132}],429:[function(e,t,n){arguments[4][133][0].apply(n,arguments)},{dup:133}],430:[function(e,t,n){arguments[4][134][0].apply(n,arguments)},{"./_has":409,"./_shared-key":439,"./_to-object":446,dup:134}],431:[function(e,t,n){arguments[4][135][0].apply(n,arguments)},{"./_array-includes":397,"./_has":409,"./_shared-key":439,"./_to-iobject":444,dup:135}],432:[function(e,t,n){arguments[4][136][0].apply(n,arguments)},{"./_enum-bug-keys":404,"./_object-keys-internal":431,dup:136}],433:[function(e,t,n){arguments[4][137][0].apply(n,arguments)},{dup:137}],434:[function(e,t,n){arguments[4][138][0].apply(n,arguments)},{"./_core":399,"./_export":406,"./_fails":407,dup:138}],435:[function(e,t,n){arguments[4][139][0].apply(n,arguments)},{dup:139}],436:[function(e,t,n){arguments[4][141][0].apply(n,arguments)},{"./_hide":410,dup:141}],437:[function(e,t,n){arguments[4][142][0].apply(n,arguments)},{"./_an-object":396,"./_ctx":400,"./_is-object":415,"./_object-gopd":426,dup:142}],438:[function(e,t,n){arguments[4][144][0].apply(n,arguments)},{"./_has":409,"./_object-dp":424,"./_wks":451,dup:144}],439:[function(e,t,n){arguments[4][145][0].apply(n,arguments)},{"./_shared":440,"./_uid":448,dup:145}],440:[function(e,t,n){arguments[4][146][0].apply(n,arguments)},{"./_global":408,dup:146}],441:[function(e,t,n){arguments[4][148][0].apply(n,arguments)},{"./_defined":401,"./_to-integer":443,dup:148}],442:[function(e,t,n){arguments[4][150][0].apply(n,arguments)},{"./_to-integer":443,dup:150}],443:[function(e,t,n){arguments[4][151][0].apply(n,arguments)},{dup:151}],444:[function(e,t,n){arguments[4][152][0].apply(n,arguments)},{"./_defined":401,"./_iobject":413,dup:152}],445:[function(e,t,n){arguments[4][153][0].apply(n,arguments)},{"./_to-integer":443,dup:153}],446:[function(e,t,n){arguments[4][154][0].apply(n,arguments)},{"./_defined":401,dup:154}],447:[function(e,t,n){arguments[4][155][0].apply(n,arguments)},{"./_is-object":415,dup:155}],448:[function(e,t,n){arguments[4][156][0].apply(n,arguments)},{dup:156}],449:[function(e,t,n){arguments[4][157][0].apply(n,arguments)},{"./_core":399,"./_global":408,"./_library":421,"./_object-dp":424,"./_wks-ext":450,dup:157}],450:[function(e,t,n){arguments[4][158][0].apply(n,arguments)},{"./_wks":451,dup:158}],451:[function(e,t,n){arguments[4][159][0].apply(n,arguments)},{"./_global":408,"./_shared":440,"./_uid":448,dup:159}],452:[function(e,t,n){arguments[4][164][0].apply(n,arguments)},{"./_add-to-unscopables":395,"./_iter-define":417,"./_iter-step":418,"./_iterators":419,"./_to-iobject":444,dup:164}],453:[function(e,t,n){arguments[4][167][0].apply(n,arguments)},{"./_export":406,"./_object-create":423,dup:167}],454:[function(e,t,n){arguments[4][168][0].apply(n,arguments)},{"./_descriptors":402,"./_export":406,"./_object-dp":424,dup:168}],455:[function(e,t,n){arguments[4][169][0].apply(n,arguments)},{"./_object-gopd":426,"./_object-sap":434,"./_to-iobject":444,dup:169}],456:[function(e,t,n){arguments[4][170][0].apply(n,arguments)},{"./_object-gpo":430,"./_object-sap":434,"./_to-object":446,dup:170}],457:[function(e,t,n){arguments[4][172][0].apply(n,arguments)},{"./_export":406,"./_set-proto":437,dup:172}],458:[function(e,t,n){arguments[4][173][0].apply(n,arguments)},{dup:173}],459:[function(e,t,n){arguments[4][176][0].apply(n,arguments)},{"./_iter-define":417,"./_string-at":441,dup:176}],460:[function(e,t,n){arguments[4][177][0].apply(n,arguments)},{"./_an-object":396,"./_descriptors":402,"./_enum-keys":405,"./_export":406,"./_fails":407,"./_global":408,"./_has":409,"./_hide":410,"./_is-array":414,"./_keyof":420,"./_library":421,"./_meta":422,"./_object-create":423,"./_object-dp":424,"./_object-gopd":426,"./_object-gopn":428,"./_object-gopn-ext":427,"./_object-gops":429,"./_object-keys":432,"./_object-pie":433,"./_property-desc":435,"./_redefine":436,"./_set-to-string-tag":438,"./_shared":440,"./_to-iobject":444,"./_to-primitive":447,"./_uid":448,"./_wks":451,"./_wks-define":449,"./_wks-ext":450,dup:177}],461:[function(e,t,n){arguments[4][181][0].apply(n,arguments)},{"./_wks-define":449,dup:181}],462:[function(e,t,n){arguments[4][182][0].apply(n,arguments)},{"./_wks-define":449,dup:182}],463:[function(e,t,n){arguments[4][183][0].apply(n,arguments)},{"./_global":408,"./_hide":410,"./_iterators":419,"./_wks":451,"./es6.array.iterator":452,dup:183}],464:[function(e,t,n){arguments[4][173][0].apply(n,arguments)},{dup:173}],465:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}]},{},[371]);
